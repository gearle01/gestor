(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(l){if(l.ep)return;l.ep=!0;const u=i(l);fetch(l.href,u)}})();var qd={exports:{}},Dl={};var Z_;function Kb(){if(Z_)return Dl;Z_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,l,u){var d=null;if(u!==void 0&&(d=""+u),l.key!==void 0&&(d=""+l.key),"key"in l){u={};for(var p in l)p!=="key"&&(u[p]=l[p])}else u=l;return l=u.ref,{$$typeof:s,type:r,key:d,ref:l!==void 0?l:null,props:u}}return Dl.Fragment=e,Dl.jsx=i,Dl.jsxs=i,Dl}var J_;function Yb(){return J_||(J_=1,qd.exports=Kb()),qd.exports}var b=Yb(),Bd={exports:{}},Ae={};var W_;function Xb(){if(W_)return Ae;W_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),D=Symbol.iterator;function z(M){return M===null||typeof M!="object"?null:(M=D&&M[D]||M["@@iterator"],typeof M=="function"?M:null)}var F={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,ee={};function ue(M,X,se){this.props=M,this.context=X,this.refs=ee,this.updater=se||F}ue.prototype.isReactComponent={},ue.prototype.setState=function(M,X){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,X,"setState")},ue.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function ge(){}ge.prototype=ue.prototype;function te(M,X,se){this.props=M,this.context=X,this.refs=ee,this.updater=se||F}var W=te.prototype=new ge;W.constructor=te,$(W,ue.prototype),W.isPureReactComponent=!0;var he=Array.isArray;function Ee(){}var R={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function C(M,X,se){var oe=se.ref;return{$$typeof:s,type:M,key:X,ref:oe!==void 0?oe:null,props:se}}function V(M,X){return C(M.type,X,M.props)}function N(M){return typeof M=="object"&&M!==null&&M.$$typeof===s}function P(M){var X={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(se){return X[se]})}var I=/\/+/g;function rt(M,X){return typeof M=="object"&&M!==null&&M.key!=null?P(""+M.key):X.toString(36)}function Dt(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(Ee,Ee):(M.status="pending",M.then(function(X){M.status==="pending"&&(M.status="fulfilled",M.value=X)},function(X){M.status==="pending"&&(M.status="rejected",M.reason=X)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function Q(M,X,se,oe,Te){var Ce=typeof M;(Ce==="undefined"||Ce==="boolean")&&(M=null);var Le=!1;if(M===null)Le=!0;else switch(Ce){case"bigint":case"string":case"number":Le=!0;break;case"object":switch(M.$$typeof){case s:case e:Le=!0;break;case T:return Le=M._init,Q(Le(M._payload),X,se,oe,Te)}}if(Le)return Te=Te(M),Le=oe===""?"."+rt(M,0):oe,he(Te)?(se="",Le!=null&&(se=Le.replace(I,"$&/")+"/"),Q(Te,X,se,"",function(dr){return dr})):Te!=null&&(N(Te)&&(Te=V(Te,se+(Te.key==null||M&&M.key===Te.key?"":(""+Te.key).replace(I,"$&/")+"/")+Le)),X.push(Te)),1;Le=0;var Ot=oe===""?".":oe+":";if(he(M))for(var at=0;at<M.length;at++)oe=M[at],Ce=Ot+rt(oe,at),Le+=Q(oe,X,se,Ce,Te);else if(at=z(M),typeof at=="function")for(M=at.call(M),at=0;!(oe=M.next()).done;)oe=oe.value,Ce=Ot+rt(oe,at++),Le+=Q(oe,X,se,Ce,Te);else if(Ce==="object"){if(typeof M.then=="function")return Q(Dt(M),X,se,oe,Te);throw X=String(M),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return Le}function ie(M,X,se){if(M==null)return M;var oe=[],Te=0;return Q(M,oe,"","",function(Ce){return X.call(se,Ce,Te++)}),oe}function pe(M){if(M._status===-1){var X=M._result;X=X(),X.then(function(se){(M._status===0||M._status===-1)&&(M._status=1,M._result=se)},function(se){(M._status===0||M._status===-1)&&(M._status=2,M._result=se)}),M._status===-1&&(M._status=0,M._result=X)}if(M._status===1)return M._result.default;throw M._result}var je=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Ge={map:ie,forEach:function(M,X,se){ie(M,function(){X.apply(this,arguments)},se)},count:function(M){var X=0;return ie(M,function(){X++}),X},toArray:function(M){return ie(M,function(X){return X})||[]},only:function(M){if(!N(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Ae.Activity=A,Ae.Children=Ge,Ae.Component=ue,Ae.Fragment=i,Ae.Profiler=l,Ae.PureComponent=te,Ae.StrictMode=r,Ae.Suspense=g,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(M){return R.H.useMemoCache(M)}},Ae.cache=function(M){return function(){return M.apply(null,arguments)}},Ae.cacheSignal=function(){return null},Ae.cloneElement=function(M,X,se){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var oe=$({},M.props),Te=M.key;if(X!=null)for(Ce in X.key!==void 0&&(Te=""+X.key),X)!w.call(X,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&X.ref===void 0||(oe[Ce]=X[Ce]);var Ce=arguments.length-2;if(Ce===1)oe.children=se;else if(1<Ce){for(var Le=Array(Ce),Ot=0;Ot<Ce;Ot++)Le[Ot]=arguments[Ot+2];oe.children=Le}return C(M.type,Te,oe)},Ae.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},Ae.createElement=function(M,X,se){var oe,Te={},Ce=null;if(X!=null)for(oe in X.key!==void 0&&(Ce=""+X.key),X)w.call(X,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(Te[oe]=X[oe]);var Le=arguments.length-2;if(Le===1)Te.children=se;else if(1<Le){for(var Ot=Array(Le),at=0;at<Le;at++)Ot[at]=arguments[at+2];Te.children=Ot}if(M&&M.defaultProps)for(oe in Le=M.defaultProps,Le)Te[oe]===void 0&&(Te[oe]=Le[oe]);return C(M,Ce,Te)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(M){return{$$typeof:p,render:M}},Ae.isValidElement=N,Ae.lazy=function(M){return{$$typeof:T,_payload:{_status:-1,_result:M},_init:pe}},Ae.memo=function(M,X){return{$$typeof:_,type:M,compare:X===void 0?null:X}},Ae.startTransition=function(M){var X=R.T,se={};R.T=se;try{var oe=M(),Te=R.S;Te!==null&&Te(se,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(Ee,je)}catch(Ce){je(Ce)}finally{X!==null&&se.types!==null&&(X.types=se.types),R.T=X}},Ae.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Ae.use=function(M){return R.H.use(M)},Ae.useActionState=function(M,X,se){return R.H.useActionState(M,X,se)},Ae.useCallback=function(M,X){return R.H.useCallback(M,X)},Ae.useContext=function(M){return R.H.useContext(M)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(M,X){return R.H.useDeferredValue(M,X)},Ae.useEffect=function(M,X){return R.H.useEffect(M,X)},Ae.useEffectEvent=function(M){return R.H.useEffectEvent(M)},Ae.useId=function(){return R.H.useId()},Ae.useImperativeHandle=function(M,X,se){return R.H.useImperativeHandle(M,X,se)},Ae.useInsertionEffect=function(M,X){return R.H.useInsertionEffect(M,X)},Ae.useLayoutEffect=function(M,X){return R.H.useLayoutEffect(M,X)},Ae.useMemo=function(M,X){return R.H.useMemo(M,X)},Ae.useOptimistic=function(M,X){return R.H.useOptimistic(M,X)},Ae.useReducer=function(M,X,se){return R.H.useReducer(M,X,se)},Ae.useRef=function(M){return R.H.useRef(M)},Ae.useState=function(M){return R.H.useState(M)},Ae.useSyncExternalStore=function(M,X,se){return R.H.useSyncExternalStore(M,X,se)},Ae.useTransition=function(){return R.H.useTransition()},Ae.version="19.2.0",Ae}var ev;function Mm(){return ev||(ev=1,Bd.exports=Xb()),Bd.exports}var me=Mm(),Hd={exports:{}},Ol={},Fd={exports:{}},Gd={};var tv;function $b(){return tv||(tv=1,(function(s){function e(Q,ie){var pe=Q.length;Q.push(ie);e:for(;0<pe;){var je=pe-1>>>1,Ge=Q[je];if(0<l(Ge,ie))Q[je]=ie,Q[pe]=Ge,pe=je;else break e}}function i(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var ie=Q[0],pe=Q.pop();if(pe!==ie){Q[0]=pe;e:for(var je=0,Ge=Q.length,M=Ge>>>1;je<M;){var X=2*(je+1)-1,se=Q[X],oe=X+1,Te=Q[oe];if(0>l(se,pe))oe<Ge&&0>l(Te,se)?(Q[je]=Te,Q[oe]=pe,je=oe):(Q[je]=se,Q[X]=pe,je=X);else if(oe<Ge&&0>l(Te,pe))Q[je]=Te,Q[oe]=pe,je=oe;else break e}}return ie}function l(Q,ie){var pe=Q.sortIndex-ie.sortIndex;return pe!==0?pe:Q.id-ie.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var g=[],_=[],T=1,A=null,D=3,z=!1,F=!1,$=!1,ee=!1,ue=typeof setTimeout=="function"?setTimeout:null,ge=typeof clearTimeout=="function"?clearTimeout:null,te=typeof setImmediate<"u"?setImmediate:null;function W(Q){for(var ie=i(_);ie!==null;){if(ie.callback===null)r(_);else if(ie.startTime<=Q)r(_),ie.sortIndex=ie.expirationTime,e(g,ie);else break;ie=i(_)}}function he(Q){if($=!1,W(Q),!F)if(i(g)!==null)F=!0,Ee||(Ee=!0,P());else{var ie=i(_);ie!==null&&Dt(he,ie.startTime-Q)}}var Ee=!1,R=-1,w=5,C=-1;function V(){return ee?!0:!(s.unstable_now()-C<w)}function N(){if(ee=!1,Ee){var Q=s.unstable_now();C=Q;var ie=!0;try{e:{F=!1,$&&($=!1,ge(R),R=-1),z=!0;var pe=D;try{t:{for(W(Q),A=i(g);A!==null&&!(A.expirationTime>Q&&V());){var je=A.callback;if(typeof je=="function"){A.callback=null,D=A.priorityLevel;var Ge=je(A.expirationTime<=Q);if(Q=s.unstable_now(),typeof Ge=="function"){A.callback=Ge,W(Q),ie=!0;break t}A===i(g)&&r(g),W(Q)}else r(g);A=i(g)}if(A!==null)ie=!0;else{var M=i(_);M!==null&&Dt(he,M.startTime-Q),ie=!1}}break e}finally{A=null,D=pe,z=!1}ie=void 0}}finally{ie?P():Ee=!1}}}var P;if(typeof te=="function")P=function(){te(N)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,rt=I.port2;I.port1.onmessage=N,P=function(){rt.postMessage(null)}}else P=function(){ue(N,0)};function Dt(Q,ie){R=ue(function(){Q(s.unstable_now())},ie)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(Q){Q.callback=null},s.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<Q?Math.floor(1e3/Q):5},s.unstable_getCurrentPriorityLevel=function(){return D},s.unstable_next=function(Q){switch(D){case 1:case 2:case 3:var ie=3;break;default:ie=D}var pe=D;D=ie;try{return Q()}finally{D=pe}},s.unstable_requestPaint=function(){ee=!0},s.unstable_runWithPriority=function(Q,ie){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var pe=D;D=Q;try{return ie()}finally{D=pe}},s.unstable_scheduleCallback=function(Q,ie,pe){var je=s.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?je+pe:je):pe=je,Q){case 1:var Ge=-1;break;case 2:Ge=250;break;case 5:Ge=1073741823;break;case 4:Ge=1e4;break;default:Ge=5e3}return Ge=pe+Ge,Q={id:T++,callback:ie,priorityLevel:Q,startTime:pe,expirationTime:Ge,sortIndex:-1},pe>je?(Q.sortIndex=pe,e(_,Q),i(g)===null&&Q===i(_)&&($?(ge(R),R=-1):$=!0,Dt(he,pe-je))):(Q.sortIndex=Ge,e(g,Q),F||z||(F=!0,Ee||(Ee=!0,P()))),Q},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(Q){var ie=D;return function(){var pe=D;D=ie;try{return Q.apply(this,arguments)}finally{D=pe}}}})(Gd)),Gd}var nv;function Zb(){return nv||(nv=1,Fd.exports=$b()),Fd.exports}var Qd={exports:{}},Zt={};var iv;function Jb(){if(iv)return Zt;iv=1;var s=Mm();function e(g){var _="https://react.dev/errors/"+g;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)_+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+g+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(g,_,T){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:g,containerInfo:_,implementation:T}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,_){if(g==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Zt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Zt.createPortal=function(g,_){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return u(g,_,null,T)},Zt.flushSync=function(g){var _=d.T,T=r.p;try{if(d.T=null,r.p=2,g)return g()}finally{d.T=_,r.p=T,r.d.f()}},Zt.preconnect=function(g,_){typeof g=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(g,_))},Zt.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},Zt.preinit=function(g,_){if(typeof g=="string"&&_&&typeof _.as=="string"){var T=_.as,A=p(T,_.crossOrigin),D=typeof _.integrity=="string"?_.integrity:void 0,z=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;T==="style"?r.d.S(g,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:A,integrity:D,fetchPriority:z}):T==="script"&&r.d.X(g,{crossOrigin:A,integrity:D,fetchPriority:z,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Zt.preinitModule=function(g,_){if(typeof g=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var T=p(_.as,_.crossOrigin);r.d.M(g,{crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(g)},Zt.preload=function(g,_){if(typeof g=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var T=_.as,A=p(T,_.crossOrigin);r.d.L(g,T,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Zt.preloadModule=function(g,_){if(typeof g=="string")if(_){var T=p(_.as,_.crossOrigin);r.d.m(g,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(g)},Zt.requestFormReset=function(g){r.d.r(g)},Zt.unstable_batchedUpdates=function(g,_){return g(_)},Zt.useFormState=function(g,_,T){return d.H.useFormState(g,_,T)},Zt.useFormStatus=function(){return d.H.useHostTransitionStatus()},Zt.version="19.2.0",Zt}var sv;function Wb(){if(sv)return Qd.exports;sv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Qd.exports=Jb(),Qd.exports}var rv;function eA(){if(rv)return Ol;rv=1;var s=Zb(),e=Mm(),i=Wb();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(r(188))}function _(t){var n=t.alternate;if(!n){if(n=u(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,o=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return g(h),t;if(f===o)return g(h),n;f=f.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=f;else{for(var y=!1,E=h.child;E;){if(E===a){y=!0,a=h,o=f;break}if(E===o){y=!0,o=h,a=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===a){y=!0,a=f,o=h;break}if(E===o){y=!0,o=f,a=h;break}E=E.sibling}if(!y)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function T(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=T(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,D=Symbol.for("react.element"),z=Symbol.for("react.transitional.element"),F=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),ee=Symbol.for("react.strict_mode"),ue=Symbol.for("react.profiler"),ge=Symbol.for("react.consumer"),te=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),he=Symbol.for("react.suspense"),Ee=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function P(t){return t===null||typeof t!="object"?null:(t=N&&t[N]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function rt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $:return"Fragment";case ue:return"Profiler";case ee:return"StrictMode";case he:return"Suspense";case Ee:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case F:return"Portal";case te:return t.displayName||"Context";case ge:return(t._context.displayName||"Context")+".Consumer";case W:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case R:return n=t.displayName||null,n!==null?n:rt(t.type)||"Memo";case w:n=t._payload,t=t._init;try{return rt(t(n))}catch{}}return null}var Dt=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},je=[],Ge=-1;function M(t){return{current:t}}function X(t){0>Ge||(t.current=je[Ge],je[Ge]=null,Ge--)}function se(t,n){Ge++,je[Ge]=t.current,t.current=n}var oe=M(null),Te=M(null),Ce=M(null),Le=M(null);function Ot(t,n){switch(se(Ce,n),se(Te,t),se(oe,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?E_(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=E_(n),t=T_(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}X(oe),se(oe,t)}function at(){X(oe),X(Te),X(Ce)}function dr(t){t.memoizedState!==null&&se(Le,t);var n=oe.current,a=T_(n,t.type);n!==a&&(se(Te,t),se(oe,a))}function oa(t){Te.current===t&&(X(oe),X(Te)),Le.current===t&&(X(Le),Cl._currentValue=pe)}var la,ua;function li(t){if(la===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);la=n&&n[1]||"",ua=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+la+t+ua}var Co=!1;function mr(t,n){if(!t||Co)return"";Co=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(H){var q=H}Reflect.construct(t,[],Y)}else{try{Y.call()}catch(H){q=H}t.call(Y.prototype)}}else{try{throw Error()}catch(H){q=H}(Y=t())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(H){if(H&&q&&typeof H.stack=="string")return[H.stack,q.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var x=y.split(`
`),j=E.split(`
`);for(h=o=0;o<x.length&&!x[o].includes("DetermineComponentFrameRoot");)o++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(o===x.length||h===j.length)for(o=x.length-1,h=j.length-1;1<=o&&0<=h&&x[o]!==j[h];)h--;for(;1<=o&&0<=h;o--,h--)if(x[o]!==j[h]){if(o!==1||h!==1)do if(o--,h--,0>h||x[o]!==j[h]){var G=`
`+x[o].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=o&&0<=h);break}}}finally{Co=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?li(a):""}function Io(t,n){switch(t.tag){case 26:case 27:case 5:return li(t.type);case 16:return li("Lazy");case 13:return t.child!==n&&n!==null?li("Suspense Fallback"):li("Suspense");case 19:return li("SuspenseList");case 0:case 15:return mr(t.type,!1);case 11:return mr(t.type.render,!1);case 1:return mr(t.type,!0);case 31:return li("Activity");default:return""}}function xo(t){try{var n="",a=null;do n+=Io(t,a),a=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var _t=Object.prototype.hasOwnProperty,Mt=s.unstable_scheduleCallback,ms=s.unstable_cancelCallback,Bh=s.unstable_shouldYield,du=s.unstable_requestPaint,sn=s.unstable_now,pr=s.unstable_getCurrentPriorityLevel,No=s.unstable_ImmediatePriority,Do=s.unstable_UserBlockingPriority,ps=s.unstable_NormalPriority,Hh=s.unstable_LowPriority,mu=s.unstable_IdlePriority,pu=s.log,gu=s.unstable_setDisableYieldValue,qn=null,qt=null;function wn(t){if(typeof pu=="function"&&gu(t),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(qn,t)}catch{}}var dt=Math.clz32?Math.clz32:_u,yu=Math.log,ca=Math.LN2;function _u(t){return t>>>=0,t===0?32:31-(yu(t)/ca|0)|0}var ui=256,gr=262144,vt=4194304;function ci(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function hi(t,n,a){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=ci(o):(y&=E,y!==0?h=ci(y):a||(a=E&~t,a!==0&&(h=ci(a))))):(E=o&~f,E!==0?h=ci(E):y!==0?h=ci(y):a||(a=o&~t,a!==0&&(h=ci(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function Bn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Fh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vu(){var t=vt;return vt<<=1,(vt&62914560)===0&&(vt=4194304),t}function fi(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function yr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Gh(t,n,a,o,h,f){var y=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,x=t.expirationTimes,j=t.hiddenUpdates;for(a=y&~a;0<a;){var G=31-dt(a),Y=1<<G;E[G]=0,x[G]=-1;var q=j[G];if(q!==null)for(j[G]=null,G=0;G<q.length;G++){var H=q[G];H!==null&&(H.lane&=-536870913)}a&=~Y}o!==0&&_r(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function _r(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-dt(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function Oo(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var o=31-dt(a),h=1<<o;h&n|t[o]&n&&(t[o]|=n),a&=~h}}function Mo(t,n){var a=n&-n;return a=(a&42)!==0?1:vr(a),(a&(t.suspendedLanes|n))!==0?0:a}function vr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ji(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Eu(){var t=ie.p;return t!==0?t:(t=window.event,t===void 0?32:F_(t.type))}function Hn(t,n){var a=ie.p;try{return ie.p=t,n()}finally{ie.p=a}}var Fn=Math.random().toString(36).slice(2),Et="__reactFiber$"+Fn,Pt="__reactProps$"+Fn,di="__reactContainer$"+Fn,ha="__reactEvents$"+Fn,Qh="__reactListeners$"+Fn,Tu="__reactHandles$"+Fn,bu="__reactResources$"+Fn,mi="__reactMarker$"+Fn;function fa(t){delete t[Et],delete t[Pt],delete t[ha],delete t[Qh],delete t[Tu]}function pi(t){var n=t[Et];if(n)return n;for(var a=t.parentNode;a;){if(n=a[di]||a[Et]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=I_(t);t!==null;){if(a=t[Et])return a;t=I_(t)}return n}t=a,a=t.parentNode}return null}function Rn(t){if(t=t[Et]||t[di]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function pn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function gi(t){var n=t[bu];return n||(n=t[bu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Tt(t){t[mi]=!0}var Vo=new Set,ko={};function yi(t,n){_i(t,n),_i(t+"Capture",n)}function _i(t,n){for(ko[t]=n,t=0;t<n.length;t++)Vo.add(n[t])}var Po=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Lo={},Uo={};function Au(t){return _t.call(Uo,t)?!0:_t.call(Lo,t)?!1:Po.test(t)?Uo[t]=!0:(Lo[t]=!0,!1)}function da(t,n,a){if(Au(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function gn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function bt(t,n,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+o)}}function Lt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function gs(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function jo(t,n,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(y){a=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(y){a=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Qe(t){if(!t._valueTracker){var n=gs(t)?"checked":"value";t._valueTracker=jo(t,n,""+t[n])}}function Er(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return t&&(o=gs(t)?t.checked?"true":"false":t.value),t=o,t!==a?(n.setValue(t),!0):!1}function vi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Tr=/[\n"\\]/g;function on(t){return t.replace(Tr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ma(t,n,a,o,h,f,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Lt(n)):t.value!==""+Lt(n)&&(t.value=""+Lt(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?zo(t,y,Lt(n)):a!=null?zo(t,y,Lt(a)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Lt(E):t.removeAttribute("name")}function Su(t,n,a,o,h,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Qe(t);return}a=a!=null?""+Lt(a):"",n=n!=null?""+Lt(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=E?t.checked:!!o,t.defaultChecked=!!o,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y),Qe(t)}function zo(t,n,a){n==="number"&&vi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function ys(t,n,a,o){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&o&&(t[a].defaultSelected=!0)}else{for(a=""+Lt(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function wu(t,n,a){if(n!=null&&(n=""+Lt(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Lt(a):""}function _s(t,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(r(92));if(Dt(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=Lt(n),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),Qe(t)}function ln(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Ru=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qo(t,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,a):typeof a!="number"||a===0||Ru.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Bo(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&qo(t,h,o)}else for(var f in n)n.hasOwnProperty(f)&&qo(t,f,n[f])}function pa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ga(t){return vs.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Gn(){}var Ho=null;function Cn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Es=null,Ei=null;function br(t){var n=Rn(t);if(n&&(t=n.stateNode)){var a=t[Pt]||null;e:switch(t=n.stateNode,n.type){case"input":if(ma(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+on(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==t&&o.form===t.form){var h=o[Pt]||null;if(!h)throw Error(r(90));ma(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===t.form&&Er(o)}break e;case"textarea":wu(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&ys(t,!!a.multiple,n,!1)}}}var ya=!1;function Ts(t,n,a){if(ya)return t(n,a);ya=!0;try{var o=t(n);return o}finally{if(ya=!1,(Es!==null||Ei!==null)&&(Ec(),Es&&(n=Es,t=Ei,Ei=Es=null,br(n),t)))for(n=0;n<t.length;n++)br(t[n])}}function Qn(t,n){var a=t.stateNode;if(a===null)return null;var o=a[Pt]||null;if(o===null)return null;a=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var In=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ar=!1;if(In)try{var Xe={};Object.defineProperty(Xe,"passive",{get:function(){Ar=!0}}),window.addEventListener("test",Xe,Xe),window.removeEventListener("test",Xe,Xe)}catch{Ar=!1}var Ti=null,Fo=null,Sr=null;function Go(){if(Sr)return Sr;var t,n=Fo,a=n.length,o,h="value"in Ti?Ti.value:Ti.textContent,f=h.length;for(t=0;t<a&&n[t]===h[t];t++);var y=a-t;for(o=1;o<=y&&n[a-o]===h[f-o];o++);return Sr=h.slice(t,1<o?1-o:void 0)}function wr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function zi(){return!0}function Kn(){return!1}function Bt(t){function n(a,o,h,f,y){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?zi:Kn,this.isPropagationStopped=Kn,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=zi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=zi)},persist:function(){},isPersistent:zi}),n}var qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bi=Bt(qi),bs=A({},qi,{view:0,detail:0}),Qo=Bt(bs),As,_a,Ai,va=A({},bs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ss,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ai&&(Ai&&t.type==="mousemove"?(As=t.screenX-Ai.screenX,_a=t.screenY-Ai.screenY):_a=As=0,Ai=t),As)},movementY:function(t){return"movementY"in t?t.movementY:_a}}),Ko=Bt(va),Rr=A({},va,{dataTransfer:0}),Iu=Bt(Rr),xu=A({},bs,{relatedTarget:0}),Cr=Bt(xu),Yo=A({},qi,{animationName:0,elapsedTime:0,pseudoElement:0}),Nu=Bt(Yo),Ea=A({},qi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Du=Bt(Ea),Ou=A({},qi,{data:0}),Si=Bt(Ou),Mu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ku={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=ku[t])?!!n[t]:!1}function Ss(){return Pu}var rn=A({},bs,{key:function(t){if(t.key){var n=Mu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=wr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Vu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ss,charCode:function(t){return t.type==="keypress"?wr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?wr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Lu=Bt(rn),Uu=A({},va,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bi=Bt(Uu),c=A({},bs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ss}),m=Bt(c),v=A({},qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=Bt(v),L=A({},va,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Bt(L),ne=A({},qi,{newState:0,oldState:0}),we=Bt(ne),mt=[9,13,27,32],Be=In&&"CompositionEvent"in window,ot=null;In&&"documentMode"in document&&(ot=document.documentMode);var xn=In&&"TextEvent"in window&&!ot,wi=In&&(!Be||ot&&8<ot&&11>=ot),Yn=" ",Xn=!1;function Ir(t,n){switch(t){case"keyup":return mt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ta(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ba=!1;function y1(t,n){switch(t){case"compositionend":return Ta(n);case"keypress":return n.which!==32?null:(Xn=!0,Yn);case"textInput":return t=n.data,t===Yn&&Xn?null:t;default:return null}}function _1(t,n){if(ba)return t==="compositionend"||!Be&&Ir(t,n)?(t=Go(),Sr=Fo=Ti=null,ba=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return wi&&n.locale!=="ko"?null:n.data;default:return null}}var v1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dp(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!v1[t.type]:n==="textarea"}function Op(t,n,a,o){Es?Ei?Ei.push(o):Ei=[o]:Es=o,n=Cc(n,"onChange"),0<n.length&&(a=new bi("onChange","change",null,a,o),t.push({event:a,listeners:n}))}var Xo=null,$o=null;function E1(t){m_(t,0)}function ju(t){var n=pn(t);if(Er(n))return t}function Mp(t,n){if(t==="change")return n}var Vp=!1;if(In){var Kh;if(In){var Yh="oninput"in document;if(!Yh){var kp=document.createElement("div");kp.setAttribute("oninput","return;"),Yh=typeof kp.oninput=="function"}Kh=Yh}else Kh=!1;Vp=Kh&&(!document.documentMode||9<document.documentMode)}function Pp(){Xo&&(Xo.detachEvent("onpropertychange",Lp),$o=Xo=null)}function Lp(t){if(t.propertyName==="value"&&ju($o)){var n=[];Op(n,$o,t,Cn(t)),Ts(E1,n)}}function T1(t,n,a){t==="focusin"?(Pp(),Xo=n,$o=a,Xo.attachEvent("onpropertychange",Lp)):t==="focusout"&&Pp()}function b1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ju($o)}function A1(t,n){if(t==="click")return ju(n)}function S1(t,n){if(t==="input"||t==="change")return ju(n)}function w1(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var yn=typeof Object.is=="function"?Object.is:w1;function Zo(t,n){if(yn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!_t.call(n,h)||!yn(t[h],n[h]))return!1}return!0}function Up(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function jp(t,n){var a=Up(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=n&&o>=n)return{node:a,offset:n-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Up(a)}}function zp(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?zp(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function qp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=vi(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=vi(t.document)}return n}function Xh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var R1=In&&"documentMode"in document&&11>=document.documentMode,Aa=null,$h=null,Jo=null,Zh=!1;function Bp(t,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Zh||Aa==null||Aa!==vi(o)||(o=Aa,"selectionStart"in o&&Xh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Jo&&Zo(Jo,o)||(Jo=o,o=Cc($h,"onSelect"),0<o.length&&(n=new bi("onSelect","select",null,n,a),t.push({event:n,listeners:o}),n.target=Aa)))}function xr(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Sa={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionrun:xr("Transition","TransitionRun"),transitionstart:xr("Transition","TransitionStart"),transitioncancel:xr("Transition","TransitionCancel"),transitionend:xr("Transition","TransitionEnd")},Jh={},Hp={};In&&(Hp=document.createElement("div").style,"AnimationEvent"in window||(delete Sa.animationend.animation,delete Sa.animationiteration.animation,delete Sa.animationstart.animation),"TransitionEvent"in window||delete Sa.transitionend.transition);function Nr(t){if(Jh[t])return Jh[t];if(!Sa[t])return t;var n=Sa[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Hp)return Jh[t]=n[a];return t}var Fp=Nr("animationend"),Gp=Nr("animationiteration"),Qp=Nr("animationstart"),C1=Nr("transitionrun"),I1=Nr("transitionstart"),x1=Nr("transitioncancel"),Kp=Nr("transitionend"),Yp=new Map,Wh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Wh.push("scrollEnd");function $n(t,n){Yp.set(t,n),yi(n,[t])}var zu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Nn=[],wa=0,ef=0;function qu(){for(var t=wa,n=ef=wa=0;n<t;){var a=Nn[n];Nn[n++]=null;var o=Nn[n];Nn[n++]=null;var h=Nn[n];Nn[n++]=null;var f=Nn[n];if(Nn[n++]=null,o!==null&&h!==null){var y=o.pending;y===null?h.next=h:(h.next=y.next,y.next=h),o.pending=h}f!==0&&Xp(a,h,f)}}function Bu(t,n,a,o){Nn[wa++]=t,Nn[wa++]=n,Nn[wa++]=a,Nn[wa++]=o,ef|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function tf(t,n,a,o){return Bu(t,n,a,o),Hu(t)}function Dr(t,n){return Bu(t,null,null,n),Hu(t)}function Xp(t,n,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-dt(a),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=a|536870912),f):null}function Hu(t){if(50<El)throw El=0,hd=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ra={};function N1(t,n,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(t,n,a,o){return new N1(t,n,a,o)}function nf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Hi(t,n){var a=t.alternate;return a===null?(a=_n(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function $p(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Fu(t,n,a,o,h,f){var y=0;if(o=t,typeof t=="function")nf(t)&&(y=1);else if(typeof t=="string")y=kb(t,a,oe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=_n(31,a,n,h),t.elementType=C,t.lanes=f,t;case $:return Or(a.children,h,f,n);case ee:y=8,h|=24;break;case ue:return t=_n(12,a,n,h|2),t.elementType=ue,t.lanes=f,t;case he:return t=_n(13,a,n,h),t.elementType=he,t.lanes=f,t;case Ee:return t=_n(19,a,n,h),t.elementType=Ee,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case te:y=10;break e;case ge:y=9;break e;case W:y=11;break e;case R:y=14;break e;case w:y=16,o=null;break e}y=29,a=Error(r(130,t===null?"null":typeof t,"")),o=null}return n=_n(y,a,n,h),n.elementType=t,n.type=o,n.lanes=f,n}function Or(t,n,a,o){return t=_n(7,t,o,n),t.lanes=a,t}function sf(t,n,a){return t=_n(6,t,null,n),t.lanes=a,t}function Zp(t){var n=_n(18,null,null,0);return n.stateNode=t,n}function rf(t,n,a){return n=_n(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Jp=new WeakMap;function Dn(t,n){if(typeof t=="object"&&t!==null){var a=Jp.get(t);return a!==void 0?a:(n={value:t,source:n,stack:xo(n)},Jp.set(t,n),n)}return{value:t,source:n,stack:xo(n)}}var Ca=[],Ia=0,Gu=null,Wo=0,On=[],Mn=0,ws=null,Ri=1,Ci="";function Fi(t,n){Ca[Ia++]=Wo,Ca[Ia++]=Gu,Gu=t,Wo=n}function Wp(t,n,a){On[Mn++]=Ri,On[Mn++]=Ci,On[Mn++]=ws,ws=t;var o=Ri;t=Ci;var h=32-dt(o)-1;o&=~(1<<h),a+=1;var f=32-dt(n)+h;if(30<f){var y=h-h%5;f=(o&(1<<y)-1).toString(32),o>>=y,h-=y,Ri=1<<32-dt(n)+h|a<<h|o,Ci=f+t}else Ri=1<<f|a<<h|o,Ci=t}function af(t){t.return!==null&&(Fi(t,1),Wp(t,1,0))}function of(t){for(;t===Gu;)Gu=Ca[--Ia],Ca[Ia]=null,Wo=Ca[--Ia],Ca[Ia]=null;for(;t===ws;)ws=On[--Mn],On[Mn]=null,Ci=On[--Mn],On[Mn]=null,Ri=On[--Mn],On[Mn]=null}function eg(t,n){On[Mn++]=Ri,On[Mn++]=Ci,On[Mn++]=ws,Ri=n.id,Ci=n.overflow,ws=t}var Ht=null,nt=null,Pe=!1,Rs=null,Vn=!1,lf=Error(r(519));function Cs(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw el(Dn(n,t)),lf}function tg(t){var n=t.stateNode,a=t.type,o=t.memoizedProps;switch(n[Et]=t,n[Pt]=o,a){case"dialog":Ne("cancel",n),Ne("close",n);break;case"iframe":case"object":case"embed":Ne("load",n);break;case"video":case"audio":for(a=0;a<bl.length;a++)Ne(bl[a],n);break;case"source":Ne("error",n);break;case"img":case"image":case"link":Ne("error",n),Ne("load",n);break;case"details":Ne("toggle",n);break;case"input":Ne("invalid",n),Su(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ne("invalid",n);break;case"textarea":Ne("invalid",n),_s(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||__(n.textContent,a)?(o.popover!=null&&(Ne("beforetoggle",n),Ne("toggle",n)),o.onScroll!=null&&Ne("scroll",n),o.onScrollEnd!=null&&Ne("scrollend",n),o.onClick!=null&&(n.onclick=Gn),n=!0):n=!1,n||Cs(t,!0)}function ng(t){for(Ht=t.return;Ht;)switch(Ht.tag){case 5:case 31:case 13:Vn=!1;return;case 27:case 3:Vn=!0;return;default:Ht=Ht.return}}function xa(t){if(t!==Ht)return!1;if(!Pe)return ng(t),Pe=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Rd(t.type,t.memoizedProps)),a=!a),a&&nt&&Cs(t),ng(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));nt=C_(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));nt=C_(t)}else n===27?(n=nt,qs(t.type)?(t=Dd,Dd=null,nt=t):nt=n):nt=Ht?Pn(t.stateNode.nextSibling):null;return!0}function Mr(){nt=Ht=null,Pe=!1}function uf(){var t=Rs;return t!==null&&(fn===null?fn=t:fn.push.apply(fn,t),Rs=null),t}function el(t){Rs===null?Rs=[t]:Rs.push(t)}var cf=M(null),Vr=null,Gi=null;function Is(t,n,a){se(cf,n._currentValue),n._currentValue=a}function Qi(t){t._currentValue=cf.current,X(cf)}function hf(t,n,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===a)break;t=t.return}}function ff(t,n,a,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var y=h.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=h;for(var x=0;x<n.length;x++)if(E.context===n[x]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),hf(f.return,a,t),o||(y=null);break e}f=E.next}}else if(h.tag===18){if(y=h.return,y===null)throw Error(r(341));y.lanes|=a,f=y.alternate,f!==null&&(f.lanes|=a),hf(y,a,t),y=null}else y=h.child;if(y!==null)y.return=h;else for(y=h;y!==null;){if(y===t){y=null;break}if(h=y.sibling,h!==null){h.return=y.return,y=h;break}y=y.return}h=y}}function Na(t,n,a,o){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var y=h.alternate;if(y===null)throw Error(r(387));if(y=y.memoizedProps,y!==null){var E=h.type;yn(h.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(h===Le.current){if(y=h.alternate,y===null)throw Error(r(387));y.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Cl):t=[Cl])}h=h.return}t!==null&&ff(n,t,a,o),n.flags|=262144}function Qu(t){for(t=t.firstContext;t!==null;){if(!yn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function kr(t){Vr=t,Gi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ft(t){return ig(Vr,t)}function Ku(t,n){return Vr===null&&kr(t),ig(t,n)}function ig(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Gi===null){if(t===null)throw Error(r(308));Gi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Gi=Gi.next=n;return a}var D1=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},O1=s.unstable_scheduleCallback,M1=s.unstable_NormalPriority,At={$$typeof:te,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function df(){return{controller:new D1,data:new Map,refCount:0}}function tl(t){t.refCount--,t.refCount===0&&O1(M1,function(){t.controller.abort()})}var nl=null,mf=0,Da=0,Oa=null;function V1(t,n){if(nl===null){var a=nl=[];mf=0,Da=yd(),Oa={status:"pending",value:void 0,then:function(o){a.push(o)}}}return mf++,n.then(sg,sg),n}function sg(){if(--mf===0&&nl!==null){Oa!==null&&(Oa.status="fulfilled");var t=nl;nl=null,Da=0,Oa=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function k1(t,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var rg=Q.S;Q.S=function(t,n){By=sn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&V1(t,n),rg!==null&&rg(t,n)};var Pr=M(null);function pf(){var t=Pr.current;return t!==null?t:We.pooledCache}function Yu(t,n){n===null?se(Pr,Pr.current):se(Pr,n.pool)}function ag(){var t=pf();return t===null?null:{parent:At._currentValue,pool:t}}var Ma=Error(r(460)),gf=Error(r(474)),Xu=Error(r(542)),$u={then:function(){}};function og(t){return t=t.status,t==="fulfilled"||t==="rejected"}function lg(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(Gn,Gn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,cg(t),t;default:if(typeof n.status=="string")n.then(Gn,Gn);else{if(t=We,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,cg(t),t}throw Ur=n,Ma}}function Lr(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ur=a,Ma):a}}var Ur=null;function ug(){if(Ur===null)throw Error(r(459));var t=Ur;return Ur=null,t}function cg(t){if(t===Ma||t===Xu)throw Error(r(483))}var Va=null,il=0;function Zu(t){var n=il;return il+=1,Va===null&&(Va=[]),lg(Va,t,n)}function sl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Ju(t,n){throw n.$$typeof===D?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function hg(t){function n(k,O){if(t){var U=k.deletions;U===null?(k.deletions=[O],k.flags|=16):U.push(O)}}function a(k,O){if(!t)return null;for(;O!==null;)n(k,O),O=O.sibling;return null}function o(k){for(var O=new Map;k!==null;)k.key!==null?O.set(k.key,k):O.set(k.index,k),k=k.sibling;return O}function h(k,O){return k=Hi(k,O),k.index=0,k.sibling=null,k}function f(k,O,U){return k.index=U,t?(U=k.alternate,U!==null?(U=U.index,U<O?(k.flags|=67108866,O):U):(k.flags|=67108866,O)):(k.flags|=1048576,O)}function y(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function E(k,O,U,K){return O===null||O.tag!==6?(O=sf(U,k.mode,K),O.return=k,O):(O=h(O,U),O.return=k,O)}function x(k,O,U,K){var fe=U.type;return fe===$?G(k,O,U.props.children,K,U.key):O!==null&&(O.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===w&&Lr(fe)===O.type)?(O=h(O,U.props),sl(O,U),O.return=k,O):(O=Fu(U.type,U.key,U.props,null,k.mode,K),sl(O,U),O.return=k,O)}function j(k,O,U,K){return O===null||O.tag!==4||O.stateNode.containerInfo!==U.containerInfo||O.stateNode.implementation!==U.implementation?(O=rf(U,k.mode,K),O.return=k,O):(O=h(O,U.children||[]),O.return=k,O)}function G(k,O,U,K,fe){return O===null||O.tag!==7?(O=Or(U,k.mode,K,fe),O.return=k,O):(O=h(O,U),O.return=k,O)}function Y(k,O,U){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=sf(""+O,k.mode,U),O.return=k,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case z:return U=Fu(O.type,O.key,O.props,null,k.mode,U),sl(U,O),U.return=k,U;case F:return O=rf(O,k.mode,U),O.return=k,O;case w:return O=Lr(O),Y(k,O,U)}if(Dt(O)||P(O))return O=Or(O,k.mode,U,null),O.return=k,O;if(typeof O.then=="function")return Y(k,Zu(O),U);if(O.$$typeof===te)return Y(k,Ku(k,O),U);Ju(k,O)}return null}function q(k,O,U,K){var fe=O!==null?O.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return fe!==null?null:E(k,O,""+U,K);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case z:return U.key===fe?x(k,O,U,K):null;case F:return U.key===fe?j(k,O,U,K):null;case w:return U=Lr(U),q(k,O,U,K)}if(Dt(U)||P(U))return fe!==null?null:G(k,O,U,K,null);if(typeof U.then=="function")return q(k,O,Zu(U),K);if(U.$$typeof===te)return q(k,O,Ku(k,U),K);Ju(k,U)}return null}function H(k,O,U,K,fe){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return k=k.get(U)||null,E(O,k,""+K,fe);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case z:return k=k.get(K.key===null?U:K.key)||null,x(O,k,K,fe);case F:return k=k.get(K.key===null?U:K.key)||null,j(O,k,K,fe);case w:return K=Lr(K),H(k,O,U,K,fe)}if(Dt(K)||P(K))return k=k.get(U)||null,G(O,k,K,fe,null);if(typeof K.then=="function")return H(k,O,U,Zu(K),fe);if(K.$$typeof===te)return H(k,O,U,Ku(O,K),fe);Ju(O,K)}return null}function le(k,O,U,K){for(var fe=null,ze=null,ce=O,Ie=O=0,Oe=null;ce!==null&&Ie<U.length;Ie++){ce.index>Ie?(Oe=ce,ce=null):Oe=ce.sibling;var qe=q(k,ce,U[Ie],K);if(qe===null){ce===null&&(ce=Oe);break}t&&ce&&qe.alternate===null&&n(k,ce),O=f(qe,O,Ie),ze===null?fe=qe:ze.sibling=qe,ze=qe,ce=Oe}if(Ie===U.length)return a(k,ce),Pe&&Fi(k,Ie),fe;if(ce===null){for(;Ie<U.length;Ie++)ce=Y(k,U[Ie],K),ce!==null&&(O=f(ce,O,Ie),ze===null?fe=ce:ze.sibling=ce,ze=ce);return Pe&&Fi(k,Ie),fe}for(ce=o(ce);Ie<U.length;Ie++)Oe=H(ce,k,Ie,U[Ie],K),Oe!==null&&(t&&Oe.alternate!==null&&ce.delete(Oe.key===null?Ie:Oe.key),O=f(Oe,O,Ie),ze===null?fe=Oe:ze.sibling=Oe,ze=Oe);return t&&ce.forEach(function(Qs){return n(k,Qs)}),Pe&&Fi(k,Ie),fe}function ye(k,O,U,K){if(U==null)throw Error(r(151));for(var fe=null,ze=null,ce=O,Ie=O=0,Oe=null,qe=U.next();ce!==null&&!qe.done;Ie++,qe=U.next()){ce.index>Ie?(Oe=ce,ce=null):Oe=ce.sibling;var Qs=q(k,ce,qe.value,K);if(Qs===null){ce===null&&(ce=Oe);break}t&&ce&&Qs.alternate===null&&n(k,ce),O=f(Qs,O,Ie),ze===null?fe=Qs:ze.sibling=Qs,ze=Qs,ce=Oe}if(qe.done)return a(k,ce),Pe&&Fi(k,Ie),fe;if(ce===null){for(;!qe.done;Ie++,qe=U.next())qe=Y(k,qe.value,K),qe!==null&&(O=f(qe,O,Ie),ze===null?fe=qe:ze.sibling=qe,ze=qe);return Pe&&Fi(k,Ie),fe}for(ce=o(ce);!qe.done;Ie++,qe=U.next())qe=H(ce,k,Ie,qe.value,K),qe!==null&&(t&&qe.alternate!==null&&ce.delete(qe.key===null?Ie:qe.key),O=f(qe,O,Ie),ze===null?fe=qe:ze.sibling=qe,ze=qe);return t&&ce.forEach(function(Qb){return n(k,Qb)}),Pe&&Fi(k,Ie),fe}function Je(k,O,U,K){if(typeof U=="object"&&U!==null&&U.type===$&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case z:e:{for(var fe=U.key;O!==null;){if(O.key===fe){if(fe=U.type,fe===$){if(O.tag===7){a(k,O.sibling),K=h(O,U.props.children),K.return=k,k=K;break e}}else if(O.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===w&&Lr(fe)===O.type){a(k,O.sibling),K=h(O,U.props),sl(K,U),K.return=k,k=K;break e}a(k,O);break}else n(k,O);O=O.sibling}U.type===$?(K=Or(U.props.children,k.mode,K,U.key),K.return=k,k=K):(K=Fu(U.type,U.key,U.props,null,k.mode,K),sl(K,U),K.return=k,k=K)}return y(k);case F:e:{for(fe=U.key;O!==null;){if(O.key===fe)if(O.tag===4&&O.stateNode.containerInfo===U.containerInfo&&O.stateNode.implementation===U.implementation){a(k,O.sibling),K=h(O,U.children||[]),K.return=k,k=K;break e}else{a(k,O);break}else n(k,O);O=O.sibling}K=rf(U,k.mode,K),K.return=k,k=K}return y(k);case w:return U=Lr(U),Je(k,O,U,K)}if(Dt(U))return le(k,O,U,K);if(P(U)){if(fe=P(U),typeof fe!="function")throw Error(r(150));return U=fe.call(U),ye(k,O,U,K)}if(typeof U.then=="function")return Je(k,O,Zu(U),K);if(U.$$typeof===te)return Je(k,O,Ku(k,U),K);Ju(k,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,O!==null&&O.tag===6?(a(k,O.sibling),K=h(O,U),K.return=k,k=K):(a(k,O),K=sf(U,k.mode,K),K.return=k,k=K),y(k)):a(k,O)}return function(k,O,U,K){try{il=0;var fe=Je(k,O,U,K);return Va=null,fe}catch(ce){if(ce===Ma||ce===Xu)throw ce;var ze=_n(29,ce,null,k.mode);return ze.lanes=K,ze.return=k,ze}finally{}}}var jr=hg(!0),fg=hg(!1),xs=!1;function yf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _f(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ns(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ds(t,n,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(He&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Hu(t),Xp(t,null,a),n}return Bu(t,o,n,a),Hu(t)}function rl(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,Oo(t,a)}}function vf(t,n){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=y:f=f.next=y,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var Ef=!1;function al(){if(Ef){var t=Oa;if(t!==null)throw t}}function ol(t,n,a,o){Ef=!1;var h=t.updateQueue;xs=!1;var f=h.firstBaseUpdate,y=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var x=E,j=x.next;x.next=null,y===null?f=j:y.next=j,y=x;var G=t.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==y&&(E===null?G.firstBaseUpdate=j:E.next=j,G.lastBaseUpdate=x))}if(f!==null){var Y=h.baseState;y=0,G=j=x=null,E=f;do{var q=E.lane&-536870913,H=q!==E.lane;if(H?(De&q)===q:(o&q)===q){q!==0&&q===Da&&(Ef=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var le=t,ye=E;q=n;var Je=a;switch(ye.tag){case 1:if(le=ye.payload,typeof le=="function"){Y=le.call(Je,Y,q);break e}Y=le;break e;case 3:le.flags=le.flags&-65537|128;case 0:if(le=ye.payload,q=typeof le=="function"?le.call(Je,Y,q):le,q==null)break e;Y=A({},Y,q);break e;case 2:xs=!0}}q=E.callback,q!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[q]:H.push(q))}else H={lane:q,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(j=G=H,x=Y):G=G.next=H,y|=q;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);G===null&&(x=Y),h.baseState=x,h.firstBaseUpdate=j,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),Ps|=y,t.lanes=y,t.memoizedState=Y}}function dg(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function mg(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)dg(a[t],n)}var ka=M(null),Wu=M(0);function pg(t,n){t=ts,se(Wu,t),se(ka,n),ts=t|n.baseLanes}function Tf(){se(Wu,ts),se(ka,ka.current)}function bf(){ts=Wu.current,X(ka),X(Wu)}var vn=M(null),kn=null;function Os(t){var n=t.alternate;se(pt,pt.current&1),se(vn,t),kn===null&&(n===null||ka.current!==null||n.memoizedState!==null)&&(kn=t)}function Af(t){se(pt,pt.current),se(vn,t),kn===null&&(kn=t)}function gg(t){t.tag===22?(se(pt,pt.current),se(vn,t),kn===null&&(kn=t)):Ms()}function Ms(){se(pt,pt.current),se(vn,vn.current)}function En(t){X(vn),kn===t&&(kn=null),X(pt)}var pt=M(0);function ec(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||xd(a)||Nd(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ki=0,Re=null,$e=null,St=null,tc=!1,Pa=!1,zr=!1,nc=0,ll=0,La=null,P1=0;function ht(){throw Error(r(321))}function Sf(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!yn(t[a],n[a]))return!1;return!0}function wf(t,n,a,o,h,f){return Ki=f,Re=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Q.H=t===null||t.memoizedState===null?Wg:zf,zr=!1,f=a(o,h),zr=!1,Pa&&(f=_g(n,a,o,h)),yg(t),f}function yg(t){Q.H=hl;var n=$e!==null&&$e.next!==null;if(Ki=0,St=$e=Re=null,tc=!1,ll=0,La=null,n)throw Error(r(300));t===null||wt||(t=t.dependencies,t!==null&&Qu(t)&&(wt=!0))}function _g(t,n,a,o){Re=t;var h=0;do{if(Pa&&(La=null),ll=0,Pa=!1,25<=h)throw Error(r(301));if(h+=1,St=$e=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}Q.H=ey,f=n(a,o)}while(Pa);return f}function L1(){var t=Q.H,n=t.useState()[0];return n=typeof n.then=="function"?ul(n):n,t=t.useState()[0],($e!==null?$e.memoizedState:null)!==t&&(Re.flags|=1024),n}function Rf(){var t=nc!==0;return nc=0,t}function Cf(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function If(t){if(tc){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}tc=!1}Ki=0,St=$e=Re=null,Pa=!1,ll=nc=0,La=null}function an(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?Re.memoizedState=St=t:St=St.next=t,St}function gt(){if($e===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=$e.next;var n=St===null?Re.memoizedState:St.next;if(n!==null)St=n,$e=t;else{if(t===null)throw Re.alternate===null?Error(r(467)):Error(r(310));$e=t,t={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},St===null?Re.memoizedState=St=t:St=St.next=t}return St}function ic(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ul(t){var n=ll;return ll+=1,La===null&&(La=[]),t=lg(La,t,n),n=Re,(St===null?n.memoizedState:St.next)===null&&(n=n.alternate,Q.H=n===null||n.memoizedState===null?Wg:zf),t}function sc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ul(t);if(t.$$typeof===te)return Ft(t)}throw Error(r(438,String(t)))}function xf(t){var n=null,a=Re.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=Re.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=ic(),Re.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),o=0;o<t;o++)a[o]=V;return n.index++,a}function Yi(t,n){return typeof n=="function"?n(t):n}function rc(t){var n=gt();return Nf(n,$e,t)}function Nf(t,n,a){var o=t.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var y=h.next;h.next=f.next,f.next=y}n.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var E=y=null,x=null,j=n,G=!1;do{var Y=j.lane&-536870913;if(Y!==j.lane?(De&Y)===Y:(Ki&Y)===Y){var q=j.revertLane;if(q===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),Y===Da&&(G=!0);else if((Ki&q)===q){j=j.next,q===Da&&(G=!0);continue}else Y={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},x===null?(E=x=Y,y=f):x=x.next=Y,Re.lanes|=q,Ps|=q;Y=j.action,zr&&a(f,Y),f=j.hasEagerState?j.eagerState:a(f,Y)}else q={lane:Y,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},x===null?(E=x=q,y=f):x=x.next=q,Re.lanes|=Y,Ps|=Y;j=j.next}while(j!==null&&j!==n);if(x===null?y=f:x.next=E,!yn(f,t.memoizedState)&&(wt=!0,G&&(a=Oa,a!==null)))throw a;t.memoizedState=f,t.baseState=y,t.baseQueue=x,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Df(t){var n=gt(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var o=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var y=h=h.next;do f=t(f,y.action),y=y.next;while(y!==h);yn(f,n.memoizedState)||(wt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,o]}function vg(t,n,a){var o=Re,h=gt(),f=Pe;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var y=!yn(($e||h).memoizedState,a);if(y&&(h.memoizedState=a,wt=!0),h=h.queue,Vf(bg.bind(null,o,h,t),[t]),h.getSnapshot!==n||y||St!==null&&St.memoizedState.tag&1){if(o.flags|=2048,Ua(9,{destroy:void 0},Tg.bind(null,o,h,a,n),null),We===null)throw Error(r(349));f||(Ki&127)!==0||Eg(o,n,a)}return a}function Eg(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Re.updateQueue,n===null?(n=ic(),Re.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Tg(t,n,a,o){n.value=a,n.getSnapshot=o,Ag(n)&&Sg(t)}function bg(t,n,a){return a(function(){Ag(n)&&Sg(t)})}function Ag(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!yn(t,a)}catch{return!0}}function Sg(t){var n=Dr(t,2);n!==null&&dn(n,t,2)}function Of(t){var n=an();if(typeof t=="function"){var a=t;if(t=a(),zr){wn(!0);try{a()}finally{wn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:t},n}function wg(t,n,a,o){return t.baseState=a,Nf(t,$e,typeof o=="function"?o:Yi)}function U1(t,n,a,o,h){if(lc(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};Q.T!==null?a(!0):f.isTransition=!1,o(f),a=n.pending,a===null?(f.next=n.pending=f,Rg(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Rg(t,n){var a=n.action,o=n.payload,h=t.state;if(n.isTransition){var f=Q.T,y={};Q.T=y;try{var E=a(h,o),x=Q.S;x!==null&&x(y,E),Cg(t,n,E)}catch(j){Mf(t,n,j)}finally{f!==null&&y.types!==null&&(f.types=y.types),Q.T=f}}else try{f=a(h,o),Cg(t,n,f)}catch(j){Mf(t,n,j)}}function Cg(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Ig(t,n,o)},function(o){return Mf(t,n,o)}):Ig(t,n,a)}function Ig(t,n,a){n.status="fulfilled",n.value=a,xg(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Rg(t,a)))}function Mf(t,n,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,xg(n),n=n.next;while(n!==o)}t.action=null}function xg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Ng(t,n){return n}function Dg(t,n){if(Pe){var a=We.formState;if(a!==null){e:{var o=Re;if(Pe){if(nt){t:{for(var h=nt,f=Vn;h.nodeType!==8;){if(!f){h=null;break t}if(h=Pn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){nt=Pn(h.nextSibling),o=h.data==="F!";break e}}Cs(o)}o=!1}o&&(n=a[0])}}return a=an(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ng,lastRenderedState:n},a.queue=o,a=$g.bind(null,Re,o),o.dispatch=a,o=Of(!1),f=jf.bind(null,Re,!1,o.queue),o=an(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,a=U1.bind(null,Re,h,f,a),h.dispatch=a,o.memoizedState=t,[n,a,!1]}function Og(t){var n=gt();return Mg(n,$e,t)}function Mg(t,n,a){if(n=Nf(t,n,Ng)[0],t=rc(Yi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=ul(n)}catch(y){throw y===Ma?Xu:y}else o=n;n=gt();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(Re.flags|=2048,Ua(9,{destroy:void 0},j1.bind(null,h,a),null)),[o,f,t]}function j1(t,n){t.action=n}function Vg(t){var n=gt(),a=$e;if(a!==null)return Mg(n,a,t);gt(),n=n.memoizedState,a=gt();var o=a.queue.dispatch;return a.memoizedState=t,[n,o,!1]}function Ua(t,n,a,o){return t={tag:t,create:a,deps:o,inst:n,next:null},n=Re.updateQueue,n===null&&(n=ic(),Re.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,n.lastEffect=t),t}function kg(){return gt().memoizedState}function ac(t,n,a,o){var h=an();Re.flags|=t,h.memoizedState=Ua(1|n,{destroy:void 0},a,o===void 0?null:o)}function oc(t,n,a,o){var h=gt();o=o===void 0?null:o;var f=h.memoizedState.inst;$e!==null&&o!==null&&Sf(o,$e.memoizedState.deps)?h.memoizedState=Ua(n,f,a,o):(Re.flags|=t,h.memoizedState=Ua(1|n,f,a,o))}function Pg(t,n){ac(8390656,8,t,n)}function Vf(t,n){oc(2048,8,t,n)}function z1(t){Re.flags|=4;var n=Re.updateQueue;if(n===null)n=ic(),Re.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function Lg(t){var n=gt().memoizedState;return z1({ref:n,nextImpl:t}),function(){if((He&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function Ug(t,n){return oc(4,2,t,n)}function jg(t,n){return oc(4,4,t,n)}function zg(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function qg(t,n,a){a=a!=null?a.concat([t]):null,oc(4,4,zg.bind(null,n,t),a)}function kf(){}function Bg(t,n){var a=gt();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&Sf(n,o[1])?o[0]:(a.memoizedState=[t,n],t)}function Hg(t,n){var a=gt();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&Sf(n,o[1]))return o[0];if(o=t(),zr){wn(!0);try{t()}finally{wn(!1)}}return a.memoizedState=[o,n],o}function Pf(t,n,a){return a===void 0||(Ki&1073741824)!==0&&(De&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=Fy(),Re.lanes|=t,Ps|=t,a)}function Fg(t,n,a,o){return yn(a,n)?a:ka.current!==null?(t=Pf(t,a,o),yn(t,n)||(wt=!0),t):(Ki&42)===0||(Ki&1073741824)!==0&&(De&261930)===0?(wt=!0,t.memoizedState=a):(t=Fy(),Re.lanes|=t,Ps|=t,n)}function Gg(t,n,a,o,h){var f=ie.p;ie.p=f!==0&&8>f?f:8;var y=Q.T,E={};Q.T=E,jf(t,!1,n,a);try{var x=h(),j=Q.S;if(j!==null&&j(E,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var G=k1(x,o);cl(t,n,G,An(t))}else cl(t,n,o,An(t))}catch(Y){cl(t,n,{then:function(){},status:"rejected",reason:Y},An())}finally{ie.p=f,y!==null&&E.types!==null&&(y.types=E.types),Q.T=y}}function q1(){}function Lf(t,n,a,o){if(t.tag!==5)throw Error(r(476));var h=Qg(t).queue;Gg(t,h,n,pe,a===null?q1:function(){return Kg(t),a(o)})}function Qg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:pe},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Kg(t){var n=Qg(t);n.next===null&&(n=t.alternate.memoizedState),cl(t,n.next.queue,{},An())}function Uf(){return Ft(Cl)}function Yg(){return gt().memoizedState}function Xg(){return gt().memoizedState}function B1(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=An();t=Ns(a);var o=Ds(n,t,a);o!==null&&(dn(o,n,a),rl(o,n,a)),n={cache:df()},t.payload=n;return}n=n.return}}function H1(t,n,a){var o=An();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},lc(t)?Zg(n,a):(a=tf(t,n,a,o),a!==null&&(dn(a,t,o),Jg(a,n,o)))}function $g(t,n,a){var o=An();cl(t,n,a,o)}function cl(t,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(lc(t))Zg(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,a);if(h.hasEagerState=!0,h.eagerState=E,yn(E,y))return Bu(t,n,h,0),We===null&&qu(),!1}catch{}finally{}if(a=tf(t,n,h,o),a!==null)return dn(a,t,o),Jg(a,n,o),!0}return!1}function jf(t,n,a,o){if(o={lane:2,revertLane:yd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},lc(t)){if(n)throw Error(r(479))}else n=tf(t,a,o,2),n!==null&&dn(n,t,2)}function lc(t){var n=t.alternate;return t===Re||n!==null&&n===Re}function Zg(t,n){Pa=tc=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function Jg(t,n,a){if((a&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,Oo(t,a)}}var hl={readContext:Ft,use:sc,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useLayoutEffect:ht,useInsertionEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useSyncExternalStore:ht,useId:ht,useHostTransitionStatus:ht,useFormState:ht,useActionState:ht,useOptimistic:ht,useMemoCache:ht,useCacheRefresh:ht};hl.useEffectEvent=ht;var Wg={readContext:Ft,use:sc,useCallback:function(t,n){return an().memoizedState=[t,n===void 0?null:n],t},useContext:Ft,useEffect:Pg,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,ac(4194308,4,zg.bind(null,n,t),a)},useLayoutEffect:function(t,n){return ac(4194308,4,t,n)},useInsertionEffect:function(t,n){ac(4,2,t,n)},useMemo:function(t,n){var a=an();n=n===void 0?null:n;var o=t();if(zr){wn(!0);try{t()}finally{wn(!1)}}return a.memoizedState=[o,n],o},useReducer:function(t,n,a){var o=an();if(a!==void 0){var h=a(n);if(zr){wn(!0);try{a(n)}finally{wn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=H1.bind(null,Re,t),[o.memoizedState,t]},useRef:function(t){var n=an();return t={current:t},n.memoizedState=t},useState:function(t){t=Of(t);var n=t.queue,a=$g.bind(null,Re,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:kf,useDeferredValue:function(t,n){var a=an();return Pf(a,t,n)},useTransition:function(){var t=Of(!1);return t=Gg.bind(null,Re,t.queue,!0,!1),an().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var o=Re,h=an();if(Pe){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),We===null)throw Error(r(349));(De&127)!==0||Eg(o,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,Pg(bg.bind(null,o,f,t),[t]),o.flags|=2048,Ua(9,{destroy:void 0},Tg.bind(null,o,f,a,n),null),a},useId:function(){var t=an(),n=We.identifierPrefix;if(Pe){var a=Ci,o=Ri;a=(o&~(1<<32-dt(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=nc++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=P1++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Uf,useFormState:Dg,useActionState:Dg,useOptimistic:function(t){var n=an();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=jf.bind(null,Re,!0,a),a.dispatch=n,[t,n]},useMemoCache:xf,useCacheRefresh:function(){return an().memoizedState=B1.bind(null,Re)},useEffectEvent:function(t){var n=an(),a={impl:t};return n.memoizedState=a,function(){if((He&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},zf={readContext:Ft,use:sc,useCallback:Bg,useContext:Ft,useEffect:Vf,useImperativeHandle:qg,useInsertionEffect:Ug,useLayoutEffect:jg,useMemo:Hg,useReducer:rc,useRef:kg,useState:function(){return rc(Yi)},useDebugValue:kf,useDeferredValue:function(t,n){var a=gt();return Fg(a,$e.memoizedState,t,n)},useTransition:function(){var t=rc(Yi)[0],n=gt().memoizedState;return[typeof t=="boolean"?t:ul(t),n]},useSyncExternalStore:vg,useId:Yg,useHostTransitionStatus:Uf,useFormState:Og,useActionState:Og,useOptimistic:function(t,n){var a=gt();return wg(a,$e,t,n)},useMemoCache:xf,useCacheRefresh:Xg};zf.useEffectEvent=Lg;var ey={readContext:Ft,use:sc,useCallback:Bg,useContext:Ft,useEffect:Vf,useImperativeHandle:qg,useInsertionEffect:Ug,useLayoutEffect:jg,useMemo:Hg,useReducer:Df,useRef:kg,useState:function(){return Df(Yi)},useDebugValue:kf,useDeferredValue:function(t,n){var a=gt();return $e===null?Pf(a,t,n):Fg(a,$e.memoizedState,t,n)},useTransition:function(){var t=Df(Yi)[0],n=gt().memoizedState;return[typeof t=="boolean"?t:ul(t),n]},useSyncExternalStore:vg,useId:Yg,useHostTransitionStatus:Uf,useFormState:Vg,useActionState:Vg,useOptimistic:function(t,n){var a=gt();return $e!==null?wg(a,$e,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:xf,useCacheRefresh:Xg};ey.useEffectEvent=Lg;function qf(t,n,a,o){n=t.memoizedState,a=a(o,n),a=a==null?n:A({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Bf={enqueueSetState:function(t,n,a){t=t._reactInternals;var o=An(),h=Ns(o);h.payload=n,a!=null&&(h.callback=a),n=Ds(t,h,o),n!==null&&(dn(n,t,o),rl(n,t,o))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var o=An(),h=Ns(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Ds(t,h,o),n!==null&&(dn(n,t,o),rl(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=An(),o=Ns(a);o.tag=2,n!=null&&(o.callback=n),n=Ds(t,o,a),n!==null&&(dn(n,t,a),rl(n,t,a))}};function ty(t,n,a,o,h,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,y):n.prototype&&n.prototype.isPureReactComponent?!Zo(a,o)||!Zo(h,f):!0}function ny(t,n,a,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==t&&Bf.enqueueReplaceState(n,n.state,null)}function qr(t,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(t=t.defaultProps){a===n&&(a=A({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function iy(t){zu(t)}function sy(t){console.error(t)}function ry(t){zu(t)}function uc(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function ay(t,n,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Hf(t,n,a){return a=Ns(a),a.tag=3,a.payload={element:null},a.callback=function(){uc(t,n)},a}function oy(t){return t=Ns(t),t.tag=3,t}function ly(t,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){ay(n,a,o)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){ay(n,a,o),typeof h!="function"&&(Ls===null?Ls=new Set([this]):Ls.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function F1(t,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&Na(n,a,h,!0),a=vn.current,a!==null){switch(a.tag){case 31:case 13:return kn===null?Tc():a.alternate===null&&ft===0&&(ft=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===$u?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),md(t,o,h)),!1;case 22:return a.flags|=65536,o===$u?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),md(t,o,h)),!1}throw Error(r(435,a.tag))}return md(t,o,h),Tc(),!1}if(Pe)return n=vn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==lf&&(t=Error(r(422),{cause:o}),el(Dn(t,a)))):(o!==lf&&(n=Error(r(423),{cause:o}),el(Dn(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=Dn(o,a),h=Hf(t.stateNode,o,h),vf(t,h),ft!==4&&(ft=2)),!1;var f=Error(r(520),{cause:o});if(f=Dn(f,a),vl===null?vl=[f]:vl.push(f),ft!==4&&(ft=2),n===null)return!0;o=Dn(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Hf(a.stateNode,o,t),vf(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ls===null||!Ls.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=oy(h),ly(h,t,a,o),vf(a,h),!1}a=a.return}while(a!==null);return!1}var Ff=Error(r(461)),wt=!1;function Gt(t,n,a,o){n.child=t===null?fg(n,null,a,o):jr(n,t.child,a,o)}function uy(t,n,a,o,h){a=a.render;var f=n.ref;if("ref"in o){var y={};for(var E in o)E!=="ref"&&(y[E]=o[E])}else y=o;return kr(n),o=wf(t,n,a,y,f,h),E=Rf(),t!==null&&!wt?(Cf(t,n,h),Xi(t,n,h)):(Pe&&E&&af(n),n.flags|=1,Gt(t,n,o,h),n.child)}function cy(t,n,a,o,h){if(t===null){var f=a.type;return typeof f=="function"&&!nf(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,hy(t,n,f,o,h)):(t=Fu(a.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Jf(t,h)){var y=f.memoizedProps;if(a=a.compare,a=a!==null?a:Zo,a(y,o)&&t.ref===n.ref)return Xi(t,n,h)}return n.flags|=1,t=Hi(f,o),t.ref=n.ref,t.return=n,n.child=t}function hy(t,n,a,o,h){if(t!==null){var f=t.memoizedProps;if(Zo(f,o)&&t.ref===n.ref)if(wt=!1,n.pendingProps=o=f,Jf(t,h))(t.flags&131072)!==0&&(wt=!0);else return n.lanes=t.lanes,Xi(t,n,h)}return Gf(t,n,a,o,h)}function fy(t,n,a,o){var h=o.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return dy(t,n,f,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Yu(n,f!==null?f.cachePool:null),f!==null?pg(n,f):Tf(),gg(n);else return o=n.lanes=536870912,dy(t,n,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(Yu(n,f.cachePool),pg(n,f),Ms(),n.memoizedState=null):(t!==null&&Yu(n,null),Tf(),Ms());return Gt(t,n,h,a),n.child}function fl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function dy(t,n,a,o,h){var f=pf();return f=f===null?null:{parent:At._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&Yu(n,null),Tf(),gg(n),t!==null&&Na(t,n,o,!0),n.childLanes=h,null}function cc(t,n){return n=fc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function my(t,n,a){return jr(n,t.child,null,a),t=cc(n,n.pendingProps),t.flags|=2,En(n),n.memoizedState=null,t}function G1(t,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Pe){if(o.mode==="hidden")return t=cc(n,o),n.lanes=536870912,fl(null,t);if(Af(n),(t=nt)?(t=R_(t,Vn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ws!==null?{id:Ri,overflow:Ci}:null,retryLane:536870912,hydrationErrors:null},a=Zp(t),a.return=n,n.child=a,Ht=n,nt=null)):t=null,t===null)throw Cs(n);return n.lanes=536870912,null}return cc(n,o)}var f=t.memoizedState;if(f!==null){var y=f.dehydrated;if(Af(n),h)if(n.flags&256)n.flags&=-257,n=my(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(wt||Na(t,n,a,!1),h=(a&t.childLanes)!==0,wt||h){if(o=We,o!==null&&(y=Mo(o,a),y!==0&&y!==f.retryLane))throw f.retryLane=y,Dr(t,y),dn(o,t,y),Ff;Tc(),n=my(t,n,a)}else t=f.treeContext,nt=Pn(y.nextSibling),Ht=n,Pe=!0,Rs=null,Vn=!1,t!==null&&eg(n,t),n=cc(n,o),n.flags|=4096;return n}return t=Hi(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function hc(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Gf(t,n,a,o,h){return kr(n),a=wf(t,n,a,o,void 0,h),o=Rf(),t!==null&&!wt?(Cf(t,n,h),Xi(t,n,h)):(Pe&&o&&af(n),n.flags|=1,Gt(t,n,a,h),n.child)}function py(t,n,a,o,h,f){return kr(n),n.updateQueue=null,a=_g(n,o,a,h),yg(t),o=Rf(),t!==null&&!wt?(Cf(t,n,f),Xi(t,n,f)):(Pe&&o&&af(n),n.flags|=1,Gt(t,n,a,f),n.child)}function gy(t,n,a,o,h){if(kr(n),n.stateNode===null){var f=Ra,y=a.contextType;typeof y=="object"&&y!==null&&(f=Ft(y)),f=new a(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Bf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},yf(n),y=a.contextType,f.context=typeof y=="object"&&y!==null?Ft(y):Ra,f.state=n.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(qf(n,a,y,o),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Bf.enqueueReplaceState(f,f.state,null),ol(n,o,f,h),al(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,x=qr(a,E);f.props=x;var j=f.context,G=a.contextType;y=Ra,typeof G=="object"&&G!==null&&(y=Ft(G));var Y=a.getDerivedStateFromProps;G=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||j!==y)&&ny(n,f,o,y),xs=!1;var q=n.memoizedState;f.state=q,ol(n,o,f,h),al(),j=n.memoizedState,E||q!==j||xs?(typeof Y=="function"&&(qf(n,a,Y,o),j=n.memoizedState),(x=xs||ty(n,a,x,o,q,j,y))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=j),f.props=o,f.state=j,f.context=y,o=x):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,_f(t,n),y=n.memoizedProps,G=qr(a,y),f.props=G,Y=n.pendingProps,q=f.context,j=a.contextType,x=Ra,typeof j=="object"&&j!==null&&(x=Ft(j)),E=a.getDerivedStateFromProps,(j=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==Y||q!==x)&&ny(n,f,o,x),xs=!1,q=n.memoizedState,f.state=q,ol(n,o,f,h),al();var H=n.memoizedState;y!==Y||q!==H||xs||t!==null&&t.dependencies!==null&&Qu(t.dependencies)?(typeof E=="function"&&(qf(n,a,E,o),H=n.memoizedState),(G=xs||ty(n,a,G,o,q,H,x)||t!==null&&t.dependencies!==null&&Qu(t.dependencies))?(j||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,x),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,x)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=H),f.props=o,f.state=H,f.context=x,o=G):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),o=!1)}return f=o,hc(t,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&o?(n.child=jr(n,t.child,null,h),n.child=jr(n,null,a,h)):Gt(t,n,a,h),n.memoizedState=f.state,t=n.child):t=Xi(t,n,h),t}function yy(t,n,a,o){return Mr(),n.flags|=256,Gt(t,n,a,o),n.child}var Qf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Kf(t){return{baseLanes:t,cachePool:ag()}}function Yf(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=bn),t}function _y(t,n,a){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(pt.current&2)!==0),y&&(h=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Pe){if(h?Os(n):Ms(),(t=nt)?(t=R_(t,Vn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ws!==null?{id:Ri,overflow:Ci}:null,retryLane:536870912,hydrationErrors:null},a=Zp(t),a.return=n,n.child=a,Ht=n,nt=null)):t=null,t===null)throw Cs(n);return Nd(t)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Ms(),h=n.mode,E=fc({mode:"hidden",children:E},h),o=Or(o,h,a,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Kf(a),o.childLanes=Yf(t,y,a),n.memoizedState=Qf,fl(null,o)):(Os(n),Xf(n,E))}var x=t.memoizedState;if(x!==null&&(E=x.dehydrated,E!==null)){if(f)n.flags&256?(Os(n),n.flags&=-257,n=$f(t,n,a)):n.memoizedState!==null?(Ms(),n.child=t.child,n.flags|=128,n=null):(Ms(),E=o.fallback,h=n.mode,o=fc({mode:"visible",children:o.children},h),E=Or(E,h,a,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,jr(n,t.child,null,a),o=n.child,o.memoizedState=Kf(a),o.childLanes=Yf(t,y,a),n.memoizedState=Qf,n=fl(null,o));else if(Os(n),Nd(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var j=y.dgst;y=j,o=Error(r(419)),o.stack="",o.digest=y,el({value:o,source:null,stack:null}),n=$f(t,n,a)}else if(wt||Na(t,n,a,!1),y=(a&t.childLanes)!==0,wt||y){if(y=We,y!==null&&(o=Mo(y,a),o!==0&&o!==x.retryLane))throw x.retryLane=o,Dr(t,o),dn(y,t,o),Ff;xd(E)||Tc(),n=$f(t,n,a)}else xd(E)?(n.flags|=192,n.child=t.child,n=null):(t=x.treeContext,nt=Pn(E.nextSibling),Ht=n,Pe=!0,Rs=null,Vn=!1,t!==null&&eg(n,t),n=Xf(n,o.children),n.flags|=4096);return n}return h?(Ms(),E=o.fallback,h=n.mode,x=t.child,j=x.sibling,o=Hi(x,{mode:"hidden",children:o.children}),o.subtreeFlags=x.subtreeFlags&65011712,j!==null?E=Hi(j,E):(E=Or(E,h,a,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,fl(null,o),o=n.child,E=t.child.memoizedState,E===null?E=Kf(a):(h=E.cachePool,h!==null?(x=At._currentValue,h=h.parent!==x?{parent:x,pool:x}:h):h=ag(),E={baseLanes:E.baseLanes|a,cachePool:h}),o.memoizedState=E,o.childLanes=Yf(t,y,a),n.memoizedState=Qf,fl(t.child,o)):(Os(n),a=t.child,t=a.sibling,a=Hi(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=a,n.memoizedState=null,a)}function Xf(t,n){return n=fc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function fc(t,n){return t=_n(22,t,null,n),t.lanes=0,t}function $f(t,n,a){return jr(n,t.child,null,a),t=Xf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function vy(t,n,a){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),hf(t.return,n,a)}function Zf(t,n,a,o,h,f){var y=t.memoizedState;y===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(y.isBackwards=n,y.rendering=null,y.renderingStartTime=0,y.last=o,y.tail=a,y.tailMode=h,y.treeForkCount=f)}function Ey(t,n,a){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var y=pt.current,E=(y&2)!==0;if(E?(y=y&1|2,n.flags|=128):y&=1,se(pt,y),Gt(t,n,o,a),o=Pe?Wo:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&vy(t,a,n);else if(t.tag===19)vy(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&ec(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),Zf(n,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&ec(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Zf(n,!0,a,null,f,o);break;case"together":Zf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Xi(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Ps|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(Na(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=Hi(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Hi(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Jf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Qu(t)))}function Q1(t,n,a){switch(n.tag){case 3:Ot(n,n.stateNode.containerInfo),Is(n,At,t.memoizedState.cache),Mr();break;case 27:case 5:dr(n);break;case 4:Ot(n,n.stateNode.containerInfo);break;case 10:Is(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Af(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Os(n),n.flags|=128,null):(a&n.child.childLanes)!==0?_y(t,n,a):(Os(n),t=Xi(t,n,a),t!==null?t.sibling:null);Os(n);break;case 19:var h=(t.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(Na(t,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return Ey(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),se(pt,pt.current),o)break;return null;case 22:return n.lanes=0,fy(t,n,a,n.pendingProps);case 24:Is(n,At,t.memoizedState.cache)}return Xi(t,n,a)}function Ty(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)wt=!0;else{if(!Jf(t,a)&&(n.flags&128)===0)return wt=!1,Q1(t,n,a);wt=(t.flags&131072)!==0}else wt=!1,Pe&&(n.flags&1048576)!==0&&Wp(n,Wo,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=Lr(n.elementType),n.type=t,typeof t=="function")nf(t)?(o=qr(t,o),n.tag=1,n=gy(null,n,t,o,a)):(n.tag=0,n=Gf(null,n,t,o,a));else{if(t!=null){var h=t.$$typeof;if(h===W){n.tag=11,n=uy(null,n,t,o,a);break e}else if(h===R){n.tag=14,n=cy(null,n,t,o,a);break e}}throw n=rt(t)||t,Error(r(306,n,""))}}return n;case 0:return Gf(t,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=qr(o,n.pendingProps),gy(t,n,o,h,a);case 3:e:{if(Ot(n,n.stateNode.containerInfo),t===null)throw Error(r(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,_f(t,n),ol(n,o,null,a);var y=n.memoizedState;if(o=y.cache,Is(n,At,o),o!==f.cache&&ff(n,[At],a,!0),al(),o=y.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=yy(t,n,o,a);break e}else if(o!==h){h=Dn(Error(r(424)),n),el(h),n=yy(t,n,o,a);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(nt=Pn(t.firstChild),Ht=n,Pe=!0,Rs=null,Vn=!0,a=fg(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Mr(),o===h){n=Xi(t,n,a);break e}Gt(t,n,o,a)}n=n.child}return n;case 26:return hc(t,n),t===null?(a=O_(n.type,null,n.pendingProps,null))?n.memoizedState=a:Pe||(a=n.type,t=n.pendingProps,o=Ic(Ce.current).createElement(a),o[Et]=n,o[Pt]=t,Qt(o,a,t),Tt(o),n.stateNode=o):n.memoizedState=O_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return dr(n),t===null&&Pe&&(o=n.stateNode=x_(n.type,n.pendingProps,Ce.current),Ht=n,Vn=!0,h=nt,qs(n.type)?(Dd=h,nt=Pn(o.firstChild)):nt=h),Gt(t,n,n.pendingProps.children,a),hc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Pe&&((h=o=nt)&&(o=bb(o,n.type,n.pendingProps,Vn),o!==null?(n.stateNode=o,Ht=n,nt=Pn(o.firstChild),Vn=!1,h=!0):h=!1),h||Cs(n)),dr(n),h=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,o=f.children,Rd(h,f)?o=null:y!==null&&Rd(h,y)&&(n.flags|=32),n.memoizedState!==null&&(h=wf(t,n,L1,null,null,a),Cl._currentValue=h),hc(t,n),Gt(t,n,o,a),n.child;case 6:return t===null&&Pe&&((t=a=nt)&&(a=Ab(a,n.pendingProps,Vn),a!==null?(n.stateNode=a,Ht=n,nt=null,t=!0):t=!1),t||Cs(n)),null;case 13:return _y(t,n,a);case 4:return Ot(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=jr(n,null,o,a):Gt(t,n,o,a),n.child;case 11:return uy(t,n,n.type,n.pendingProps,a);case 7:return Gt(t,n,n.pendingProps,a),n.child;case 8:return Gt(t,n,n.pendingProps.children,a),n.child;case 12:return Gt(t,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,Is(n,n.type,o.value),Gt(t,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,kr(n),h=Ft(h),o=o(h),n.flags|=1,Gt(t,n,o,a),n.child;case 14:return cy(t,n,n.type,n.pendingProps,a);case 15:return hy(t,n,n.type,n.pendingProps,a);case 19:return Ey(t,n,a);case 31:return G1(t,n,a);case 22:return fy(t,n,a,n.pendingProps);case 24:return kr(n),o=Ft(At),t===null?(h=pf(),h===null&&(h=We,f=df(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:o,cache:h},yf(n),Is(n,At,h)):((t.lanes&a)!==0&&(_f(t,n),ol(n,null,null,a),al()),h=t.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Is(n,At,o)):(o=f.cache,Is(n,At,o),o!==h.cache&&ff(n,[At],a,!0))),Gt(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function $i(t){t.flags|=4}function Wf(t,n,a,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Yy())t.flags|=8192;else throw Ur=$u,gf}else t.flags&=-16777217}function by(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!L_(n))if(Yy())t.flags|=8192;else throw Ur=$u,gf}function dc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?vu():536870912,t.lanes|=n,Ba|=n)}function dl(t,n){if(!Pe)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function it(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=a,n}function K1(t,n,a){var o=n.pendingProps;switch(of(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(n),null;case 1:return it(n),null;case 3:return a=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Qi(At),at(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(xa(n)?$i(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,uf())),it(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?($i(n),f!==null?(it(n),by(n,f)):(it(n),Wf(n,h,null,o,a))):f?f!==t.memoizedState?($i(n),it(n),by(n,f)):(it(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&$i(n),it(n),Wf(n,h,t,o,a)),null;case 27:if(oa(n),a=Ce.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&$i(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return it(n),null}t=oe.current,xa(n)?tg(n):(t=x_(h,o,a),n.stateNode=t,$i(n))}return it(n),null;case 5:if(oa(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&$i(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return it(n),null}if(f=oe.current,xa(n))tg(n);else{var y=Ic(Ce.current);switch(f){case 1:f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=y.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?y.createElement("select",{is:o.is}):y.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?y.createElement(h,{is:o.is}):y.createElement(h)}}f[Et]=n,f[Pt]=o;e:for(y=n.child;y!==null;){if(y.tag===5||y.tag===6)f.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===n)break e;for(;y.sibling===null;){if(y.return===null||y.return===n)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}n.stateNode=f;e:switch(Qt(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&$i(n)}}return it(n),Wf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&$i(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(t=Ce.current,xa(n)){if(t=n.stateNode,a=n.memoizedProps,o=null,h=Ht,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[Et]=n,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||__(t.nodeValue,a)),t||Cs(n,!0)}else t=Ic(t).createTextNode(o),t[Et]=n,n.stateNode=t}return it(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(o=xa(n),a!==null){if(t===null){if(!o)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[Et]=n}else Mr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;it(n),t=!1}else a=uf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(En(n),n):(En(n),null);if((n.flags&128)!==0)throw Error(r(558))}return it(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=xa(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Et]=n}else Mr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;it(n),h=!1}else h=uf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(En(n),n):(En(n),null)}return En(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),dc(n,n.updateQueue),it(n),null);case 4:return at(),t===null&&Td(n.stateNode.containerInfo),it(n),null;case 10:return Qi(n.type),it(n),null;case 19:if(X(pt),o=n.memoizedState,o===null)return it(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)dl(o,!1);else{if(ft!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=ec(t),f!==null){for(n.flags|=128,dl(o,!1),t=f.updateQueue,n.updateQueue=t,dc(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)$p(a,t),a=a.sibling;return se(pt,pt.current&1|2),Pe&&Fi(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&sn()>_c&&(n.flags|=128,h=!0,dl(o,!1),n.lanes=4194304)}else{if(!h)if(t=ec(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,dc(n,t),dl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Pe)return it(n),null}else 2*sn()-o.renderingStartTime>_c&&a!==536870912&&(n.flags|=128,h=!0,dl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(t=o.last,t!==null?t.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=sn(),t.sibling=null,a=pt.current,se(pt,h?a&1|2:a&1),Pe&&Fi(n,o.treeForkCount),t):(it(n),null);case 22:case 23:return En(n),bf(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(it(n),n.subtreeFlags&6&&(n.flags|=8192)):it(n),a=n.updateQueue,a!==null&&dc(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),t!==null&&X(Pr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Qi(At),it(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function Y1(t,n){switch(of(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Qi(At),at(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return oa(n),null;case 31:if(n.memoizedState!==null){if(En(n),n.alternate===null)throw Error(r(340));Mr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(En(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Mr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return X(pt),null;case 4:return at(),null;case 10:return Qi(n.type),null;case 22:case 23:return En(n),bf(),t!==null&&X(Pr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Qi(At),null;case 25:return null;default:return null}}function Ay(t,n){switch(of(n),n.tag){case 3:Qi(At),at();break;case 26:case 27:case 5:oa(n);break;case 4:at();break;case 31:n.memoizedState!==null&&En(n);break;case 13:En(n);break;case 19:X(pt);break;case 10:Qi(n.type);break;case 22:case 23:En(n),bf(),t!==null&&X(Pr);break;case 24:Qi(At)}}function ml(t,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&t)===t){o=void 0;var f=a.create,y=a.inst;o=f(),y.destroy=o}a=a.next}while(a!==h)}}catch(E){Ye(n,n.return,E)}}function Vs(t,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var y=o.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,h=n;var x=a,j=E;try{j()}catch(G){Ye(h,x,G)}}}o=o.next}while(o!==f)}}catch(G){Ye(n,n.return,G)}}function Sy(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{mg(n,a)}catch(o){Ye(t,t.return,o)}}}function wy(t,n,a){a.props=qr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){Ye(t,n,o)}}function pl(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(h){Ye(t,n,h)}}function Ii(t,n){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Ye(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Ye(t,n,h)}else a.current=null}function Ry(t){var n=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Ye(t,t.return,h)}}function ed(t,n,a){try{var o=t.stateNode;gb(o,t.type,a,n),o[Pt]=n}catch(h){Ye(t,t.return,h)}}function Cy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&qs(t.type)||t.tag===4}function td(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Cy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&qs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function nd(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Gn));else if(o!==4&&(o===27&&qs(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(nd(t,n,a),t=t.sibling;t!==null;)nd(t,n,a),t=t.sibling}function mc(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(o!==4&&(o===27&&qs(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(mc(t,n,a),t=t.sibling;t!==null;)mc(t,n,a),t=t.sibling}function Iy(t){var n=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Qt(n,o,a),n[Et]=t,n[Pt]=a}catch(f){Ye(t,t.return,f)}}var Zi=!1,Rt=!1,id=!1,xy=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function X1(t,n){if(t=t.containerInfo,Sd=kc,t=qp(t),Xh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var y=0,E=-1,x=-1,j=0,G=0,Y=t,q=null;t:for(;;){for(var H;Y!==a||h!==0&&Y.nodeType!==3||(E=y+h),Y!==f||o!==0&&Y.nodeType!==3||(x=y+o),Y.nodeType===3&&(y+=Y.nodeValue.length),(H=Y.firstChild)!==null;)q=Y,Y=H;for(;;){if(Y===t)break t;if(q===a&&++j===h&&(E=y),q===f&&++G===o&&(x=y),(H=Y.nextSibling)!==null)break;Y=q,q=Y.parentNode}Y=H}a=E===-1||x===-1?null:{start:E,end:x}}else a=null}a=a||{start:0,end:0}}else a=null;for(wd={focusedElem:t,selectionRange:a},kc=!1,Ut=n;Ut!==null;)if(n=Ut,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Ut=t;else for(;Ut!==null;){switch(n=Ut,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var le=qr(a.type,h);t=o.getSnapshotBeforeUpdate(le,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(ye){Ye(a,a.return,ye)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Id(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Id(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,Ut=t;break}Ut=n.return}}function Ny(t,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Wi(t,a),o&4&&ml(5,a);break;case 1:if(Wi(t,a),o&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(y){Ye(a,a.return,y)}else{var h=qr(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){Ye(a,a.return,y)}}o&64&&Sy(a),o&512&&pl(a,a.return);break;case 3:if(Wi(t,a),o&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{mg(t,n)}catch(y){Ye(a,a.return,y)}}break;case 27:n===null&&o&4&&Iy(a);case 26:case 5:Wi(t,a),n===null&&o&4&&Ry(a),o&512&&pl(a,a.return);break;case 12:Wi(t,a);break;case 31:Wi(t,a),o&4&&My(t,a);break;case 13:Wi(t,a),o&4&&Vy(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=sb.bind(null,a),Sb(t,a))));break;case 22:if(o=a.memoizedState!==null||Zi,!o){n=n!==null&&n.memoizedState!==null||Rt,h=Zi;var f=Rt;Zi=o,(Rt=n)&&!f?es(t,a,(a.subtreeFlags&8772)!==0):Wi(t,a),Zi=h,Rt=f}break;case 30:break;default:Wi(t,a)}}function Dy(t){var n=t.alternate;n!==null&&(t.alternate=null,Dy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&fa(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var lt=null,un=!1;function Ji(t,n,a){for(a=a.child;a!==null;)Oy(t,n,a),a=a.sibling}function Oy(t,n,a){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(qn,a)}catch{}switch(a.tag){case 26:Rt||Ii(a,n),Ji(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Rt||Ii(a,n);var o=lt,h=un;qs(a.type)&&(lt=a.stateNode,un=!1),Ji(t,n,a),Sl(a.stateNode),lt=o,un=h;break;case 5:Rt||Ii(a,n);case 6:if(o=lt,h=un,lt=null,Ji(t,n,a),lt=o,un=h,lt!==null)if(un)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(a.stateNode)}catch(f){Ye(a,n,f)}else try{lt.removeChild(a.stateNode)}catch(f){Ye(a,n,f)}break;case 18:lt!==null&&(un?(t=lt,S_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),$a(t)):S_(lt,a.stateNode));break;case 4:o=lt,h=un,lt=a.stateNode.containerInfo,un=!0,Ji(t,n,a),lt=o,un=h;break;case 0:case 11:case 14:case 15:Vs(2,a,n),Rt||Vs(4,a,n),Ji(t,n,a);break;case 1:Rt||(Ii(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&wy(a,n,o)),Ji(t,n,a);break;case 21:Ji(t,n,a);break;case 22:Rt=(o=Rt)||a.memoizedState!==null,Ji(t,n,a),Rt=o;break;default:Ji(t,n,a)}}function My(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{$a(t)}catch(a){Ye(n,n.return,a)}}}function Vy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{$a(t)}catch(a){Ye(n,n.return,a)}}function $1(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new xy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new xy),n;default:throw Error(r(435,t.tag))}}function pc(t,n){var a=$1(t);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=rb.bind(null,t,o);o.then(h,h)}})}function cn(t,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=t,y=n,E=y;e:for(;E!==null;){switch(E.tag){case 27:if(qs(E.type)){lt=E.stateNode,un=!1;break e}break;case 5:lt=E.stateNode,un=!1;break e;case 3:case 4:lt=E.stateNode.containerInfo,un=!0;break e}E=E.return}if(lt===null)throw Error(r(160));Oy(f,y,h),lt=null,un=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)ky(n,t),n=n.sibling}var Zn=null;function ky(t,n){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:cn(n,t),hn(t),o&4&&(Vs(3,t,t.return),ml(3,t),Vs(5,t,t.return));break;case 1:cn(n,t),hn(t),o&512&&(Rt||a===null||Ii(a,a.return)),o&64&&Zi&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Zn;if(cn(n,t),hn(t),o&512&&(Rt||a===null||Ii(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[mi]||f[Et]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Qt(f,o,a),f[Et]=t,Tt(f),o=f;break e;case"link":var y=k_("link","href",h).get(o+(a.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(E,1);break t}}f=h.createElement(o),Qt(f,o,a),h.head.appendChild(f);break;case"meta":if(y=k_("meta","content",h).get(o+(a.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(E,1);break t}}f=h.createElement(o),Qt(f,o,a),h.head.appendChild(f);break;default:throw Error(r(468,o))}f[Et]=t,Tt(f),o=f}t.stateNode=o}else P_(h,t.type,t.stateNode);else t.stateNode=V_(h,o,t.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?P_(h,t.type,t.stateNode):V_(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&ed(t,t.memoizedProps,a.memoizedProps)}break;case 27:cn(n,t),hn(t),o&512&&(Rt||a===null||Ii(a,a.return)),a!==null&&o&4&&ed(t,t.memoizedProps,a.memoizedProps);break;case 5:if(cn(n,t),hn(t),o&512&&(Rt||a===null||Ii(a,a.return)),t.flags&32){h=t.stateNode;try{ln(h,"")}catch(le){Ye(t,t.return,le)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,ed(t,h,a!==null?a.memoizedProps:h)),o&1024&&(id=!0);break;case 6:if(cn(n,t),hn(t),o&4){if(t.stateNode===null)throw Error(r(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(le){Ye(t,t.return,le)}}break;case 3:if(Dc=null,h=Zn,Zn=xc(n.containerInfo),cn(n,t),Zn=h,hn(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{$a(n.containerInfo)}catch(le){Ye(t,t.return,le)}id&&(id=!1,Py(t));break;case 4:o=Zn,Zn=xc(t.stateNode.containerInfo),cn(n,t),hn(t),Zn=o;break;case 12:cn(n,t),hn(t);break;case 31:cn(n,t),hn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,pc(t,o)));break;case 13:cn(n,t),hn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(yc=sn()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,pc(t,o)));break;case 22:h=t.memoizedState!==null;var x=a!==null&&a.memoizedState!==null,j=Zi,G=Rt;if(Zi=j||h,Rt=G||x,cn(n,t),Rt=G,Zi=j,hn(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||x||Zi||Rt||Br(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){x=a=n;try{if(f=x.stateNode,h)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=x.stateNode;var Y=x.memoizedProps.style,q=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(le){Ye(x,x.return,le)}}}else if(n.tag===6){if(a===null){x=n;try{x.stateNode.nodeValue=h?"":x.memoizedProps}catch(le){Ye(x,x.return,le)}}}else if(n.tag===18){if(a===null){x=n;try{var H=x.stateNode;h?w_(H,!0):w_(x.stateNode,!1)}catch(le){Ye(x,x.return,le)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,pc(t,a))));break;case 19:cn(n,t),hn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,pc(t,o)));break;case 30:break;case 21:break;default:cn(n,t),hn(t)}}function hn(t){var n=t.flags;if(n&2){try{for(var a,o=t.return;o!==null;){if(Cy(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=td(t);mc(t,f,h);break;case 5:var y=a.stateNode;a.flags&32&&(ln(y,""),a.flags&=-33);var E=td(t);mc(t,E,y);break;case 3:case 4:var x=a.stateNode.containerInfo,j=td(t);nd(t,j,x);break;default:throw Error(r(161))}}catch(G){Ye(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Py(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Py(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Wi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Ny(t,n.alternate,n),n=n.sibling}function Br(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Vs(4,n,n.return),Br(n);break;case 1:Ii(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&wy(n,n.return,a),Br(n);break;case 27:Sl(n.stateNode);case 26:case 5:Ii(n,n.return),Br(n);break;case 22:n.memoizedState===null&&Br(n);break;case 30:Br(n);break;default:Br(n)}t=t.sibling}}function es(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:es(h,f,a),ml(4,f);break;case 1:if(es(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){Ye(o,o.return,j)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var x=h.shared.hiddenCallbacks;if(x!==null)for(h.shared.hiddenCallbacks=null,h=0;h<x.length;h++)dg(x[h],E)}catch(j){Ye(o,o.return,j)}}a&&y&64&&Sy(f),pl(f,f.return);break;case 27:Iy(f);case 26:case 5:es(h,f,a),a&&o===null&&y&4&&Ry(f),pl(f,f.return);break;case 12:es(h,f,a);break;case 31:es(h,f,a),a&&y&4&&My(h,f);break;case 13:es(h,f,a),a&&y&4&&Vy(h,f);break;case 22:f.memoizedState===null&&es(h,f,a),pl(f,f.return);break;case 30:break;default:es(h,f,a)}n=n.sibling}}function sd(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&tl(a))}function rd(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&tl(t))}function Jn(t,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ly(t,n,a,o),n=n.sibling}function Ly(t,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Jn(t,n,a,o),h&2048&&ml(9,n);break;case 1:Jn(t,n,a,o);break;case 3:Jn(t,n,a,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&tl(t)));break;case 12:if(h&2048){Jn(t,n,a,o),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(x){Ye(n,n.return,x)}}else Jn(t,n,a,o);break;case 31:Jn(t,n,a,o);break;case 13:Jn(t,n,a,o);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?Jn(t,n,a,o):gl(t,n):f._visibility&2?Jn(t,n,a,o):(f._visibility|=2,ja(t,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&sd(y,n);break;case 24:Jn(t,n,a,o),h&2048&&rd(n.alternate,n);break;default:Jn(t,n,a,o)}}function ja(t,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,y=n,E=a,x=o,j=y.flags;switch(y.tag){case 0:case 11:case 15:ja(f,y,E,x,h),ml(8,y);break;case 23:break;case 22:var G=y.stateNode;y.memoizedState!==null?G._visibility&2?ja(f,y,E,x,h):gl(f,y):(G._visibility|=2,ja(f,y,E,x,h)),h&&j&2048&&sd(y.alternate,y);break;case 24:ja(f,y,E,x,h),h&&j&2048&&rd(y.alternate,y);break;default:ja(f,y,E,x,h)}n=n.sibling}}function gl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,o=n,h=o.flags;switch(o.tag){case 22:gl(a,o),h&2048&&sd(o.alternate,o);break;case 24:gl(a,o),h&2048&&rd(o.alternate,o);break;default:gl(a,o)}n=n.sibling}}var yl=8192;function za(t,n,a){if(t.subtreeFlags&yl)for(t=t.child;t!==null;)Uy(t,n,a),t=t.sibling}function Uy(t,n,a){switch(t.tag){case 26:za(t,n,a),t.flags&yl&&t.memoizedState!==null&&Pb(a,Zn,t.memoizedState,t.memoizedProps);break;case 5:za(t,n,a);break;case 3:case 4:var o=Zn;Zn=xc(t.stateNode.containerInfo),za(t,n,a),Zn=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=yl,yl=16777216,za(t,n,a),yl=o):za(t,n,a));break;default:za(t,n,a)}}function jy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function _l(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Ut=o,qy(o,t)}jy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)zy(t),t=t.sibling}function zy(t){switch(t.tag){case 0:case 11:case 15:_l(t),t.flags&2048&&Vs(9,t,t.return);break;case 3:_l(t);break;case 12:_l(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,gc(t)):_l(t);break;default:_l(t)}}function gc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Ut=o,qy(o,t)}jy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Vs(8,n,n.return),gc(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,gc(n));break;default:gc(n)}t=t.sibling}}function qy(t,n){for(;Ut!==null;){var a=Ut;switch(a.tag){case 0:case 11:case 15:Vs(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:tl(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Ut=o;else e:for(a=t;Ut!==null;){o=Ut;var h=o.sibling,f=o.return;if(Dy(o),o===a){Ut=null;break e}if(h!==null){h.return=f,Ut=h;break e}Ut=f}}}var Z1={getCacheForType:function(t){var n=Ft(At),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return Ft(At).controller.signal}},J1=typeof WeakMap=="function"?WeakMap:Map,He=0,We=null,xe=null,De=0,Ke=0,Tn=null,ks=!1,qa=!1,ad=!1,ts=0,ft=0,Ps=0,Hr=0,od=0,bn=0,Ba=0,vl=null,fn=null,ld=!1,yc=0,By=0,_c=1/0,vc=null,Ls=null,Vt=0,Us=null,Ha=null,ns=0,ud=0,cd=null,Hy=null,El=0,hd=null;function An(){return(He&2)!==0&&De!==0?De&-De:Q.T!==null?yd():Eu()}function Fy(){if(bn===0)if((De&536870912)===0||Pe){var t=gr;gr<<=1,(gr&3932160)===0&&(gr=262144),bn=t}else bn=536870912;return t=vn.current,t!==null&&(t.flags|=32),bn}function dn(t,n,a){(t===We&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)&&(Fa(t,0),js(t,De,bn,!1)),yr(t,a),((He&2)===0||t!==We)&&(t===We&&((He&2)===0&&(Hr|=a),ft===4&&js(t,De,bn,!1)),xi(t))}function Gy(t,n,a){if((He&6)!==0)throw Error(r(327));var o=!a&&(n&127)===0&&(n&t.expiredLanes)===0||Bn(t,n),h=o?tb(t,n):dd(t,n,!0),f=o;do{if(h===0){qa&&!o&&js(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!W1(a)){h=dd(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;e:{var E=t;h=vl;var x=E.current.memoizedState.isDehydrated;if(x&&(Fa(E,y).flags|=256),y=dd(E,y,!1),y!==2){if(ad&&!x){E.errorRecoveryDisabledLanes|=f,Hr|=f,h=4;break e}f=fn,fn=h,f!==null&&(fn===null?fn=f:fn.push.apply(fn,f))}h=y}if(f=!1,h!==2)continue}}if(h===1){Fa(t,0),js(t,n,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:js(o,n,bn,!ks);break e;case 2:fn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=yc+300-sn(),10<h)){if(js(o,n,bn,!ks),hi(o,0,!0)!==0)break e;ns=n,o.timeoutHandle=b_(Qy.bind(null,o,a,fn,vc,ld,n,bn,Hr,Ba,ks,f,"Throttled",-0,0),h);break e}Qy(o,a,fn,vc,ld,n,bn,Hr,Ba,ks,f,null,-0,0)}}break}while(!0);xi(t)}function Qy(t,n,a,o,h,f,y,E,x,j,G,Y,q,H){if(t.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Gn},Uy(n,f,Y);var le=(f&62914560)===f?yc-sn():(f&4194048)===f?By-sn():0;if(le=Lb(Y,le),le!==null){ns=f,t.cancelPendingCommit=le(e_.bind(null,t,n,f,a,o,h,y,E,x,G,Y,null,q,H)),js(t,f,y,!j);return}}e_(t,n,f,a,o,h,y,E,x)}function W1(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!yn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function js(t,n,a,o){n&=~od,n&=~Hr,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var f=31-dt(h),y=1<<f;o[f]=-1,h&=~y}a!==0&&_r(t,a,n)}function Ec(){return(He&6)===0?(Tl(0),!1):!0}function fd(){if(xe!==null){if(Ke===0)var t=xe.return;else t=xe,Gi=Vr=null,If(t),Va=null,il=0,t=xe;for(;t!==null;)Ay(t.alternate,t),t=t.return;xe=null}}function Fa(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,vb(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ns=0,fd(),We=t,xe=a=Hi(t.current,null),De=n,Ke=0,Tn=null,ks=!1,qa=Bn(t,n),ad=!1,Ba=bn=od=Hr=Ps=ft=0,fn=vl=null,ld=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-dt(o),f=1<<h;n|=t[h],o&=~f}return ts=n,qu(),a}function Ky(t,n){Re=null,Q.H=hl,n===Ma||n===Xu?(n=ug(),Ke=3):n===gf?(n=ug(),Ke=4):Ke=n===Ff?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Tn=n,xe===null&&(ft=1,uc(t,Dn(n,t.current)))}function Yy(){var t=vn.current;return t===null?!0:(De&4194048)===De?kn===null:(De&62914560)===De||(De&536870912)!==0?t===kn:!1}function Xy(){var t=Q.H;return Q.H=hl,t===null?hl:t}function $y(){var t=Q.A;return Q.A=Z1,t}function Tc(){ft=4,ks||(De&4194048)!==De&&vn.current!==null||(qa=!0),(Ps&134217727)===0&&(Hr&134217727)===0||We===null||js(We,De,bn,!1)}function dd(t,n,a){var o=He;He|=2;var h=Xy(),f=$y();(We!==t||De!==n)&&(vc=null,Fa(t,n)),n=!1;var y=ft;e:do try{if(Ke!==0&&xe!==null){var E=xe,x=Tn;switch(Ke){case 8:fd(),y=6;break e;case 3:case 2:case 9:case 6:vn.current===null&&(n=!0);var j=Ke;if(Ke=0,Tn=null,Ga(t,E,x,j),a&&qa){y=0;break e}break;default:j=Ke,Ke=0,Tn=null,Ga(t,E,x,j)}}eb(),y=ft;break}catch(G){Ky(t,G)}while(!0);return n&&t.shellSuspendCounter++,Gi=Vr=null,He=o,Q.H=h,Q.A=f,xe===null&&(We=null,De=0,qu()),y}function eb(){for(;xe!==null;)Zy(xe)}function tb(t,n){var a=He;He|=2;var o=Xy(),h=$y();We!==t||De!==n?(vc=null,_c=sn()+500,Fa(t,n)):qa=Bn(t,n);e:do try{if(Ke!==0&&xe!==null){n=xe;var f=Tn;t:switch(Ke){case 1:Ke=0,Tn=null,Ga(t,n,f,1);break;case 2:case 9:if(og(f)){Ke=0,Tn=null,Jy(n);break}n=function(){Ke!==2&&Ke!==9||We!==t||(Ke=7),xi(t)},f.then(n,n);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:og(f)?(Ke=0,Tn=null,Jy(n)):(Ke=0,Tn=null,Ga(t,n,f,7));break;case 5:var y=null;switch(xe.tag){case 26:y=xe.memoizedState;case 5:case 27:var E=xe;if(y?L_(y):E.stateNode.complete){Ke=0,Tn=null;var x=E.sibling;if(x!==null)xe=x;else{var j=E.return;j!==null?(xe=j,bc(j)):xe=null}break t}}Ke=0,Tn=null,Ga(t,n,f,5);break;case 6:Ke=0,Tn=null,Ga(t,n,f,6);break;case 8:fd(),ft=6;break e;default:throw Error(r(462))}}nb();break}catch(G){Ky(t,G)}while(!0);return Gi=Vr=null,Q.H=o,Q.A=h,He=a,xe!==null?0:(We=null,De=0,qu(),ft)}function nb(){for(;xe!==null&&!Bh();)Zy(xe)}function Zy(t){var n=Ty(t.alternate,t,ts);t.memoizedProps=t.pendingProps,n===null?bc(t):xe=n}function Jy(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=py(a,n,n.pendingProps,n.type,void 0,De);break;case 11:n=py(a,n,n.pendingProps,n.type.render,n.ref,De);break;case 5:If(n);default:Ay(a,n),n=xe=$p(n,ts),n=Ty(a,n,ts)}t.memoizedProps=t.pendingProps,n===null?bc(t):xe=n}function Ga(t,n,a,o){Gi=Vr=null,If(n),Va=null,il=0;var h=n.return;try{if(F1(t,h,n,a,De)){ft=1,uc(t,Dn(a,t.current)),xe=null;return}}catch(f){if(h!==null)throw xe=h,f;ft=1,uc(t,Dn(a,t.current)),xe=null;return}n.flags&32768?(Pe||o===1?t=!0:qa||(De&536870912)!==0?t=!1:(ks=t=!0,(o===2||o===9||o===3||o===6)&&(o=vn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Wy(n,t)):bc(n)}function bc(t){var n=t;do{if((n.flags&32768)!==0){Wy(n,ks);return}t=n.return;var a=K1(n.alternate,n,ts);if(a!==null){xe=a;return}if(n=n.sibling,n!==null){xe=n;return}xe=n=t}while(n!==null);ft===0&&(ft=5)}function Wy(t,n){do{var a=Y1(t.alternate,t);if(a!==null){a.flags&=32767,xe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){xe=t;return}xe=t=a}while(t!==null);ft=6,xe=null}function e_(t,n,a,o,h,f,y,E,x){t.cancelPendingCommit=null;do Ac();while(Vt!==0);if((He&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=ef,Gh(t,a,f,y,E,x),t===We&&(xe=We=null,De=0),Ha=n,Us=t,ns=a,ud=f,cd=h,Hy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,ab(ps,function(){return r_(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=Q.T,Q.T=null,h=ie.p,ie.p=2,y=He,He|=4;try{X1(t,n,a)}finally{He=y,ie.p=h,Q.T=o}}Vt=1,t_(),n_(),i_()}}function t_(){if(Vt===1){Vt=0;var t=Us,n=Ha,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var o=ie.p;ie.p=2;var h=He;He|=4;try{ky(n,t);var f=wd,y=qp(t.containerInfo),E=f.focusedElem,x=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&zp(E.ownerDocument.documentElement,E)){if(x!==null&&Xh(E)){var j=x.start,G=x.end;if(G===void 0&&(G=j),"selectionStart"in E)E.selectionStart=j,E.selectionEnd=Math.min(G,E.value.length);else{var Y=E.ownerDocument||document,q=Y&&Y.defaultView||window;if(q.getSelection){var H=q.getSelection(),le=E.textContent.length,ye=Math.min(x.start,le),Je=x.end===void 0?ye:Math.min(x.end,le);!H.extend&&ye>Je&&(y=Je,Je=ye,ye=y);var k=jp(E,ye),O=jp(E,Je);if(k&&O&&(H.rangeCount!==1||H.anchorNode!==k.node||H.anchorOffset!==k.offset||H.focusNode!==O.node||H.focusOffset!==O.offset)){var U=Y.createRange();U.setStart(k.node,k.offset),H.removeAllRanges(),ye>Je?(H.addRange(U),H.extend(O.node,O.offset)):(U.setEnd(O.node,O.offset),H.addRange(U))}}}}for(Y=[],H=E;H=H.parentNode;)H.nodeType===1&&Y.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var K=Y[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}kc=!!Sd,wd=Sd=null}finally{He=h,ie.p=o,Q.T=a}}t.current=n,Vt=2}}function n_(){if(Vt===2){Vt=0;var t=Us,n=Ha,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var o=ie.p;ie.p=2;var h=He;He|=4;try{Ny(t,n.alternate,n)}finally{He=h,ie.p=o,Q.T=a}}Vt=3}}function i_(){if(Vt===4||Vt===3){Vt=0,du();var t=Us,n=Ha,a=ns,o=Hy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Vt=5:(Vt=0,Ha=Us=null,s_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Ls=null),ji(a),n=n.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(qn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=Q.T,h=ie.p,ie.p=2,Q.T=null;try{for(var f=t.onRecoverableError,y=0;y<o.length;y++){var E=o[y];f(E.value,{componentStack:E.stack})}}finally{Q.T=n,ie.p=h}}(ns&3)!==0&&Ac(),xi(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===hd?El++:(El=0,hd=t):El=0,Tl(0)}}function s_(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,tl(n)))}function Ac(){return t_(),n_(),i_(),r_()}function r_(){if(Vt!==5)return!1;var t=Us,n=ud;ud=0;var a=ji(ns),o=Q.T,h=ie.p;try{ie.p=32>a?32:a,Q.T=null,a=cd,cd=null;var f=Us,y=ns;if(Vt=0,Ha=Us=null,ns=0,(He&6)!==0)throw Error(r(331));var E=He;if(He|=4,zy(f.current),Ly(f,f.current,y,a),He=E,Tl(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(qn,f)}catch{}return!0}finally{ie.p=h,Q.T=o,s_(t,n)}}function a_(t,n,a){n=Dn(a,n),n=Hf(t.stateNode,n,2),t=Ds(t,n,2),t!==null&&(yr(t,2),xi(t))}function Ye(t,n,a){if(t.tag===3)a_(t,t,a);else for(;n!==null;){if(n.tag===3){a_(n,t,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ls===null||!Ls.has(o))){t=Dn(a,t),a=oy(2),o=Ds(n,a,2),o!==null&&(ly(a,o,n,t),yr(o,2),xi(o));break}}n=n.return}}function md(t,n,a){var o=t.pingCache;if(o===null){o=t.pingCache=new J1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(ad=!0,h.add(a),t=ib.bind(null,t,n,a),n.then(t,t))}function ib(t,n,a){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,We===t&&(De&a)===a&&(ft===4||ft===3&&(De&62914560)===De&&300>sn()-yc?(He&2)===0&&Fa(t,0):od|=a,Ba===De&&(Ba=0)),xi(t)}function o_(t,n){n===0&&(n=vu()),t=Dr(t,n),t!==null&&(yr(t,n),xi(t))}function sb(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),o_(t,a)}function rb(t,n){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),o_(t,a)}function ab(t,n){return Mt(t,n)}var Sc=null,Qa=null,pd=!1,wc=!1,gd=!1,zs=0;function xi(t){t!==Qa&&t.next===null&&(Qa===null?Sc=Qa=t:Qa=Qa.next=t),wc=!0,pd||(pd=!0,lb())}function Tl(t,n){if(!gd&&wc){gd=!0;do for(var a=!1,o=Sc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var y=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-dt(42|t)+1)-1,f&=h&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,h_(o,f))}else f=De,f=hi(o,o===We?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Bn(o,f)||(a=!0,h_(o,f));o=o.next}while(a);gd=!1}}function ob(){l_()}function l_(){wc=pd=!1;var t=0;zs!==0&&_b()&&(t=zs);for(var n=sn(),a=null,o=Sc;o!==null;){var h=o.next,f=u_(o,n);f===0?(o.next=null,a===null?Sc=h:a.next=h,h===null&&(Qa=a)):(a=o,(t!==0||(f&3)!==0)&&(wc=!0)),o=h}Vt!==0&&Vt!==5||Tl(t),zs!==0&&(zs=0)}function u_(t,n){for(var a=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-dt(f),E=1<<y,x=h[y];x===-1?((E&a)===0||(E&o)!==0)&&(h[y]=Fh(E,n)):x<=n&&(t.expiredLanes|=E),f&=~E}if(n=We,a=De,a=hi(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===n&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&ms(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Bn(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(o!==null&&ms(o),ji(a)){case 2:case 8:a=Do;break;case 32:a=ps;break;case 268435456:a=mu;break;default:a=ps}return o=c_.bind(null,t),a=Mt(a,o),t.callbackPriority=n,t.callbackNode=a,n}return o!==null&&o!==null&&ms(o),t.callbackPriority=2,t.callbackNode=null,2}function c_(t,n){if(Vt!==0&&Vt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Ac()&&t.callbackNode!==a)return null;var o=De;return o=hi(t,t===We?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Gy(t,o,n),u_(t,sn()),t.callbackNode!=null&&t.callbackNode===a?c_.bind(null,t):null)}function h_(t,n){if(Ac())return null;Gy(t,n,!0)}function lb(){Eb(function(){(He&6)!==0?Mt(No,ob):l_()})}function yd(){if(zs===0){var t=Da;t===0&&(t=ui,ui<<=1,(ui&261888)===0&&(ui=256)),zs=t}return zs}function f_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ga(""+t)}function d_(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function ub(t,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var f=f_((h[Pt]||null).action),y=o.submitter;y&&(n=(n=y[Pt]||null)?f_(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new bi("action","action",null,o,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(zs!==0){var x=y?d_(h,y):new FormData(h);Lf(a,{pending:!0,data:x,method:h.method,action:f},null,x)}}else typeof f=="function"&&(E.preventDefault(),x=y?d_(h,y):new FormData(h),Lf(a,{pending:!0,data:x,method:h.method,action:f},f,x))},currentTarget:h}]})}}for(var _d=0;_d<Wh.length;_d++){var vd=Wh[_d],cb=vd.toLowerCase(),hb=vd[0].toUpperCase()+vd.slice(1);$n(cb,"on"+hb)}$n(Fp,"onAnimationEnd"),$n(Gp,"onAnimationIteration"),$n(Qp,"onAnimationStart"),$n("dblclick","onDoubleClick"),$n("focusin","onFocus"),$n("focusout","onBlur"),$n(C1,"onTransitionRun"),$n(I1,"onTransitionStart"),$n(x1,"onTransitionCancel"),$n(Kp,"onTransitionEnd"),_i("onMouseEnter",["mouseout","mouseover"]),_i("onMouseLeave",["mouseout","mouseover"]),_i("onPointerEnter",["pointerout","pointerover"]),_i("onPointerLeave",["pointerout","pointerover"]),yi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),yi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),yi("onBeforeInput",["compositionend","keypress","textInput","paste"]),yi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),yi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),yi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bl));function m_(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],h=o.event;o=o.listeners;e:{var f=void 0;if(n)for(var y=o.length-1;0<=y;y--){var E=o[y],x=E.instance,j=E.currentTarget;if(E=E.listener,x!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=j;try{f(h)}catch(G){zu(G)}h.currentTarget=null,f=x}else for(y=0;y<o.length;y++){if(E=o[y],x=E.instance,j=E.currentTarget,E=E.listener,x!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=j;try{f(h)}catch(G){zu(G)}h.currentTarget=null,f=x}}}}function Ne(t,n){var a=n[ha];a===void 0&&(a=n[ha]=new Set);var o=t+"__bubble";a.has(o)||(p_(n,t,2,!1),a.add(o))}function Ed(t,n,a){var o=0;n&&(o|=4),p_(a,t,o,n)}var Rc="_reactListening"+Math.random().toString(36).slice(2);function Td(t){if(!t[Rc]){t[Rc]=!0,Vo.forEach(function(a){a!=="selectionchange"&&(fb.has(a)||Ed(a,!1,t),Ed(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Rc]||(n[Rc]=!0,Ed("selectionchange",!1,n))}}function p_(t,n,a,o){switch(F_(n)){case 2:var h=zb;break;case 8:h=qb;break;default:h=Pd}a=h.bind(null,n,a,t),h=void 0,!Ar||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function bd(t,n,a,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var y=o.tag;if(y===3||y===4){var E=o.stateNode.containerInfo;if(E===h)break;if(y===4)for(y=o.return;y!==null;){var x=y.tag;if((x===3||x===4)&&y.stateNode.containerInfo===h)return;y=y.return}for(;E!==null;){if(y=pi(E),y===null)return;if(x=y.tag,x===5||x===6||x===26||x===27){o=f=y;continue e}E=E.parentNode}}o=o.return}Ts(function(){var j=f,G=Cn(a),Y=[];e:{var q=Yp.get(t);if(q!==void 0){var H=bi,le=t;switch(t){case"keypress":if(wr(a)===0)break e;case"keydown":case"keyup":H=Lu;break;case"focusin":le="focus",H=Cr;break;case"focusout":le="blur",H=Cr;break;case"beforeblur":case"afterblur":H=Cr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Ko;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Iu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case Fp:case Gp:case Qp:H=Nu;break;case Kp:H=S;break;case"scroll":case"scrollend":H=Qo;break;case"wheel":H=B;break;case"copy":case"cut":case"paste":H=Du;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Bi;break;case"toggle":case"beforetoggle":H=we}var ye=(n&4)!==0,Je=!ye&&(t==="scroll"||t==="scrollend"),k=ye?q!==null?q+"Capture":null:q;ye=[];for(var O=j,U;O!==null;){var K=O;if(U=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||U===null||k===null||(K=Qn(O,k),K!=null&&ye.push(Al(O,K,U))),Je)break;O=O.return}0<ye.length&&(q=new H(q,le,null,a,G),Y.push({event:q,listeners:ye}))}}if((n&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",q&&a!==Ho&&(le=a.relatedTarget||a.fromElement)&&(pi(le)||le[di]))break e;if((H||q)&&(q=G.window===G?G:(q=G.ownerDocument)?q.defaultView||q.parentWindow:window,H?(le=a.relatedTarget||a.toElement,H=j,le=le?pi(le):null,le!==null&&(Je=u(le),ye=le.tag,le!==Je||ye!==5&&ye!==27&&ye!==6)&&(le=null)):(H=null,le=j),H!==le)){if(ye=Ko,K="onMouseLeave",k="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(ye=Bi,K="onPointerLeave",k="onPointerEnter",O="pointer"),Je=H==null?q:pn(H),U=le==null?q:pn(le),q=new ye(K,O+"leave",H,a,G),q.target=Je,q.relatedTarget=U,K=null,pi(G)===j&&(ye=new ye(k,O+"enter",le,a,G),ye.target=U,ye.relatedTarget=Je,K=ye),Je=K,H&&le)t:{for(ye=db,k=H,O=le,U=0,K=k;K;K=ye(K))U++;K=0;for(var fe=O;fe;fe=ye(fe))K++;for(;0<U-K;)k=ye(k),U--;for(;0<K-U;)O=ye(O),K--;for(;U--;){if(k===O||O!==null&&k===O.alternate){ye=k;break t}k=ye(k),O=ye(O)}ye=null}else ye=null;H!==null&&g_(Y,q,H,ye,!1),le!==null&&Je!==null&&g_(Y,Je,le,ye,!0)}}e:{if(q=j?pn(j):window,H=q.nodeName&&q.nodeName.toLowerCase(),H==="select"||H==="input"&&q.type==="file")var ze=Mp;else if(Dp(q))if(Vp)ze=S1;else{ze=b1;var ce=T1}else H=q.nodeName,!H||H.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?j&&pa(j.elementType)&&(ze=Mp):ze=A1;if(ze&&(ze=ze(t,j))){Op(Y,ze,a,G);break e}ce&&ce(t,q,j),t==="focusout"&&j&&q.type==="number"&&j.memoizedProps.value!=null&&zo(q,"number",q.value)}switch(ce=j?pn(j):window,t){case"focusin":(Dp(ce)||ce.contentEditable==="true")&&(Aa=ce,$h=j,Jo=null);break;case"focusout":Jo=$h=Aa=null;break;case"mousedown":Zh=!0;break;case"contextmenu":case"mouseup":case"dragend":Zh=!1,Bp(Y,a,G);break;case"selectionchange":if(R1)break;case"keydown":case"keyup":Bp(Y,a,G)}var Ie;if(Be)e:{switch(t){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else ba?Ir(t,a)&&(Oe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Oe="onCompositionStart");Oe&&(wi&&a.locale!=="ko"&&(ba||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&ba&&(Ie=Go()):(Ti=G,Fo="value"in Ti?Ti.value:Ti.textContent,ba=!0)),ce=Cc(j,Oe),0<ce.length&&(Oe=new Si(Oe,t,null,a,G),Y.push({event:Oe,listeners:ce}),Ie?Oe.data=Ie:(Ie=Ta(a),Ie!==null&&(Oe.data=Ie)))),(Ie=xn?y1(t,a):_1(t,a))&&(Oe=Cc(j,"onBeforeInput"),0<Oe.length&&(ce=new Si("onBeforeInput","beforeinput",null,a,G),Y.push({event:ce,listeners:Oe}),ce.data=Ie)),ub(Y,t,j,a,G)}m_(Y,n)})}function Al(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Cc(t,n){for(var a=n+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Qn(t,a),h!=null&&o.unshift(Al(t,h,f)),h=Qn(t,n),h!=null&&o.push(Al(t,h,f))),t.tag===3)return o;t=t.return}return[]}function db(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function g_(t,n,a,o,h){for(var f=n._reactName,y=[];a!==null&&a!==o;){var E=a,x=E.alternate,j=E.stateNode;if(E=E.tag,x!==null&&x===o)break;E!==5&&E!==26&&E!==27||j===null||(x=j,h?(j=Qn(a,f),j!=null&&y.unshift(Al(a,j,x))):h||(j=Qn(a,f),j!=null&&y.push(Al(a,j,x)))),a=a.return}y.length!==0&&t.push({event:n,listeners:y})}var mb=/\r\n?/g,pb=/\u0000|\uFFFD/g;function y_(t){return(typeof t=="string"?t:""+t).replace(mb,`
`).replace(pb,"")}function __(t,n){return n=y_(n),y_(t)===n}function Ze(t,n,a,o,h,f){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||ln(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&ln(t,""+o);break;case"className":gn(t,"class",o);break;case"tabIndex":gn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":gn(t,a,o);break;case"style":Bo(t,o,f);break;case"data":if(n!=="object"){gn(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=ga(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Ze(t,n,"name",h.name,h,null),Ze(t,n,"formEncType",h.formEncType,h,null),Ze(t,n,"formMethod",h.formMethod,h,null),Ze(t,n,"formTarget",h.formTarget,h,null)):(Ze(t,n,"encType",h.encType,h,null),Ze(t,n,"method",h.method,h,null),Ze(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=ga(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=Gn);break;case"onScroll":o!=null&&Ne("scroll",t);break;case"onScrollEnd":o!=null&&Ne("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=ga(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":Ne("beforetoggle",t),Ne("toggle",t),da(t,"popover",o);break;case"xlinkActuate":bt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":bt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":bt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":bt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":bt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":bt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":bt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":bt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":bt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":da(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Cu.get(a)||a,da(t,a,o))}}function Ad(t,n,a,o,h,f){switch(a){case"style":Bo(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof o=="string"?ln(t,o):(typeof o=="number"||typeof o=="bigint")&&ln(t,""+o);break;case"onScroll":o!=null&&Ne("scroll",t);break;case"onScrollEnd":o!=null&&Ne("scrollend",t);break;case"onClick":o!=null&&(t.onclick=Gn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ko.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=t[Pt]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,o,h);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):da(t,a,o)}}}function Qt(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ne("error",t),Ne("load",t);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var y=a[f];if(y!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Ze(t,n,f,y,a,null)}}h&&Ze(t,n,"srcSet",a.srcSet,a,null),o&&Ze(t,n,"src",a.src,a,null);return;case"input":Ne("invalid",t);var E=f=y=h=null,x=null,j=null;for(o in a)if(a.hasOwnProperty(o)){var G=a[o];if(G!=null)switch(o){case"name":h=G;break;case"type":y=G;break;case"checked":x=G;break;case"defaultChecked":j=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,n));break;default:Ze(t,n,o,G,a,null)}}Su(t,f,E,x,j,y,h,!1);return;case"select":Ne("invalid",t),o=y=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":o=E;default:Ze(t,n,h,E,a,null)}n=f,a=y,t.multiple=!!o,n!=null?ys(t,!!o,n,!1):a!=null&&ys(t,!!o,a,!0);return;case"textarea":Ne("invalid",t),f=h=o=null;for(y in a)if(a.hasOwnProperty(y)&&(E=a[y],E!=null))switch(y){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:Ze(t,n,y,E,a,null)}_s(t,o,h,f);return;case"option":for(x in a)if(a.hasOwnProperty(x)&&(o=a[x],o!=null))switch(x){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Ze(t,n,x,o,a,null)}return;case"dialog":Ne("beforetoggle",t),Ne("toggle",t),Ne("cancel",t),Ne("close",t);break;case"iframe":case"object":Ne("load",t);break;case"video":case"audio":for(o=0;o<bl.length;o++)Ne(bl[o],t);break;case"image":Ne("error",t),Ne("load",t);break;case"details":Ne("toggle",t);break;case"embed":case"source":case"link":Ne("error",t),Ne("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(o=a[j],o!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Ze(t,n,j,o,a,null)}return;default:if(pa(n)){for(G in a)a.hasOwnProperty(G)&&(o=a[G],o!==void 0&&Ad(t,n,G,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&Ze(t,n,E,o,a,null))}function gb(t,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,y=null,E=null,x=null,j=null,G=null;for(H in a){var Y=a[H];if(a.hasOwnProperty(H)&&Y!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":x=Y;default:o.hasOwnProperty(H)||Ze(t,n,H,null,o,Y)}}for(var q in o){var H=o[q];if(Y=a[q],o.hasOwnProperty(q)&&(H!=null||Y!=null))switch(q){case"type":f=H;break;case"name":h=H;break;case"checked":j=H;break;case"defaultChecked":G=H;break;case"value":y=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,n));break;default:H!==Y&&Ze(t,n,q,H,o,Y)}}ma(t,y,E,x,j,G,f,h);return;case"select":H=y=E=q=null;for(f in a)if(x=a[f],a.hasOwnProperty(f)&&x!=null)switch(f){case"value":break;case"multiple":H=x;default:o.hasOwnProperty(f)||Ze(t,n,f,null,o,x)}for(h in o)if(f=o[h],x=a[h],o.hasOwnProperty(h)&&(f!=null||x!=null))switch(h){case"value":q=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==x&&Ze(t,n,h,f,o,x)}n=E,a=y,o=H,q!=null?ys(t,!!a,q,!1):!!o!=!!a&&(n!=null?ys(t,!!a,n,!0):ys(t,!!a,a?[]:"",!1));return;case"textarea":H=q=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Ze(t,n,E,null,o,h)}for(y in o)if(h=o[y],f=a[y],o.hasOwnProperty(y)&&(h!=null||f!=null))switch(y){case"value":q=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&Ze(t,n,y,h,o,f)}wu(t,q,H);return;case"option":for(var le in a)if(q=a[le],a.hasOwnProperty(le)&&q!=null&&!o.hasOwnProperty(le))switch(le){case"selected":t.selected=!1;break;default:Ze(t,n,le,null,o,q)}for(x in o)if(q=o[x],H=a[x],o.hasOwnProperty(x)&&q!==H&&(q!=null||H!=null))switch(x){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:Ze(t,n,x,q,o,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in a)q=a[ye],a.hasOwnProperty(ye)&&q!=null&&!o.hasOwnProperty(ye)&&Ze(t,n,ye,null,o,q);for(j in o)if(q=o[j],H=a[j],o.hasOwnProperty(j)&&q!==H&&(q!=null||H!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,n));break;default:Ze(t,n,j,q,o,H)}return;default:if(pa(n)){for(var Je in a)q=a[Je],a.hasOwnProperty(Je)&&q!==void 0&&!o.hasOwnProperty(Je)&&Ad(t,n,Je,void 0,o,q);for(G in o)q=o[G],H=a[G],!o.hasOwnProperty(G)||q===H||q===void 0&&H===void 0||Ad(t,n,G,q,o,H);return}}for(var k in a)q=a[k],a.hasOwnProperty(k)&&q!=null&&!o.hasOwnProperty(k)&&Ze(t,n,k,null,o,q);for(Y in o)q=o[Y],H=a[Y],!o.hasOwnProperty(Y)||q===H||q==null&&H==null||Ze(t,n,Y,q,o,H)}function v_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function yb(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,y=h.initiatorType,E=h.duration;if(f&&E&&v_(y)){for(y=0,E=h.responseEnd,o+=1;o<a.length;o++){var x=a[o],j=x.startTime;if(j>E)break;var G=x.transferSize,Y=x.initiatorType;G&&v_(Y)&&(x=x.responseEnd,y+=G*(x<E?1:(E-j)/(x-j)))}if(--o,n+=8*(f+y)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Sd=null,wd=null;function Ic(t){return t.nodeType===9?t:t.ownerDocument}function E_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function T_(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Rd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Cd=null;function _b(){var t=window.event;return t&&t.type==="popstate"?t===Cd?!1:(Cd=t,!0):(Cd=null,!1)}var b_=typeof setTimeout=="function"?setTimeout:void 0,vb=typeof clearTimeout=="function"?clearTimeout:void 0,A_=typeof Promise=="function"?Promise:void 0,Eb=typeof queueMicrotask=="function"?queueMicrotask:typeof A_<"u"?function(t){return A_.resolve(null).then(t).catch(Tb)}:b_;function Tb(t){setTimeout(function(){throw t})}function qs(t){return t==="head"}function S_(t,n){var a=n,o=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(h),$a(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")Sl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Sl(a);for(var f=a.firstChild;f;){var y=f.nextSibling,E=f.nodeName;f[mi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=y}}else a==="body"&&Sl(t.ownerDocument.body);a=h}while(a);$a(n)}function w_(t,n){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function Id(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Id(a),fa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function bb(t,n,a,o){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[mi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Pn(t.nextSibling),t===null)break}return null}function Ab(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Pn(t.nextSibling),t===null))return null;return t}function R_(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Pn(t.nextSibling),t===null))return null;return t}function xd(t){return t.data==="$?"||t.data==="$~"}function Nd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Sb(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Pn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Dd=null;function C_(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return Pn(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function I_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function x_(t,n,a){switch(n=Ic(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Sl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);fa(t)}var Ln=new Map,N_=new Set;function xc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var is=ie.d;ie.d={f:wb,r:Rb,D:Cb,C:Ib,L:xb,m:Nb,X:Ob,S:Db,M:Mb};function wb(){var t=is.f(),n=Ec();return t||n}function Rb(t){var n=Rn(t);n!==null&&n.tag===5&&n.type==="form"?Kg(n):is.r(t)}var Ka=typeof document>"u"?null:document;function D_(t,n,a){var o=Ka;if(o&&typeof n=="string"&&n){var h=on(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),N_.has(h)||(N_.add(h),t={rel:t,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Qt(n,"link",t),Tt(n),o.head.appendChild(n)))}}function Cb(t){is.D(t),D_("dns-prefetch",t,null)}function Ib(t,n){is.C(t,n),D_("preconnect",t,n)}function xb(t,n,a){is.L(t,n,a);var o=Ka;if(o&&t&&n){var h='link[rel="preload"][as="'+on(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+on(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+on(a.imageSizes)+'"]')):h+='[href="'+on(t)+'"]';var f=h;switch(n){case"style":f=Ya(t);break;case"script":f=Xa(t)}Ln.has(f)||(t=A({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Ln.set(f,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(wl(f))||n==="script"&&o.querySelector(Rl(f))||(n=o.createElement("link"),Qt(n,"link",t),Tt(n),o.head.appendChild(n)))}}function Nb(t,n){is.m(t,n);var a=Ka;if(a&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+on(o)+'"][href="'+on(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Xa(t)}if(!Ln.has(f)&&(t=A({rel:"modulepreload",href:t},n),Ln.set(f,t),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Rl(f)))return}o=a.createElement("link"),Qt(o,"link",t),Tt(o),a.head.appendChild(o)}}}function Db(t,n,a){is.S(t,n,a);var o=Ka;if(o&&t){var h=gi(o).hoistableStyles,f=Ya(t);n=n||"default";var y=h.get(f);if(!y){var E={loading:0,preload:null};if(y=o.querySelector(wl(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Ln.get(f))&&Od(t,a);var x=y=o.createElement("link");Tt(x),Qt(x,"link",t),x._p=new Promise(function(j,G){x.onload=j,x.onerror=G}),x.addEventListener("load",function(){E.loading|=1}),x.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Nc(y,n,o)}y={type:"stylesheet",instance:y,count:1,state:E},h.set(f,y)}}}function Ob(t,n){is.X(t,n);var a=Ka;if(a&&t){var o=gi(a).hoistableScripts,h=Xa(t),f=o.get(h);f||(f=a.querySelector(Rl(h)),f||(t=A({src:t,async:!0},n),(n=Ln.get(h))&&Md(t,n),f=a.createElement("script"),Tt(f),Qt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function Mb(t,n){is.M(t,n);var a=Ka;if(a&&t){var o=gi(a).hoistableScripts,h=Xa(t),f=o.get(h);f||(f=a.querySelector(Rl(h)),f||(t=A({src:t,async:!0,type:"module"},n),(n=Ln.get(h))&&Md(t,n),f=a.createElement("script"),Tt(f),Qt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function O_(t,n,a,o){var h=(h=Ce.current)?xc(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Ya(a.href),a=gi(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ya(a.href);var f=gi(h).hoistableStyles,y=f.get(t);if(y||(h=h.ownerDocument||h,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=h.querySelector(wl(t)))&&!f._p&&(y.instance=f,y.state.loading=5),Ln.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ln.set(t,a),f||Vb(h,t,a,y.state))),n&&o===null)throw Error(r(528,""));return y}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Xa(a),a=gi(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Ya(t){return'href="'+on(t)+'"'}function wl(t){return'link[rel="stylesheet"]['+t+"]"}function M_(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function Vb(t,n,a,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Qt(n,"link",a),Tt(n),t.head.appendChild(n))}function Xa(t){return'[src="'+on(t)+'"]'}function Rl(t){return"script[async]"+t}function V_(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+on(a.href)+'"]');if(o)return n.instance=o,Tt(o),o;var h=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Tt(o),Qt(o,"style",h),Nc(o,a.precedence,t),n.instance=o;case"stylesheet":h=Ya(a.href);var f=t.querySelector(wl(h));if(f)return n.state.loading|=4,n.instance=f,Tt(f),f;o=M_(a),(h=Ln.get(h))&&Od(o,h),f=(t.ownerDocument||t).createElement("link"),Tt(f);var y=f;return y._p=new Promise(function(E,x){y.onload=E,y.onerror=x}),Qt(f,"link",o),n.state.loading|=4,Nc(f,a.precedence,t),n.instance=f;case"script":return f=Xa(a.src),(h=t.querySelector(Rl(f)))?(n.instance=h,Tt(h),h):(o=a,(h=Ln.get(f))&&(o=A({},a),Md(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),Tt(h),Qt(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Nc(o,a.precedence,t));return n.instance}function Nc(t,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,y=0;y<o.length;y++){var E=o[y];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Od(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Md(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Dc=null;function k_(t,n,a){if(Dc===null){var o=new Map,h=Dc=new Map;h.set(a,o)}else h=Dc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[mi]||f[Et]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var E=o.get(y);E?E.push(f):o.set(y,[f])}}return o}function P_(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function kb(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function L_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Pb(t,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Ya(o.href),f=n.querySelector(wl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Oc.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,Tt(f);return}f=n.ownerDocument||n,o=M_(o),(h=Ln.get(h))&&Od(o,h),f=f.createElement("link"),Tt(f);var y=f;y._p=new Promise(function(E,x){y.onload=E,y.onerror=x}),Qt(f,"link",o),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Oc.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var Vd=0;function Lb(t,n){return t.stylesheets&&t.count===0&&Vc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&Vc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Vd===0&&(Vd=62500*yb());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Vc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Vd?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Oc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Vc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Mc=null;function Vc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Mc=new Map,n.forEach(Ub,t),Mc=null,Oc.call(t))}function Ub(t,n){if(!(n.state.loading&4)){var a=Mc.get(t);if(a)var o=a.get(null);else{a=new Map,Mc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var y=h[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),o=y)}o&&a.set(null,o)}h=n.instance,y=h.getAttribute("data-precedence"),f=a.get(y)||o,f===o&&a.set(null,h),a.set(y,h),this.count++,o=Oc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var Cl={$$typeof:te,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function jb(t,n,a,o,h,f,y,E,x){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fi(0),this.hiddenUpdates=fi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function U_(t,n,a,o,h,f,y,E,x,j,G,Y){return t=new jb(t,n,a,y,x,j,G,Y,E),n=1,f===!0&&(n|=24),f=_n(3,null,null,n),t.current=f,f.stateNode=t,n=df(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:n},yf(f),t}function j_(t){return t?(t=Ra,t):Ra}function z_(t,n,a,o,h,f){h=j_(h),o.context===null?o.context=h:o.pendingContext=h,o=Ns(n),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=Ds(t,o,n),a!==null&&(dn(a,t,n),rl(a,t,n))}function q_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function kd(t,n){q_(t,n),(t=t.alternate)&&q_(t,n)}function B_(t){if(t.tag===13||t.tag===31){var n=Dr(t,67108864);n!==null&&dn(n,t,67108864),kd(t,67108864)}}function H_(t){if(t.tag===13||t.tag===31){var n=An();n=vr(n);var a=Dr(t,n);a!==null&&dn(a,t,n),kd(t,n)}}var kc=!0;function zb(t,n,a,o){var h=Q.T;Q.T=null;var f=ie.p;try{ie.p=2,Pd(t,n,a,o)}finally{ie.p=f,Q.T=h}}function qb(t,n,a,o){var h=Q.T;Q.T=null;var f=ie.p;try{ie.p=8,Pd(t,n,a,o)}finally{ie.p=f,Q.T=h}}function Pd(t,n,a,o){if(kc){var h=Ld(o);if(h===null)bd(t,n,o,Pc,a),G_(t,o);else if(Hb(h,t,n,a,o))o.stopPropagation();else if(G_(t,o),n&4&&-1<Bb.indexOf(t)){for(;h!==null;){var f=Rn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=ci(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var x=1<<31-dt(y);E.entanglements[1]|=x,y&=~x}xi(f),(He&6)===0&&(_c=sn()+500,Tl(0))}}break;case 31:case 13:E=Dr(f,2),E!==null&&dn(E,f,2),Ec(),kd(f,2)}if(f=Ld(o),f===null&&bd(t,n,o,Pc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else bd(t,n,o,null,a)}}function Ld(t){return t=Cn(t),Ud(t)}var Pc=null;function Ud(t){if(Pc=null,t=pi(t),t!==null){var n=u(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=p(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Pc=t,null}function F_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(pr()){case No:return 2;case Do:return 8;case ps:case Hh:return 32;case mu:return 268435456;default:return 32}default:return 32}}var jd=!1,Bs=null,Hs=null,Fs=null,Il=new Map,xl=new Map,Gs=[],Bb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function G_(t,n){switch(t){case"focusin":case"focusout":Bs=null;break;case"dragenter":case"dragleave":Hs=null;break;case"mouseover":case"mouseout":Fs=null;break;case"pointerover":case"pointerout":Il.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":xl.delete(n.pointerId)}}function Nl(t,n,a,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Rn(n),n!==null&&B_(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function Hb(t,n,a,o,h){switch(n){case"focusin":return Bs=Nl(Bs,t,n,a,o,h),!0;case"dragenter":return Hs=Nl(Hs,t,n,a,o,h),!0;case"mouseover":return Fs=Nl(Fs,t,n,a,o,h),!0;case"pointerover":var f=h.pointerId;return Il.set(f,Nl(Il.get(f)||null,t,n,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,xl.set(f,Nl(xl.get(f)||null,t,n,a,o,h)),!0}return!1}function Q_(t){var n=pi(t.target);if(n!==null){var a=u(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,Hn(t.priority,function(){H_(a)});return}}else if(n===31){if(n=p(a),n!==null){t.blockedOn=n,Hn(t.priority,function(){H_(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Lc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Ld(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);Ho=o,a.target.dispatchEvent(o),Ho=null}else return n=Rn(a),n!==null&&B_(n),t.blockedOn=a,!1;n.shift()}return!0}function K_(t,n,a){Lc(t)&&a.delete(n)}function Fb(){jd=!1,Bs!==null&&Lc(Bs)&&(Bs=null),Hs!==null&&Lc(Hs)&&(Hs=null),Fs!==null&&Lc(Fs)&&(Fs=null),Il.forEach(K_),xl.forEach(K_)}function Uc(t,n){t.blockedOn===n&&(t.blockedOn=null,jd||(jd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Fb)))}var jc=null;function Y_(t){jc!==t&&(jc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){jc===t&&(jc=null);for(var n=0;n<t.length;n+=3){var a=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(Ud(o||a)===null)continue;break}var f=Rn(a);f!==null&&(t.splice(n,3),n-=3,Lf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function $a(t){function n(x){return Uc(x,t)}Bs!==null&&Uc(Bs,t),Hs!==null&&Uc(Hs,t),Fs!==null&&Uc(Fs,t),Il.forEach(n),xl.forEach(n);for(var a=0;a<Gs.length;a++){var o=Gs[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Gs.length&&(a=Gs[0],a.blockedOn===null);)Q_(a),a.blockedOn===null&&Gs.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],y=h[Pt]||null;if(typeof f=="function")y||Y_(a);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,y=f[Pt]||null)E=y.formAction;else if(Ud(h)!==null)continue}else E=y.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),Y_(a)}}}function X_(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(y){return h=y})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function zd(t){this._internalRoot=t}zc.prototype.render=zd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,o=An();z_(a,o,t,n,null,null)},zc.prototype.unmount=zd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;z_(t.current,2,null,t,null,null),Ec(),n[di]=null}};function zc(t){this._internalRoot=t}zc.prototype.unstable_scheduleHydration=function(t){if(t){var n=Eu();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Gs.length&&n!==0&&n<Gs[a].priority;a++);Gs.splice(a,0,t),a===0&&Q_(t)}};var $_=e.version;if($_!=="19.2.0")throw Error(r(527,$_,"19.2.0"));ie.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=_(n),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var Gb={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qc.isDisabled&&qc.supportsFiber)try{qn=qc.inject(Gb),qt=qc}catch{}}return Ol.createRoot=function(t,n){if(!l(t))throw Error(r(299));var a=!1,o="",h=iy,f=sy,y=ry;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError)),n=U_(t,1,!1,null,null,a,o,null,h,f,y,X_),t[di]=n.current,Td(t),new zd(n)},Ol.hydrateRoot=function(t,n,a){if(!l(t))throw Error(r(299));var o=!1,h="",f=iy,y=sy,E=ry,x=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(x=a.formState)),n=U_(t,1,!0,n,a??null,o,h,x,f,y,E,X_),n.context=j_(null),a=n.current,o=An(),o=vr(o),h=Ns(o),h.callback=null,Ds(a,h,o),a=o,n.current.lanes=a,yr(n,a),xi(n),t[di]=n.current,Td(t),new zc(n)},Ol.version="19.2.0",Ol}var av;function tA(){if(av)return Hd.exports;av=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Hd.exports=eA(),Hd.exports}var nA=tA();const iA=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),sA=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,r)=>r?r.toUpperCase():i.toLowerCase()),ov=s=>{const e=sA(s);return e.charAt(0).toUpperCase()+e.slice(1)},j0=(...s)=>s.filter((e,i,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===i).join(" ").trim(),rA=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var aA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const oA=me.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:l="",children:u,iconNode:d,...p},g)=>me.createElement("svg",{ref:g,...aA,width:e,height:e,stroke:s,strokeWidth:r?Number(i)*24/Number(e):i,className:j0("lucide",l),...!u&&!rA(p)&&{"aria-hidden":"true"},...p},[...d.map(([_,T])=>me.createElement(_,T)),...Array.isArray(u)?u:[u]]));const et=(s,e)=>{const i=me.forwardRef(({className:r,...l},u)=>me.createElement(oA,{ref:u,iconNode:e,className:j0(`lucide-${iA(ov(s))}`,`lucide-${s}`,r),...l}));return i.displayName=ov(s),i};const lA=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],uA=et("arrow-right",lA);const cA=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],hA=et("briefcase",cA);const fA=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],z0=et("calendar",fA);const dA=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],q0=et("chart-column",dA);const mA=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],pA=et("chevron-right",mA);const gA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],B0=et("circle-alert",gA);const yA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],_A=et("circle-question-mark",yA);const vA=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Vm=et("dollar-sign",vA);const EA=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],H0=et("file-text",EA);const TA=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],bA=et("funnel",TA);const AA=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],SA=et("lock",AA);const wA=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],RA=et("log-out",wA);const CA=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],IA=et("mail",CA);const xA=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],NA=et("menu",xA);const DA=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],rm=et("package",DA);const OA=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],bh=et("plus",OA);const MA=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],VA=et("printer",MA);const kA=[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]],PA=et("scissors",kA);const LA=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],UA=et("search",LA);const jA=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],am=et("settings",jA);const zA=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],qA=et("trash-2",zA);const BA=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],HA=et("trending-down",BA);const FA=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],GA=et("trending-up",FA);const QA=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],km=et("user-plus",QA);const KA=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],YA=et("user",KA);const XA=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],F0=et("users",XA);const $A=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],G0=et("x",$A),ZA=()=>{};var lv={};const Q0=function(s){const e=[];let i=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},JA=function(s){const e=[];let i=0,r=0;for(;i<s.length;){const l=s[i++];if(l<128)e[r++]=String.fromCharCode(l);else if(l>191&&l<224){const u=s[i++];e[r++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=s[i++],d=s[i++],p=s[i++],g=((l&7)<<18|(u&63)<<12|(d&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(g>>10)),e[r++]=String.fromCharCode(56320+(g&1023))}else{const u=s[i++],d=s[i++];e[r++]=String.fromCharCode((l&15)<<12|(u&63)<<6|d&63)}}return e.join("")},K0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const u=s[l],d=l+1<s.length,p=d?s[l+1]:0,g=l+2<s.length,_=g?s[l+2]:0,T=u>>2,A=(u&3)<<4|p>>4;let D=(p&15)<<2|_>>6,z=_&63;g||(z=64,d||(D=64)),r.push(i[T],i[A],i[D],i[z])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Q0(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):JA(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const u=i[s.charAt(l++)],p=l<s.length?i[s.charAt(l)]:0;++l;const _=l<s.length?i[s.charAt(l)]:64;++l;const A=l<s.length?i[s.charAt(l)]:64;if(++l,u==null||p==null||_==null||A==null)throw new WA;const D=u<<2|p>>4;if(r.push(D),_!==64){const z=p<<4&240|_>>2;if(r.push(z),A!==64){const F=_<<6&192|A;r.push(F)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class WA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const eS=function(s){const e=Q0(s);return K0.encodeByteArray(e,!0)},sh=function(s){return eS(s).replace(/\./g,"")},Y0=function(s){try{return K0.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function tS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const nS=()=>tS().__FIREBASE_DEFAULTS__,iS=()=>{if(typeof process>"u"||typeof lv>"u")return;const s=lv.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},sS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&Y0(s[1]);return e&&JSON.parse(e)},Ah=()=>{try{return ZA()||nS()||iS()||sS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},X0=s=>Ah()?.emulatorHosts?.[s],rS=s=>{const e=X0(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},$0=()=>Ah()?.config,Z0=s=>Ah()?.[`_${s}`];class aS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}function go(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function J0(s){return(await fetch(s,{credentials:"include"})).ok}function oS(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",l=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...s};return[sh(JSON.stringify(i)),sh(JSON.stringify(d)),""].join(".")}const jl={};function lS(){const s={prod:[],emulator:[]};for(const e of Object.keys(jl))jl[e]?s.emulator.push(e):s.prod.push(e);return s}function uS(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let uv=!1;function W0(s,e){if(typeof window>"u"||typeof document>"u"||!go(window.location.host)||jl[s]===e||jl[s]||uv)return;jl[s]=e;function i(D){return`__firebase__banner__${D}`}const r="__firebase__banner",u=lS().prod.length>0;function d(){const D=document.getElementById(r);D&&D.remove()}function p(D){D.style.display="flex",D.style.background="#7faaf0",D.style.position="fixed",D.style.bottom="5px",D.style.left="5px",D.style.padding=".5em",D.style.borderRadius="5px",D.style.alignItems="center"}function g(D,z){D.setAttribute("width","24"),D.setAttribute("id",z),D.setAttribute("height","24"),D.setAttribute("viewBox","0 0 24 24"),D.setAttribute("fill","none"),D.style.marginLeft="-6px"}function _(){const D=document.createElement("span");return D.style.cursor="pointer",D.style.marginLeft="16px",D.style.fontSize="24px",D.innerHTML=" &times;",D.onclick=()=>{uv=!0,d()},D}function T(D,z){D.setAttribute("id",z),D.innerText="Learn more",D.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",D.setAttribute("target","__blank"),D.style.paddingLeft="5px",D.style.textDecoration="underline"}function A(){const D=uS(r),z=i("text"),F=document.getElementById(z)||document.createElement("span"),$=i("learnmore"),ee=document.getElementById($)||document.createElement("a"),ue=i("preprendIcon"),ge=document.getElementById(ue)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(D.created){const te=D.element;p(te),T(ee,$);const W=_();g(ge,ue),te.append(ge,F,ee,W),document.body.appendChild(te)}u?(F.innerText="Preview backend disconnected.",ge.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ge.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,F.innerText="Preview backend running in this workspace."),F.setAttribute("id",z)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function cS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nn())}function hS(){const s=Ah()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function fS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function dS(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function mS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function pS(){const s=nn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function gS(){return!hS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function yS(){try{return typeof indexedDB=="object"}catch{return!1}}function _S(){return new Promise((s,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(i){e(i)}})}const vS="FirebaseError";class fs extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=vS,Object.setPrototypeOf(this,fs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nu.prototype.create)}}class nu{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},l=`${this.service}/${e}`,u=this.errors[e],d=u?ES(u,r):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new fs(l,p,r)}}function ES(s,e){return s.replace(TS,(i,r)=>{const l=e[r];return l!=null?String(l):`<${r}?>`})}const TS=/\{\$([^}]+)}/g;function bS(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Xr(s,e){if(s===e)return!0;const i=Object.keys(s),r=Object.keys(e);for(const l of i){if(!r.includes(l))return!1;const u=s[l],d=e[l];if(cv(u)&&cv(d)){if(!Xr(u,d))return!1}else if(u!==d)return!1}for(const l of r)if(!i.includes(l))return!1;return!0}function cv(s){return s!==null&&typeof s=="object"}function iu(s){const e=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ml(s){const e={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[l,u]=r.split("=");e[decodeURIComponent(l)]=decodeURIComponent(u)}}),e}function Vl(s){const e=s.indexOf("?");if(!e)return"";const i=s.indexOf("#",e);return s.substring(e,i>0?i:void 0)}function AS(s,e){const i=new SS(s,e);return i.subscribe.bind(i)}class SS{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,r){let l;if(e===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");wS(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:r},l.next===void 0&&(l.next=Kd),l.error===void 0&&(l.error=Kd),l.complete===void 0&&(l.complete=Kd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wS(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function Kd(){}function Xt(s){return s&&s._delegate?s._delegate:s}class $r{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Fr="[DEFAULT]";class RS{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new aS;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(IS(e))try{this.getOrInitializeService({instanceIdentifier:Fr})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:l});r.resolve(u)}catch{}}}}clearInstance(e=Fr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fr){return this.instances.has(e)}getOptions(e=Fr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[u,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);r===p&&d.resolve(l)}return l}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(r)??new Set;l.add(e),this.onInitCallbacks.set(r,l);const u=this.instances.get(r);return u&&e(u,r),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const l of r)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:CS(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Fr){return this.component?this.component.multipleInstances?e:Fr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function CS(s){return s===Fr?void 0:s}function IS(s){return s.instantiationMode==="EAGER"}class xS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new RS(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Me;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Me||(Me={}));const NS={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},DS=Me.INFO,OS={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},MS=(s,e,...i)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),l=OS[e];if(l)console[l](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Pm{constructor(e){this.name=e,this._logLevel=DS,this._logHandler=MS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?NS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const VS=(s,e)=>e.some(i=>s instanceof i);let hv,fv;function kS(){return hv||(hv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function PS(){return fv||(fv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const eE=new WeakMap,om=new WeakMap,tE=new WeakMap,Yd=new WeakMap,Lm=new WeakMap;function LS(s){const e=new Promise((i,r)=>{const l=()=>{s.removeEventListener("success",u),s.removeEventListener("error",d)},u=()=>{i(Js(s.result)),l()},d=()=>{r(s.error),l()};s.addEventListener("success",u),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&eE.set(i,s)}).catch(()=>{}),Lm.set(e,s),e}function US(s){if(om.has(s))return;const e=new Promise((i,r)=>{const l=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",d),s.removeEventListener("abort",d)},u=()=>{i(),l()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",u),s.addEventListener("error",d),s.addEventListener("abort",d)});om.set(s,e)}let lm={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return om.get(s);if(e==="objectStoreNames")return s.objectStoreNames||tE.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Js(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function jS(s){lm=s(lm)}function zS(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=s.call(Xd(this),e,...i);return tE.set(r,e.sort?e.sort():[e]),Js(r)}:PS().includes(s)?function(...e){return s.apply(Xd(this),e),Js(eE.get(this))}:function(...e){return Js(s.apply(Xd(this),e))}}function qS(s){return typeof s=="function"?zS(s):(s instanceof IDBTransaction&&US(s),VS(s,kS())?new Proxy(s,lm):s)}function Js(s){if(s instanceof IDBRequest)return LS(s);if(Yd.has(s))return Yd.get(s);const e=qS(s);return e!==s&&(Yd.set(s,e),Lm.set(e,s)),e}const Xd=s=>Lm.get(s);function BS(s,e,{blocked:i,upgrade:r,blocking:l,terminated:u}={}){const d=indexedDB.open(s,e),p=Js(d);return r&&d.addEventListener("upgradeneeded",g=>{r(Js(d.result),g.oldVersion,g.newVersion,Js(d.transaction),g)}),i&&d.addEventListener("blocked",g=>i(g.oldVersion,g.newVersion,g)),p.then(g=>{u&&g.addEventListener("close",()=>u()),l&&g.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const HS=["get","getKey","getAll","getAllKeys","count"],FS=["put","add","delete","clear"],$d=new Map;function dv(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if($d.get(e))return $d.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,l=FS.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(l||HS.includes(i)))return;const u=async function(d,...p){const g=this.transaction(d,l?"readwrite":"readonly");let _=g.store;return r&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),l&&g.done]))[0]};return $d.set(e,u),u}jS(s=>({...s,get:(e,i,r)=>dv(e,i)||s.get(e,i,r),has:(e,i)=>!!dv(e,i)||s.has(e,i)}));class GS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(QS(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function QS(s){return s.getComponent()?.type==="VERSION"}const um="@firebase/app",mv="0.14.6";const ls=new Pm("@firebase/app"),KS="@firebase/app-compat",YS="@firebase/analytics-compat",XS="@firebase/analytics",$S="@firebase/app-check-compat",ZS="@firebase/app-check",JS="@firebase/auth",WS="@firebase/auth-compat",ew="@firebase/database",tw="@firebase/data-connect",nw="@firebase/database-compat",iw="@firebase/functions",sw="@firebase/functions-compat",rw="@firebase/installations",aw="@firebase/installations-compat",ow="@firebase/messaging",lw="@firebase/messaging-compat",uw="@firebase/performance",cw="@firebase/performance-compat",hw="@firebase/remote-config",fw="@firebase/remote-config-compat",dw="@firebase/storage",mw="@firebase/storage-compat",pw="@firebase/firestore",gw="@firebase/ai",yw="@firebase/firestore-compat",_w="firebase",vw="12.6.0";const cm="[DEFAULT]",Ew={[um]:"fire-core",[KS]:"fire-core-compat",[XS]:"fire-analytics",[YS]:"fire-analytics-compat",[ZS]:"fire-app-check",[$S]:"fire-app-check-compat",[JS]:"fire-auth",[WS]:"fire-auth-compat",[ew]:"fire-rtdb",[tw]:"fire-data-connect",[nw]:"fire-rtdb-compat",[iw]:"fire-fn",[sw]:"fire-fn-compat",[rw]:"fire-iid",[aw]:"fire-iid-compat",[ow]:"fire-fcm",[lw]:"fire-fcm-compat",[uw]:"fire-perf",[cw]:"fire-perf-compat",[hw]:"fire-rc",[fw]:"fire-rc-compat",[dw]:"fire-gcs",[mw]:"fire-gcs-compat",[pw]:"fire-fst",[yw]:"fire-fst-compat",[gw]:"fire-vertex","fire-js":"fire-js",[_w]:"fire-js-all"};const rh=new Map,Tw=new Map,hm=new Map;function pv(s,e){try{s.container.addComponent(e)}catch(i){ls.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function ao(s){const e=s.name;if(hm.has(e))return ls.debug(`There were multiple attempts to register component ${e}.`),!1;hm.set(e,s);for(const i of rh.values())pv(i,s);for(const i of Tw.values())pv(i,s);return!0}function Um(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function Sn(s){return s==null?!1:s.settings!==void 0}const bw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ws=new nu("app","Firebase",bw);class Aw{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new $r("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ws.create("app-deleted",{appName:this._name})}}const yo=vw;function nE(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const r={name:cm,automaticDataCollectionEnabled:!0,...e},l=r.name;if(typeof l!="string"||!l)throw Ws.create("bad-app-name",{appName:String(l)});if(i||(i=$0()),!i)throw Ws.create("no-options");const u=rh.get(l);if(u){if(Xr(i,u.options)&&Xr(r,u.config))return u;throw Ws.create("duplicate-app",{appName:l})}const d=new xS(l);for(const g of hm.values())d.addComponent(g);const p=new Aw(i,r,d);return rh.set(l,p),p}function iE(s=cm){const e=rh.get(s);if(!e&&s===cm&&$0())return nE();if(!e)throw Ws.create("no-app",{appName:s});return e}function er(s,e,i){let r=Ew[s]??s;i&&(r+=`-${i}`);const l=r.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const d=[`Unable to register library "${r}" with version "${e}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ls.warn(d.join(" "));return}ao(new $r(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const Sw="firebase-heartbeat-database",ww=1,Ql="firebase-heartbeat-store";let Zd=null;function sE(){return Zd||(Zd=BS(Sw,ww,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Ql)}catch(i){console.warn(i)}}}}).catch(s=>{throw Ws.create("idb-open",{originalErrorMessage:s.message})})),Zd}async function Rw(s){try{const i=(await sE()).transaction(Ql),r=await i.objectStore(Ql).get(rE(s));return await i.done,r}catch(e){if(e instanceof fs)ls.warn(e.message);else{const i=Ws.create("idb-get",{originalErrorMessage:e?.message});ls.warn(i.message)}}}async function gv(s,e){try{const r=(await sE()).transaction(Ql,"readwrite");await r.objectStore(Ql).put(e,rE(s)),await r.done}catch(i){if(i instanceof fs)ls.warn(i.message);else{const r=Ws.create("idb-set",{originalErrorMessage:i?.message});ls.warn(r.message)}}}function rE(s){return`${s.name}!${s.options.appId}`}const Cw=1024,Iw=30;class xw{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Dw(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=yv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>Iw){const l=Ow(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ls.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=yv(),{heartbeatsToSend:i,unsentEntries:r}=Nw(this._heartbeatsCache.heartbeats),l=sh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return ls.warn(e),""}}}function yv(){return new Date().toISOString().substring(0,10)}function Nw(s,e=Cw){const i=[];let r=s.slice();for(const l of s){const u=i.find(d=>d.agent===l.agent);if(u){if(u.dates.push(l.date),_v(i)>e){u.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),_v(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class Dw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return yS()?_S().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Rw(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return gv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return gv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function _v(s){return sh(JSON.stringify({version:2,heartbeats:s})).length}function Ow(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,e=r);return e}function Mw(s){ao(new $r("platform-logger",e=>new GS(e),"PRIVATE")),ao(new $r("heartbeat",e=>new xw(e),"PRIVATE")),er(um,mv,s),er(um,mv,"esm2020"),er("fire-js","")}Mw("");function aE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Vw=aE,oE=new nu("auth","Firebase",aE());const ah=new Pm("@firebase/auth");function kw(s,...e){ah.logLevel<=Me.WARN&&ah.warn(`Auth (${yo}): ${s}`,...e)}function Yc(s,...e){ah.logLevel<=Me.ERROR&&ah.error(`Auth (${yo}): ${s}`,...e)}function zn(s,...e){throw zm(s,...e)}function ii(s,...e){return zm(s,...e)}function jm(s,e,i){const r={...Vw(),[e]:i};return new nu("auth","Firebase",r).create(e,{appName:s.name})}function os(s){return jm(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Pw(s,e,i){const r=i;if(!(e instanceof r))throw r.name!==e.constructor.name&&zn(s,"argument-error"),jm(s,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function zm(s,...e){if(typeof s!="string"){const i=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return oE.create(s,...e)}function _e(s,e,...i){if(!s)throw zm(e,...i)}function rs(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Yc(e),new Error(e)}function us(s,e){s||rs(e)}function fm(){return typeof self<"u"&&self.location?.href||""}function Lw(){return vv()==="http:"||vv()==="https:"}function vv(){return typeof self<"u"&&self.location?.protocol||null}function Uw(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Lw()||dS()||"connection"in navigator)?navigator.onLine:!0}function jw(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class su{constructor(e,i){this.shortDelay=e,this.longDelay=i,us(i>e,"Short delay should be less than long delay!"),this.isMobile=cS()||mS()}get(){return Uw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function qm(s,e){us(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class lE{static initialize(e,i,r){this.fetchImpl=e,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;rs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;rs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;rs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const zw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const qw=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Bw=new su(3e4,6e4);function hr(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function ds(s,e,i,r,l={}){return uE(s,l,async()=>{let u={},d={};r&&(e==="GET"?d=r:u={body:JSON.stringify(r)});const p=iu({key:s.config.apiKey,...d}).slice(1),g=await s._getAdditionalHeaders();g["Content-Type"]="application/json",s.languageCode&&(g["X-Firebase-Locale"]=s.languageCode);const _={method:e,headers:g,...u};return fS()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&go(s.emulatorConfig.host)&&(_.credentials="include"),lE.fetch()(await cE(s,s.config.apiHost,i,p),_)})}async function uE(s,e,i){s._canInitEmulator=!1;const r={...zw,...e};try{const l=new Fw(s),u=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw Bc(s,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const p=u.ok?d.errorMessage:d.error.message,[g,_]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Bc(s,"credential-already-in-use",d);if(g==="EMAIL_EXISTS")throw Bc(s,"email-already-in-use",d);if(g==="USER_DISABLED")throw Bc(s,"user-disabled",d);const T=r[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw jm(s,T,_);zn(s,T)}}catch(l){if(l instanceof fs)throw l;zn(s,"network-request-failed",{message:String(l)})}}async function ru(s,e,i,r,l={}){const u=await ds(s,e,i,r,l);return"mfaPendingCredential"in u&&zn(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function cE(s,e,i,r){const l=`${e}${i}?${r}`,u=s,d=u.config.emulator?qm(s.config,l):`${s.config.apiScheme}://${l}`;return qw.includes(i)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(d).toString():d}function Hw(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Fw{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(ii(this.auth,"network-request-failed")),Bw.get())})}}function Bc(s,e,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const l=ii(s,e,r);return l.customData._tokenResponse=i,l}function Ev(s){return s!==void 0&&s.enterprise!==void 0}class Gw{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===e)return Hw(i.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Qw(s,e){return ds(s,"GET","/v2/recaptchaConfig",hr(s,e))}async function Kw(s,e){return ds(s,"POST","/v1/accounts:delete",e)}async function oh(s,e){return ds(s,"POST","/v1/accounts:lookup",e)}function zl(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Yw(s,e=!1){const i=Xt(s),r=await i.getIdToken(e),l=Bm(r);_e(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,d=u?.sign_in_provider;return{claims:l,token:r,authTime:zl(Jd(l.auth_time)),issuedAtTime:zl(Jd(l.iat)),expirationTime:zl(Jd(l.exp)),signInProvider:d||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Jd(s){return Number(s)*1e3}function Bm(s){const[e,i,r]=s.split(".");if(e===void 0||i===void 0||r===void 0)return Yc("JWT malformed, contained fewer than 3 sections"),null;try{const l=Y0(i);return l?JSON.parse(l):(Yc("Failed to decode base64 JWT payload"),null)}catch(l){return Yc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function Tv(s){const e=Bm(s);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function oo(s,e,i=!1){if(i)return e;try{return await e}catch(r){throw r instanceof fs&&Xw(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function Xw({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class $w{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class dm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=zl(this.lastLoginAt),this.creationTime=zl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function lh(s){const e=s.auth,i=await s.getIdToken(),r=await oo(s,oh(e,{idToken:i}));_e(r?.users.length,e,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const u=l.providerUserInfo?.length?hE(l.providerUserInfo):[],d=Jw(s.providerData,u),p=s.isAnonymous,g=!(s.email&&l.passwordHash)&&!d?.length,_=p?g:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new dm(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(s,T)}async function Zw(s){const e=Xt(s);await lh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Jw(s,e){return[...s.filter(r=>!e.some(l=>l.providerId===r.providerId)),...e]}function hE(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function Ww(s,e){const i=await uE(s,{},async()=>{const r=iu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:u}=s.config,d=await cE(s,l,"/v1/token",`key=${u}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:r};return s.emulatorConfig&&go(s.emulatorConfig.host)&&(g.credentials="include"),lE.fetch()(d,g)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function e2(s,e){return ds(s,"POST","/v2/accounts:revokeToken",hr(s,e))}class to{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Tv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){_e(e.length!==0,"internal-error");const i=Tv(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(_e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:r,refreshToken:l,expiresIn:u}=await Ww(e,i);this.updateTokensAndExpiration(r,l,Number(u))}updateTokensAndExpiration(e,i,r){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,i){const{refreshToken:r,accessToken:l,expirationTime:u}=i,d=new to;return r&&(_e(typeof r=="string","internal-error",{appName:e}),d.refreshToken=r),l&&(_e(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),u&&(_e(typeof u=="number","internal-error",{appName:e}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new to,this.toJSON())}_performRefresh(){return rs("not implemented")}}function Ks(s,e){_e(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class ti{constructor({uid:e,auth:i,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new $w(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new dm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await oo(this,this.stsTokenManager.getToken(this.auth,e));return _e(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return Yw(this,e)}reload(){return Zw(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new ti({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),i&&await lh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Sn(this.auth.app))return Promise.reject(os(this.auth));const e=await this.getIdToken();return await oo(this,Kw(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const r=i.displayName??void 0,l=i.email??void 0,u=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,g=i._redirectEventId??void 0,_=i.createdAt??void 0,T=i.lastLoginAt??void 0,{uid:A,emailVerified:D,isAnonymous:z,providerData:F,stsTokenManager:$}=i;_e(A&&$,e,"internal-error");const ee=to.fromJSON(this.name,$);_e(typeof A=="string",e,"internal-error"),Ks(r,e.name),Ks(l,e.name),_e(typeof D=="boolean",e,"internal-error"),_e(typeof z=="boolean",e,"internal-error"),Ks(u,e.name),Ks(d,e.name),Ks(p,e.name),Ks(g,e.name),Ks(_,e.name),Ks(T,e.name);const ue=new ti({uid:A,auth:e,email:l,emailVerified:D,displayName:r,isAnonymous:z,photoURL:d,phoneNumber:u,tenantId:p,stsTokenManager:ee,createdAt:_,lastLoginAt:T});return F&&Array.isArray(F)&&(ue.providerData=F.map(ge=>({...ge}))),g&&(ue._redirectEventId=g),ue}static async _fromIdTokenResponse(e,i,r=!1){const l=new to;l.updateFromServerResponse(i);const u=new ti({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:r});return await lh(u),u}static async _fromGetAccountInfoResponse(e,i,r){const l=i.users[0];_e(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?hE(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!u?.length,p=new to;p.updateFromIdToken(r);const g=new ti({uid:l.localId,auth:e,stsTokenManager:p,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new dm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!u?.length};return Object.assign(g,_),g}}const bv=new Map;function as(s){us(s instanceof Function,"Expected a class definition");let e=bv.get(s);return e?(us(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,bv.set(s,e),e)}class fE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}fE.type="NONE";const Av=fE;function Xc(s,e,i){return`firebase:${s}:${e}:${i}`}class no{constructor(e,i,r){this.persistence=e,this.auth=i,this.userKey=r;const{config:l,name:u}=this.auth;this.fullUserKey=Xc(this.userKey,l.apiKey,u),this.fullPersistenceKey=Xc("persistence",l.apiKey,u),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await oh(this.auth,{idToken:e}).catch(()=>{});return i?ti._fromGetAccountInfoResponse(this.auth,i,e):null}return ti._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,r="authUser"){if(!i.length)return new no(as(Av),e,r);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let u=l[0]||as(Av);const d=Xc(r,e.config.apiKey,e.name);let p=null;for(const _ of i)try{const T=await _._get(d);if(T){let A;if(typeof T=="string"){const D=await oh(e,{idToken:T}).catch(()=>{});if(!D)break;A=await ti._fromGetAccountInfoResponse(e,D,T)}else A=ti._fromJSON(e,T);_!==u&&(p=A),u=_;break}}catch{}const g=l.filter(_=>_._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new no(u,e,r):(u=g[0],p&&await u._set(d,p.toJSON()),await Promise.all(i.map(async _=>{if(_!==u)try{await _._remove(d)}catch{}})),new no(u,e,r))}}function Sv(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(gE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(dE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(_E(e))return"Blackberry";if(vE(e))return"Webos";if(mE(e))return"Safari";if((e.includes("chrome/")||pE(e))&&!e.includes("edge/"))return"Chrome";if(yE(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if(r?.length===2)return r[1]}return"Other"}function dE(s=nn()){return/firefox\//i.test(s)}function mE(s=nn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function pE(s=nn()){return/crios\//i.test(s)}function gE(s=nn()){return/iemobile/i.test(s)}function yE(s=nn()){return/android/i.test(s)}function _E(s=nn()){return/blackberry/i.test(s)}function vE(s=nn()){return/webos/i.test(s)}function Hm(s=nn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function t2(s=nn()){return Hm(s)&&!!window.navigator?.standalone}function n2(){return pS()&&document.documentMode===10}function EE(s=nn()){return Hm(s)||yE(s)||vE(s)||_E(s)||/windows phone/i.test(s)||gE(s)}function TE(s,e=[]){let i;switch(s){case"Browser":i=Sv(nn());break;case"Worker":i=`${Sv(nn())}-${s}`;break;default:i=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${yo}/${r}`}class i2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const r=u=>new Promise((d,p)=>{try{const g=e(u);d(g)}catch(g){p(g)}});r.onAbort=i,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const r of this.queue)await r(e),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function s2(s,e={}){return ds(s,"GET","/v2/passwordPolicy",hr(s,e))}const r2=6;class a2{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??r2,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=e.length>=r),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let l=0;l<e.length;l++)r=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,i,r,l,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class o2{constructor(e,i,r,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new wv(this),this.idTokenSubscription=new wv(this),this.beforeStateQueue=new i2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=oE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=as(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await no.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await oh(this,{idToken:e}),r=await ti._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Sn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,d=r?._redirectEventId,p=await this.tryRedirectSignIn(e);(!u||u===d)&&p?.user&&(r=p.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await lh(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=jw()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Sn(this.app))return Promise.reject(os(this));const i=e?Xt(e):null;return i&&_e(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Sn(this.app)?Promise.reject(os(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Sn(this.app)?Promise.reject(os(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(as(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await s2(this),i=new a2(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new nu("auth","Firebase",e())}onAuthStateChanged(e,i,r){return this.registerStateListener(this.authStateSubscription,e,i,r)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,r){return this.registerStateListener(this.idTokenSubscription,e,i,r)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await e2(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const r=await this.getOrInitRedirectPersistenceManager(i);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&as(e)||this._popupRedirectResolver;_e(i,this,"argument-error"),this.redirectPersistenceManager=await no.create(this,[as(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,r,l){if(this._deleted)return()=>{};const u=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(p,this,"internal-error"),p.then(()=>{d||u(this.currentUser)}),typeof i=="function"){const g=e.addObserver(i,r,l);return()=>{d=!0,g()}}else{const g=e.addObserver(i);return()=>{d=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=TE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Sn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&kw(`Error while retrieving App Check token: ${e.error}`),e?.token}}function fr(s){return Xt(s)}class wv{constructor(e){this.auth=e,this.observer=null,this.addObserver=AS(i=>this.observer=i)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Sh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function l2(s){Sh=s}function bE(s){return Sh.loadJS(s)}function u2(){return Sh.recaptchaEnterpriseScript}function c2(){return Sh.gapiScript}function h2(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class f2{constructor(){this.enterprise=new d2}ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}class d2{ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}const m2="recaptcha-enterprise",AE="NO_RECAPTCHA";class p2{constructor(e){this.type=m2,this.auth=fr(e)}async verify(e="verify",i=!1){async function r(u){if(!i){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(d,p)=>{Qw(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const _=new Gw(g);return u.tenantId==null?u._agentRecaptchaConfig=_:u._tenantRecaptchaConfigs[u.tenantId]=_,d(_.siteKey)}}).catch(g=>{p(g)})})}function l(u,d,p){const g=window.grecaptcha;Ev(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:e}).then(_=>{d(_)}).catch(()=>{d(AE)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new f2().execute("siteKey",{action:"verify"}):new Promise((u,d)=>{r(this.auth).then(p=>{if(!i&&Ev(window.grecaptcha))l(p,u,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let g=u2();g.length!==0&&(g+=p),bE(g).then(()=>{l(p,u,d)}).catch(_=>{d(_)})}}).catch(p=>{d(p)})})}}async function Rv(s,e,i,r=!1,l=!1){const u=new p2(s);let d;if(l)d=AE;else try{d=await u.verify(i)}catch{d=await u.verify(i,!0)}const p={...e};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const g=p.phoneEnrollmentInfo.phoneNumber,_=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const g=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return r?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function mm(s,e,i,r,l){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await Rv(s,e,i,i==="getOobCode");return r(s,u)}else return r(s,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await Rv(s,e,i,i==="getOobCode");return r(s,d)}else return Promise.reject(u)})}function g2(s,e){const i=Um(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),u=i.getOptions();if(Xr(u,e??{}))return l;zn(l,"already-initialized")}return i.initialize({options:e})}function y2(s,e){const i=e?.persistence||[],r=(Array.isArray(i)?i:[i]).map(as);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e?.popupRedirectResolver)}function _2(s,e,i){const r=fr(s);_e(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const l=!1,u=SE(e),{host:d,port:p}=v2(e),g=p===null?"":`:${p}`,_={url:`${u}//${d}${g}/`},T=Object.freeze({host:d,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){_e(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),_e(Xr(_,r.config.emulator)&&Xr(T,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=_,r.emulatorConfig=T,r.settings.appVerificationDisabledForTesting=!0,go(d)?(J0(`${u}//${d}${g}`),W0("Auth",!0)):E2()}function SE(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function v2(s){const e=SE(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const u=l[1];return{host:u,port:Cv(r.substr(u.length+1))}}else{const[u,d]=r.split(":");return{host:u,port:Cv(d)}}}function Cv(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function E2(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class Fm{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return rs("not implemented")}_getIdTokenResponse(e){return rs("not implemented")}_linkToIdToken(e,i){return rs("not implemented")}_getReauthenticationResolver(e){return rs("not implemented")}}async function T2(s,e){return ds(s,"POST","/v1/accounts:signUp",e)}async function b2(s,e){return ru(s,"POST","/v1/accounts:signInWithPassword",hr(s,e))}async function A2(s,e){return ru(s,"POST","/v1/accounts:signInWithEmailLink",hr(s,e))}async function S2(s,e){return ru(s,"POST","/v1/accounts:signInWithEmailLink",hr(s,e))}class Kl extends Fm{constructor(e,i,r,l=null){super("password",r),this._email=e,this._password=i,this._tenantId=l}static _fromEmailAndPassword(e,i){return new Kl(e,i,"password")}static _fromEmailAndCode(e,i,r=null){return new Kl(e,i,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return mm(e,i,"signInWithPassword",b2);case"emailLink":return A2(e,{email:this._email,oobCode:this._password});default:zn(e,"internal-error")}}async _linkToIdToken(e,i){switch(this.signInMethod){case"password":const r={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return mm(e,r,"signUpPassword",T2);case"emailLink":return S2(e,{idToken:i,email:this._email,oobCode:this._password});default:zn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function io(s,e){return ru(s,"POST","/v1/accounts:signInWithIdp",hr(s,e))}const w2="http://localhost";class Zr extends Fm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new Zr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):zn("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:l,...u}=i;if(!r||!l)return null;const d=new Zr(r,l);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return io(e,i)}_linkToIdToken(e,i){const r=this.buildRequest();return r.idToken=i,io(e,r)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,io(e,i)}buildRequest(){const e={requestUri:w2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=iu(i)}return e}}function R2(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function C2(s){const e=Ml(Vl(s)).link,i=e?Ml(Vl(e)).deep_link_id:null,r=Ml(Vl(s)).deep_link_id;return(r?Ml(Vl(r)).link:null)||r||i||e||s}class Gm{constructor(e){const i=Ml(Vl(e)),r=i.apiKey??null,l=i.oobCode??null,u=R2(i.mode??null);_e(r&&l&&u,"argument-error"),this.apiKey=r,this.operation=u,this.code=l,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(e){const i=C2(e);try{return new Gm(i)}catch{return null}}}class _o{constructor(){this.providerId=_o.PROVIDER_ID}static credential(e,i){return Kl._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){const r=Gm.parseLink(i);return _e(r,"argument-error"),Kl._fromEmailAndCode(e,r.code,r.tenantId)}}_o.PROVIDER_ID="password";_o.EMAIL_PASSWORD_SIGN_IN_METHOD="password";_o.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Qm{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class au extends Qm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ys extends au{constructor(){super("facebook.com")}static credential(e){return Zr._fromParams({providerId:Ys.PROVIDER_ID,signInMethod:Ys.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ys.credentialFromTaggedObject(e)}static credentialFromError(e){return Ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ys.credential(e.oauthAccessToken)}catch{return null}}}Ys.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ys.PROVIDER_ID="facebook.com";class ss extends au{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return Zr._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return ss.credentialFromTaggedObject(e)}static credentialFromError(e){return ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:r}=e;if(!i&&!r)return null;try{return ss.credential(i,r)}catch{return null}}}ss.GOOGLE_SIGN_IN_METHOD="google.com";ss.PROVIDER_ID="google.com";class Xs extends au{constructor(){super("github.com")}static credential(e){return Zr._fromParams({providerId:Xs.PROVIDER_ID,signInMethod:Xs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xs.credentialFromTaggedObject(e)}static credentialFromError(e){return Xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xs.credential(e.oauthAccessToken)}catch{return null}}}Xs.GITHUB_SIGN_IN_METHOD="github.com";Xs.PROVIDER_ID="github.com";class $s extends au{constructor(){super("twitter.com")}static credential(e,i){return Zr._fromParams({providerId:$s.PROVIDER_ID,signInMethod:$s.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return $s.credentialFromTaggedObject(e)}static credentialFromError(e){return $s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=e;if(!i||!r)return null;try{return $s.credential(i,r)}catch{return null}}}$s.TWITTER_SIGN_IN_METHOD="twitter.com";$s.PROVIDER_ID="twitter.com";async function I2(s,e){return ru(s,"POST","/v1/accounts:signUp",hr(s,e))}class Jr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,r,l=!1){const u=await ti._fromIdTokenResponse(e,r,l),d=Iv(r);return new Jr({user:u,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(e,i,r){await e._updateTokensIfNecessary(r,!0);const l=Iv(r);return new Jr({user:e,providerId:l,_tokenResponse:r,operationType:i})}}function Iv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class uh extends fs{constructor(e,i,r,l){super(i.code,i.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,uh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,i,r,l){return new uh(e,i,r,l)}}function wE(s,e,i,r){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?uh._fromErrorAndOperation(s,u,e,r):u})}async function x2(s,e,i=!1){const r=await oo(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return Jr._forOperation(s,"link",r)}async function N2(s,e,i=!1){const{auth:r}=s;if(Sn(r.app))return Promise.reject(os(r));const l="reauthenticate";try{const u=await oo(s,wE(r,l,e,s),i);_e(u.idToken,r,"internal-error");const d=Bm(u.idToken);_e(d,r,"internal-error");const{sub:p}=d;return _e(s.uid===p,r,"user-mismatch"),Jr._forOperation(s,l,u)}catch(u){throw u?.code==="auth/user-not-found"&&zn(r,"user-mismatch"),u}}async function RE(s,e,i=!1){if(Sn(s.app))return Promise.reject(os(s));const r="signIn",l=await wE(s,r,e),u=await Jr._fromIdTokenResponse(s,r,l);return i||await s._updateCurrentUser(u.user),u}async function D2(s,e){return RE(fr(s),e)}async function CE(s){const e=fr(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function O2(s,e,i){if(Sn(s.app))return Promise.reject(os(s));const r=fr(s),d=await mm(r,{returnSecureToken:!0,email:e,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",I2).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&CE(s),g}),p=await Jr._fromIdTokenResponse(r,"signIn",d);return await r._updateCurrentUser(p.user),p}function M2(s,e,i){return Sn(s.app)?Promise.reject(os(s)):D2(Xt(s),_o.credential(e,i)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&CE(s),r})}async function V2(s,e){return ds(s,"POST","/v1/accounts:update",e)}async function k2(s,{displayName:e,photoURL:i}){if(e===void 0&&i===void 0)return;const r=Xt(s),u={idToken:await r.getIdToken(),displayName:e,photoUrl:i,returnSecureToken:!0},d=await oo(r,V2(r.auth,u));r.displayName=d.displayName||null,r.photoURL=d.photoUrl||null;const p=r.providerData.find(({providerId:g})=>g==="password");p&&(p.displayName=r.displayName,p.photoURL=r.photoURL),await r._updateTokensIfNecessary(d)}function P2(s,e,i,r){return Xt(s).onIdTokenChanged(e,i,r)}function L2(s,e,i){return Xt(s).beforeAuthStateChanged(e,i)}function U2(s,e,i,r){return Xt(s).onAuthStateChanged(e,i,r)}function j2(s){return Xt(s).signOut()}const ch="__sak";class IE{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(ch,"1"),this.storage.removeItem(ch),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const z2=1e3,q2=10;class xE extends IE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=EE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),l=this.localCache[i];r!==l&&e(i,l,r)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,p,g)=>{this.notifyListeners(d,g)});return}const r=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},u=this.storage.getItem(r);n2()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,q2):l()}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:r}),!0)})},z2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}xE.type="LOCAL";const B2=xE;class NE extends IE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}NE.type="SESSION";const DE=NE;function H2(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class wh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const r=new wh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:r,eventType:l,data:u}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const p=Array.from(d).map(async _=>_(i.origin,u)),g=await H2(p);i.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:g})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}wh.receivers=[];function Km(s="",e=10){let i="";for(let r=0;r<e;r++)i+=Math.floor(Math.random()*10);return s+i}class F2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,d;return new Promise((p,g)=>{const _=Km("",20);l.port1.start();const T=setTimeout(()=>{g(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(A){const D=A;if(D.data.eventId===_)switch(D.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(D.data.response);break;default:clearTimeout(T),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Di(){return window}function G2(s){Di().location.href=s}function OE(){return typeof Di().WorkerGlobalScope<"u"&&typeof Di().importScripts=="function"}async function Q2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function K2(){return navigator?.serviceWorker?.controller||null}function Y2(){return OE()?self:null}const ME="firebaseLocalStorageDb",X2=1,hh="firebaseLocalStorage",VE="fbase_key";class ou{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Rh(s,e){return s.transaction([hh],e?"readwrite":"readonly").objectStore(hh)}function $2(){const s=indexedDB.deleteDatabase(ME);return new ou(s).toPromise()}function pm(){const s=indexedDB.open(ME,X2);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(hh,{keyPath:VE})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(hh)?e(r):(r.close(),await $2(),e(await pm()))})})}async function xv(s,e,i){const r=Rh(s,!0).put({[VE]:e,value:i});return new ou(r).toPromise()}async function Z2(s,e){const i=Rh(s,!1).get(e),r=await new ou(i).toPromise();return r===void 0?null:r.value}function Nv(s,e){const i=Rh(s,!0).delete(e);return new ou(i).toPromise()}const J2=800,W2=3;class kE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await pm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(i++>W2)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return OE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=wh._getInstance(Y2()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Q2(),!this.activeServiceWorker)return;this.sender=new F2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||K2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await pm();return await xv(e,ch,"1"),await Nv(e,ch),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>xv(r,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(r=>Z2(r,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>Nv(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const u=Rh(l,!1).getAll();return new ou(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(e.length!==0)for(const{fbase_key:l,value:u}of e)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),J2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}kE.type="LOCAL";const eR=kE;new su(3e4,6e4);function PE(s,e){return e?as(e):(_e(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Ym extends Fm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return io(e,this._buildIdpRequest())}_linkToIdToken(e,i){return io(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return io(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function tR(s){return RE(s.auth,new Ym(s),s.bypassAuthState)}function nR(s){const{auth:e,user:i}=s;return _e(i,e,"internal-error"),N2(i,new Ym(s),s.bypassAuthState)}async function iR(s){const{auth:e,user:i}=s;return _e(i,e,"internal-error"),x2(i,new Ym(s),s.bypassAuthState)}class LE{constructor(e,i,r,l,u=!1){this.auth=e,this.resolver=r,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:r,postBody:l,tenantId:u,error:d,type:p}=e;if(d){this.reject(d);return}const g={auth:this.auth,requestUri:i,sessionId:r,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return tR;case"linkViaPopup":case"linkViaRedirect":return iR;case"reauthViaPopup":case"reauthViaRedirect":return nR;default:zn(this.auth,"internal-error")}}resolve(e){us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const sR=new su(2e3,1e4);async function rR(s,e,i){if(Sn(s.app))return Promise.reject(ii(s,"operation-not-supported-in-this-environment"));const r=fr(s);Pw(s,e,Qm);const l=PE(r,i);return new Gr(r,"signInViaPopup",e,l).executeNotNull()}class Gr extends LE{constructor(e,i,r,l,u){super(e,i,l,u),this.provider=r,this.authWindow=null,this.pollId=null,Gr.currentPopupAction&&Gr.currentPopupAction.cancel(),Gr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _e(e,this.auth,"internal-error"),e}async onExecution(){us(this.filter.length===1,"Popup operations only handle one event");const e=Km();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(ii(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ii(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Gr.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ii(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,sR.get())};e()}}Gr.currentPopupAction=null;const aR="pendingRedirect",$c=new Map;class oR extends LE{constructor(e,i,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let e=$c.get(this.auth._key());if(!e){try{const r=await lR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(i){e=()=>Promise.reject(i)}$c.set(this.auth._key(),e)}return this.bypassAuthState||$c.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function lR(s,e){const i=hR(e),r=cR(s);if(!await r._isAvailable())return!1;const l=await r._get(i)==="true";return await r._remove(i),l}function uR(s,e){$c.set(s._key(),e)}function cR(s){return as(s._redirectPersistence)}function hR(s){return Xc(aR,s.config.apiKey,s.name)}async function fR(s,e,i=!1){if(Sn(s.app))return Promise.reject(os(s));const r=fr(s),l=PE(r,e),d=await new oR(r,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,e)),d}const dR=600*1e3;class mR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(i=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!pR(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!UE(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";i.onError(ii(this.auth,r))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const r=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=dR&&this.cachedEventUids.clear(),this.cachedEventUids.has(Dv(e))}saveEventToCache(e){this.cachedEventUids.add(Dv(e)),this.lastProcessedEventTime=Date.now()}}function Dv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function UE({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function pR(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return UE(s);default:return!1}}async function gR(s,e={}){return ds(s,"GET","/v1/projects",e)}const yR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_R=/^https?/;async function vR(s){if(s.config.emulator)return;const{authorizedDomains:e}=await gR(s);for(const i of e)try{if(ER(i))return}catch{}zn(s,"unauthorized-domain")}function ER(s){const e=fm(),{protocol:i,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!_R.test(i))return!1;if(yR.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const TR=new su(3e4,6e4);function Ov(){const s=Di().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function bR(s){return new Promise((e,i)=>{function r(){Ov(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ov(),i(ii(s,"network-request-failed"))},timeout:TR.get()})}if(Di().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Di().gapi?.load)r();else{const l=h2("iframefcb");return Di()[l]=()=>{gapi.load?r():i(ii(s,"network-request-failed"))},bE(`${c2()}?onload=${l}`).catch(u=>i(u))}}).catch(e=>{throw Zc=null,e})}let Zc=null;function AR(s){return Zc=Zc||bR(s),Zc}const SR=new su(5e3,15e3),wR="__/auth/iframe",RR="emulator/auth/iframe",CR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},IR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xR(s){const e=s.config;_e(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?qm(e,RR):`https://${s.config.authDomain}/${wR}`,r={apiKey:e.apiKey,appName:s.name,v:yo},l=IR.get(s.config.apiHost);l&&(r.eid=l);const u=s._getFrameworks();return u.length&&(r.fw=u.join(",")),`${i}?${iu(r).slice(1)}`}async function NR(s){const e=await AR(s),i=Di().gapi;return _e(i,s,"internal-error"),e.open({where:document.body,url:xR(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:CR,dontclear:!0},r=>new Promise(async(l,u)=>{await r.restyle({setHideOnLeave:!1});const d=ii(s,"network-request-failed"),p=Di().setTimeout(()=>{u(d)},SR.get());function g(){Di().clearTimeout(p),l(r)}r.ping(g).then(g,()=>{u(d)})}))}const DR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},OR=500,MR=600,VR="_blank",kR="http://localhost";class Mv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function PR(s,e,i,r=OR,l=MR){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const g={...DR,width:r.toString(),height:l.toString(),top:u,left:d},_=nn().toLowerCase();i&&(p=pE(_)?VR:i),dE(_)&&(e=e||kR,g.scrollbars="yes");const T=Object.entries(g).reduce((D,[z,F])=>`${D}${z}=${F},`,"");if(t2(_)&&p!=="_self")return LR(e||"",p),new Mv(null);const A=window.open(e||"",p,T);_e(A,s,"popup-blocked");try{A.focus()}catch{}return new Mv(A)}function LR(s,e){const i=document.createElement("a");i.href=s,i.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}const UR="__/auth/handler",jR="emulator/auth/handler",zR=encodeURIComponent("fac");async function Vv(s,e,i,r,l,u){_e(s.config.authDomain,s,"auth-domain-config-required"),_e(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:yo,eventId:l};if(e instanceof Qm){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",bS(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,A]of Object.entries({}))d[T]=A}if(e instanceof au){const T=e.getScopes().filter(A=>A!=="");T.length>0&&(d.scopes=T.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const T of Object.keys(p))p[T]===void 0&&delete p[T];const g=await s._getAppCheckToken(),_=g?`#${zR}=${encodeURIComponent(g)}`:"";return`${qR(s)}?${iu(p).slice(1)}${_}`}function qR({config:s}){return s.emulator?qm(s,jR):`https://${s.authDomain}/${UR}`}const Wd="webStorageSupport";class BR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=DE,this._completeRedirectFn=fR,this._overrideRedirectResult=uR}async _openPopup(e,i,r,l){us(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await Vv(e,i,r,fm(),l);return PR(e,u,Km())}async _openRedirect(e,i,r,l){await this._originValidation(e);const u=await Vv(e,i,r,fm(),l);return G2(u),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:u}=this.eventManagers[i];return l?Promise.resolve(l):(us(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(e){const i=await NR(e),r=new mR(e);return i.register("authEvent",l=>(_e(l?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=i,r}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Wd,{type:Wd},l=>{const u=l?.[0]?.[Wd];u!==void 0&&i(!!u),zn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=vR(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return EE()||mE()||Hm()}}const HR=BR;var kv="@firebase/auth",Pv="1.11.1";class FR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function GR(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function QR(s){ao(new $r("auth",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=r.options;_e(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const g={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:TE(s)},_=new o2(r,l,u,g);return y2(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,r)=>{e.getProvider("auth-internal").initialize()})),ao(new $r("auth-internal",e=>{const i=fr(e.getProvider("auth").getImmediate());return(r=>new FR(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),er(kv,Pv,GR(s)),er(kv,Pv,"esm2020")}const KR=300,YR=Z0("authIdTokenMaxAge")||KR;let Lv=null;const XR=s=>async e=>{const i=e&&await e.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>YR)return;const l=i?.token;Lv!==l&&(Lv=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function $R(s=iE()){const e=Um(s,"auth");if(e.isInitialized())return e.getImmediate();const i=g2(s,{popupRedirectResolver:HR,persistence:[eR,B2,DE]}),r=Z0("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const d=XR(u.toString());L2(i,d,()=>d(i.currentUser)),P2(i,p=>d(p))}}const l=X0("auth");return l&&_2(i,`http://${l}`),i}function ZR(){return document.getElementsByTagName("head")?.[0]??document}l2({loadJS(s){return new Promise((e,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=l=>{const u=ii("internal-error");u.customData=l,i(u)},r.type="text/javascript",r.charset="UTF-8",ZR().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});QR("Browser");var Uv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var tr,jE;(function(){var s;function e(R,w){function C(){}C.prototype=w.prototype,R.F=w.prototype,R.prototype=new C,R.prototype.constructor=R,R.D=function(V,N,P){for(var I=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)I[rt-2]=arguments[rt];return w.prototype[N].apply(V,I)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(R,w,C){C||(C=0);const V=Array(16);if(typeof w=="string")for(var N=0;N<16;++N)V[N]=w.charCodeAt(C++)|w.charCodeAt(C++)<<8|w.charCodeAt(C++)<<16|w.charCodeAt(C++)<<24;else for(N=0;N<16;++N)V[N]=w[C++]|w[C++]<<8|w[C++]<<16|w[C++]<<24;w=R.g[0],C=R.g[1],N=R.g[2];let P=R.g[3],I;I=w+(P^C&(N^P))+V[0]+3614090360&4294967295,w=C+(I<<7&4294967295|I>>>25),I=P+(N^w&(C^N))+V[1]+3905402710&4294967295,P=w+(I<<12&4294967295|I>>>20),I=N+(C^P&(w^C))+V[2]+606105819&4294967295,N=P+(I<<17&4294967295|I>>>15),I=C+(w^N&(P^w))+V[3]+3250441966&4294967295,C=N+(I<<22&4294967295|I>>>10),I=w+(P^C&(N^P))+V[4]+4118548399&4294967295,w=C+(I<<7&4294967295|I>>>25),I=P+(N^w&(C^N))+V[5]+1200080426&4294967295,P=w+(I<<12&4294967295|I>>>20),I=N+(C^P&(w^C))+V[6]+2821735955&4294967295,N=P+(I<<17&4294967295|I>>>15),I=C+(w^N&(P^w))+V[7]+4249261313&4294967295,C=N+(I<<22&4294967295|I>>>10),I=w+(P^C&(N^P))+V[8]+1770035416&4294967295,w=C+(I<<7&4294967295|I>>>25),I=P+(N^w&(C^N))+V[9]+2336552879&4294967295,P=w+(I<<12&4294967295|I>>>20),I=N+(C^P&(w^C))+V[10]+4294925233&4294967295,N=P+(I<<17&4294967295|I>>>15),I=C+(w^N&(P^w))+V[11]+2304563134&4294967295,C=N+(I<<22&4294967295|I>>>10),I=w+(P^C&(N^P))+V[12]+1804603682&4294967295,w=C+(I<<7&4294967295|I>>>25),I=P+(N^w&(C^N))+V[13]+4254626195&4294967295,P=w+(I<<12&4294967295|I>>>20),I=N+(C^P&(w^C))+V[14]+2792965006&4294967295,N=P+(I<<17&4294967295|I>>>15),I=C+(w^N&(P^w))+V[15]+1236535329&4294967295,C=N+(I<<22&4294967295|I>>>10),I=w+(N^P&(C^N))+V[1]+4129170786&4294967295,w=C+(I<<5&4294967295|I>>>27),I=P+(C^N&(w^C))+V[6]+3225465664&4294967295,P=w+(I<<9&4294967295|I>>>23),I=N+(w^C&(P^w))+V[11]+643717713&4294967295,N=P+(I<<14&4294967295|I>>>18),I=C+(P^w&(N^P))+V[0]+3921069994&4294967295,C=N+(I<<20&4294967295|I>>>12),I=w+(N^P&(C^N))+V[5]+3593408605&4294967295,w=C+(I<<5&4294967295|I>>>27),I=P+(C^N&(w^C))+V[10]+38016083&4294967295,P=w+(I<<9&4294967295|I>>>23),I=N+(w^C&(P^w))+V[15]+3634488961&4294967295,N=P+(I<<14&4294967295|I>>>18),I=C+(P^w&(N^P))+V[4]+3889429448&4294967295,C=N+(I<<20&4294967295|I>>>12),I=w+(N^P&(C^N))+V[9]+568446438&4294967295,w=C+(I<<5&4294967295|I>>>27),I=P+(C^N&(w^C))+V[14]+3275163606&4294967295,P=w+(I<<9&4294967295|I>>>23),I=N+(w^C&(P^w))+V[3]+4107603335&4294967295,N=P+(I<<14&4294967295|I>>>18),I=C+(P^w&(N^P))+V[8]+1163531501&4294967295,C=N+(I<<20&4294967295|I>>>12),I=w+(N^P&(C^N))+V[13]+2850285829&4294967295,w=C+(I<<5&4294967295|I>>>27),I=P+(C^N&(w^C))+V[2]+4243563512&4294967295,P=w+(I<<9&4294967295|I>>>23),I=N+(w^C&(P^w))+V[7]+1735328473&4294967295,N=P+(I<<14&4294967295|I>>>18),I=C+(P^w&(N^P))+V[12]+2368359562&4294967295,C=N+(I<<20&4294967295|I>>>12),I=w+(C^N^P)+V[5]+4294588738&4294967295,w=C+(I<<4&4294967295|I>>>28),I=P+(w^C^N)+V[8]+2272392833&4294967295,P=w+(I<<11&4294967295|I>>>21),I=N+(P^w^C)+V[11]+1839030562&4294967295,N=P+(I<<16&4294967295|I>>>16),I=C+(N^P^w)+V[14]+4259657740&4294967295,C=N+(I<<23&4294967295|I>>>9),I=w+(C^N^P)+V[1]+2763975236&4294967295,w=C+(I<<4&4294967295|I>>>28),I=P+(w^C^N)+V[4]+1272893353&4294967295,P=w+(I<<11&4294967295|I>>>21),I=N+(P^w^C)+V[7]+4139469664&4294967295,N=P+(I<<16&4294967295|I>>>16),I=C+(N^P^w)+V[10]+3200236656&4294967295,C=N+(I<<23&4294967295|I>>>9),I=w+(C^N^P)+V[13]+681279174&4294967295,w=C+(I<<4&4294967295|I>>>28),I=P+(w^C^N)+V[0]+3936430074&4294967295,P=w+(I<<11&4294967295|I>>>21),I=N+(P^w^C)+V[3]+3572445317&4294967295,N=P+(I<<16&4294967295|I>>>16),I=C+(N^P^w)+V[6]+76029189&4294967295,C=N+(I<<23&4294967295|I>>>9),I=w+(C^N^P)+V[9]+3654602809&4294967295,w=C+(I<<4&4294967295|I>>>28),I=P+(w^C^N)+V[12]+3873151461&4294967295,P=w+(I<<11&4294967295|I>>>21),I=N+(P^w^C)+V[15]+530742520&4294967295,N=P+(I<<16&4294967295|I>>>16),I=C+(N^P^w)+V[2]+3299628645&4294967295,C=N+(I<<23&4294967295|I>>>9),I=w+(N^(C|~P))+V[0]+4096336452&4294967295,w=C+(I<<6&4294967295|I>>>26),I=P+(C^(w|~N))+V[7]+1126891415&4294967295,P=w+(I<<10&4294967295|I>>>22),I=N+(w^(P|~C))+V[14]+2878612391&4294967295,N=P+(I<<15&4294967295|I>>>17),I=C+(P^(N|~w))+V[5]+4237533241&4294967295,C=N+(I<<21&4294967295|I>>>11),I=w+(N^(C|~P))+V[12]+1700485571&4294967295,w=C+(I<<6&4294967295|I>>>26),I=P+(C^(w|~N))+V[3]+2399980690&4294967295,P=w+(I<<10&4294967295|I>>>22),I=N+(w^(P|~C))+V[10]+4293915773&4294967295,N=P+(I<<15&4294967295|I>>>17),I=C+(P^(N|~w))+V[1]+2240044497&4294967295,C=N+(I<<21&4294967295|I>>>11),I=w+(N^(C|~P))+V[8]+1873313359&4294967295,w=C+(I<<6&4294967295|I>>>26),I=P+(C^(w|~N))+V[15]+4264355552&4294967295,P=w+(I<<10&4294967295|I>>>22),I=N+(w^(P|~C))+V[6]+2734768916&4294967295,N=P+(I<<15&4294967295|I>>>17),I=C+(P^(N|~w))+V[13]+1309151649&4294967295,C=N+(I<<21&4294967295|I>>>11),I=w+(N^(C|~P))+V[4]+4149444226&4294967295,w=C+(I<<6&4294967295|I>>>26),I=P+(C^(w|~N))+V[11]+3174756917&4294967295,P=w+(I<<10&4294967295|I>>>22),I=N+(w^(P|~C))+V[2]+718787259&4294967295,N=P+(I<<15&4294967295|I>>>17),I=C+(P^(N|~w))+V[9]+3951481745&4294967295,R.g[0]=R.g[0]+w&4294967295,R.g[1]=R.g[1]+(N+(I<<21&4294967295|I>>>11))&4294967295,R.g[2]=R.g[2]+N&4294967295,R.g[3]=R.g[3]+P&4294967295}r.prototype.v=function(R,w){w===void 0&&(w=R.length);const C=w-this.blockSize,V=this.C;let N=this.h,P=0;for(;P<w;){if(N==0)for(;P<=C;)l(this,R,P),P+=this.blockSize;if(typeof R=="string"){for(;P<w;)if(V[N++]=R.charCodeAt(P++),N==this.blockSize){l(this,V),N=0;break}}else for(;P<w;)if(V[N++]=R[P++],N==this.blockSize){l(this,V),N=0;break}}this.h=N,this.o+=w},r.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var w=1;w<R.length-8;++w)R[w]=0;w=this.o*8;for(var C=R.length-8;C<R.length;++C)R[C]=w&255,w/=256;for(this.v(R),R=Array(16),w=0,C=0;C<4;++C)for(let V=0;V<32;V+=8)R[w++]=this.g[C]>>>V&255;return R};function u(R,w){var C=p;return Object.prototype.hasOwnProperty.call(C,R)?C[R]:C[R]=w(R)}function d(R,w){this.h=w;const C=[];let V=!0;for(let N=R.length-1;N>=0;N--){const P=R[N]|0;V&&P==w||(C[N]=P,V=!1)}this.g=C}var p={};function g(R){return-128<=R&&R<128?u(R,function(w){return new d([w|0],w<0?-1:0)}):new d([R|0],R<0?-1:0)}function _(R){if(isNaN(R)||!isFinite(R))return A;if(R<0)return ee(_(-R));const w=[];let C=1;for(let V=0;R>=C;V++)w[V]=R/C|0,C*=4294967296;return new d(w,0)}function T(R,w){if(R.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(R.charAt(0)=="-")return ee(T(R.substring(1),w));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=_(Math.pow(w,8));let V=A;for(let P=0;P<R.length;P+=8){var N=Math.min(8,R.length-P);const I=parseInt(R.substring(P,P+N),w);N<8?(N=_(Math.pow(w,N)),V=V.j(N).add(_(I))):(V=V.j(C),V=V.add(_(I)))}return V}var A=g(0),D=g(1),z=g(16777216);s=d.prototype,s.m=function(){if($(this))return-ee(this).m();let R=0,w=1;for(let C=0;C<this.g.length;C++){const V=this.i(C);R+=(V>=0?V:4294967296+V)*w,w*=4294967296}return R},s.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(F(this))return"0";if($(this))return"-"+ee(this).toString(R);const w=_(Math.pow(R,6));var C=this;let V="";for(;;){const N=W(C,w).g;C=ue(C,N.j(w));let P=((C.g.length>0?C.g[0]:C.h)>>>0).toString(R);if(C=N,F(C))return P+V;for(;P.length<6;)P="0"+P;V=P+V}},s.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function F(R){if(R.h!=0)return!1;for(let w=0;w<R.g.length;w++)if(R.g[w]!=0)return!1;return!0}function $(R){return R.h==-1}s.l=function(R){return R=ue(this,R),$(R)?-1:F(R)?0:1};function ee(R){const w=R.g.length,C=[];for(let V=0;V<w;V++)C[V]=~R.g[V];return new d(C,~R.h).add(D)}s.abs=function(){return $(this)?ee(this):this},s.add=function(R){const w=Math.max(this.g.length,R.g.length),C=[];let V=0;for(let N=0;N<=w;N++){let P=V+(this.i(N)&65535)+(R.i(N)&65535),I=(P>>>16)+(this.i(N)>>>16)+(R.i(N)>>>16);V=I>>>16,P&=65535,I&=65535,C[N]=I<<16|P}return new d(C,C[C.length-1]&-2147483648?-1:0)};function ue(R,w){return R.add(ee(w))}s.j=function(R){if(F(this)||F(R))return A;if($(this))return $(R)?ee(this).j(ee(R)):ee(ee(this).j(R));if($(R))return ee(this.j(ee(R)));if(this.l(z)<0&&R.l(z)<0)return _(this.m()*R.m());const w=this.g.length+R.g.length,C=[];for(var V=0;V<2*w;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(let N=0;N<R.g.length;N++){const P=this.i(V)>>>16,I=this.i(V)&65535,rt=R.i(N)>>>16,Dt=R.i(N)&65535;C[2*V+2*N]+=I*Dt,ge(C,2*V+2*N),C[2*V+2*N+1]+=P*Dt,ge(C,2*V+2*N+1),C[2*V+2*N+1]+=I*rt,ge(C,2*V+2*N+1),C[2*V+2*N+2]+=P*rt,ge(C,2*V+2*N+2)}for(R=0;R<w;R++)C[R]=C[2*R+1]<<16|C[2*R];for(R=w;R<2*w;R++)C[R]=0;return new d(C,0)};function ge(R,w){for(;(R[w]&65535)!=R[w];)R[w+1]+=R[w]>>>16,R[w]&=65535,w++}function te(R,w){this.g=R,this.h=w}function W(R,w){if(F(w))throw Error("division by zero");if(F(R))return new te(A,A);if($(R))return w=W(ee(R),w),new te(ee(w.g),ee(w.h));if($(w))return w=W(R,ee(w)),new te(ee(w.g),w.h);if(R.g.length>30){if($(R)||$(w))throw Error("slowDivide_ only works with positive integers.");for(var C=D,V=w;V.l(R)<=0;)C=he(C),V=he(V);var N=Ee(C,1),P=Ee(V,1);for(V=Ee(V,2),C=Ee(C,2);!F(V);){var I=P.add(V);I.l(R)<=0&&(N=N.add(C),P=I),V=Ee(V,1),C=Ee(C,1)}return w=ue(R,N.j(w)),new te(N,w)}for(N=A;R.l(w)>=0;){for(C=Math.max(1,Math.floor(R.m()/w.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),P=_(C),I=P.j(w);$(I)||I.l(R)>0;)C-=V,P=_(C),I=P.j(w);F(P)&&(P=D),N=N.add(P),R=ue(R,I)}return new te(N,R)}s.B=function(R){return W(this,R).h},s.and=function(R){const w=Math.max(this.g.length,R.g.length),C=[];for(let V=0;V<w;V++)C[V]=this.i(V)&R.i(V);return new d(C,this.h&R.h)},s.or=function(R){const w=Math.max(this.g.length,R.g.length),C=[];for(let V=0;V<w;V++)C[V]=this.i(V)|R.i(V);return new d(C,this.h|R.h)},s.xor=function(R){const w=Math.max(this.g.length,R.g.length),C=[];for(let V=0;V<w;V++)C[V]=this.i(V)^R.i(V);return new d(C,this.h^R.h)};function he(R){const w=R.g.length+1,C=[];for(let V=0;V<w;V++)C[V]=R.i(V)<<1|R.i(V-1)>>>31;return new d(C,R.h)}function Ee(R,w){const C=w>>5;w%=32;const V=R.g.length-C,N=[];for(let P=0;P<V;P++)N[P]=w>0?R.i(P+C)>>>w|R.i(P+C+1)<<32-w:R.i(P+C);return new d(N,R.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,jE=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=T,tr=d}).apply(typeof Uv<"u"?Uv:typeof self<"u"?self:typeof window<"u"?window:{});var Hc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var zE,kl,qE,Jc,gm,BE,HE,FE;(function(){var s,e=Object.defineProperty;function i(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hc=="object"&&Hc];for(var m=0;m<c.length;++m){var v=c[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=i(this);function l(c,m){if(m)e:{var v=r;c=c.split(".");for(var S=0;S<c.length-1;S++){var L=c[S];if(!(L in v))break e;v=v[L]}c=c[c.length-1],S=v[c],m=m(S),m!=S&&m!=null&&e(v,c,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(c){return c||function(m){var v=[],S;for(S in m)Object.prototype.hasOwnProperty.call(m,S)&&v.push([S,m[S]]);return v}});var u=u||{},d=this||self;function p(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function g(c,m,v){return c.call.apply(c.bind,arguments)}function _(c,m,v){return _=g,_.apply(null,arguments)}function T(c,m){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function A(c,m){function v(){}v.prototype=m.prototype,c.Z=m.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(S,L,B){for(var ne=Array(arguments.length-2),we=2;we<arguments.length;we++)ne[we-2]=arguments[we];return m.prototype[L].apply(S,ne)}}var D=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function z(c){const m=c.length;if(m>0){const v=Array(m);for(let S=0;S<m;S++)v[S]=c[S];return v}return[]}function F(c,m){for(let S=1;S<arguments.length;S++){const L=arguments[S];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=c.length||0;const B=L.length||0;c.length=v+B;for(let ne=0;ne<B;ne++)c[v+ne]=L[ne]}else c.push(L)}}class ${constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ee(c){d.setTimeout(()=>{throw c},0)}function ue(){var c=R;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class ge{constructor(){this.h=this.g=null}add(m,v){const S=te.get();S.set(m,v),this.h?this.h.next=S:this.g=S,this.h=S}}var te=new $(()=>new W,c=>c.reset());class W{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let he,Ee=!1,R=new ge,w=()=>{const c=Promise.resolve(void 0);he=()=>{c.then(C)}};function C(){for(var c;c=ue();){try{c.h.call(c.g)}catch(v){ee(v)}var m=te;m.j(c),m.h<100&&(m.h++,c.next=m.g,m.g=c)}Ee=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return c})();function I(c){return/^[\s\xa0]*$/.test(c)}function rt(c,m){N.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,m)}A(rt,N),rt.prototype.init=function(c,m){const v=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget,m||(v=="mouseover"?m=c.fromElement:v=="mouseout"&&(m=c.toElement)),this.relatedTarget=m,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&rt.Z.h.call(this)},rt.prototype.h=function(){rt.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Dt="closure_listenable_"+(Math.random()*1e6|0),Q=0;function ie(c,m,v,S,L){this.listener=c,this.proxy=null,this.src=m,this.type=v,this.capture=!!S,this.ha=L,this.key=++Q,this.da=this.fa=!1}function pe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function je(c,m,v){for(const S in c)m.call(v,c[S],S,c)}function Ge(c,m){for(const v in c)m.call(void 0,c[v],v,c)}function M(c){const m={};for(const v in c)m[v]=c[v];return m}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function se(c,m){let v,S;for(let L=1;L<arguments.length;L++){S=arguments[L];for(v in S)c[v]=S[v];for(let B=0;B<X.length;B++)v=X[B],Object.prototype.hasOwnProperty.call(S,v)&&(c[v]=S[v])}}function oe(c){this.src=c,this.g={},this.h=0}oe.prototype.add=function(c,m,v,S,L){const B=c.toString();c=this.g[B],c||(c=this.g[B]=[],this.h++);const ne=Ce(c,m,S,L);return ne>-1?(m=c[ne],v||(m.fa=!1)):(m=new ie(m,this.src,B,!!S,L),m.fa=v,c.push(m)),m};function Te(c,m){const v=m.type;if(v in c.g){var S=c.g[v],L=Array.prototype.indexOf.call(S,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(S,L,1),B&&(pe(m),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Ce(c,m,v,S){for(let L=0;L<c.length;++L){const B=c[L];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==S)return L}return-1}var Le="closure_lm_"+(Math.random()*1e6|0),Ot={};function at(c,m,v,S,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)at(c,m[B],v,S,L);return null}return v=xo(v),c&&c[Dt]?c.J(m,v,p(S)?!!S.capture:!1,L):dr(c,m,v,!1,S,L)}function dr(c,m,v,S,L,B){if(!m)throw Error("Invalid event type");const ne=p(L)?!!L.capture:!!L;let we=mr(c);if(we||(c[Le]=we=new oe(c)),v=we.add(m,v,S,ne,B),v.proxy)return v;if(S=oa(),v.proxy=S,S.src=c,S.listener=v,c.addEventListener)P||(L=ne),L===void 0&&(L=!1),c.addEventListener(m.toString(),S,L);else if(c.attachEvent)c.attachEvent(li(m.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function oa(){function c(v){return m.call(c.src,c.listener,v)}const m=Co;return c}function la(c,m,v,S,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)la(c,m[B],v,S,L);else S=p(S)?!!S.capture:!!S,v=xo(v),c&&c[Dt]?(c=c.i,B=String(m).toString(),B in c.g&&(m=c.g[B],v=Ce(m,v,S,L),v>-1&&(pe(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete c.g[B],c.h--)))):c&&(c=mr(c))&&(m=c.g[m.toString()],c=-1,m&&(c=Ce(m,v,S,L)),(v=c>-1?m[c]:null)&&ua(v))}function ua(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[Dt])Te(m.i,c);else{var v=c.type,S=c.proxy;m.removeEventListener?m.removeEventListener(v,S,c.capture):m.detachEvent?m.detachEvent(li(v),S):m.addListener&&m.removeListener&&m.removeListener(S),(v=mr(m))?(Te(v,c),v.h==0&&(v.src=null,m[Le]=null)):pe(c)}}}function li(c){return c in Ot?Ot[c]:Ot[c]="on"+c}function Co(c,m){if(c.da)c=!0;else{m=new rt(m,this);const v=c.listener,S=c.ha||c.src;c.fa&&ua(c),c=v.call(S,m)}return c}function mr(c){return c=c[Le],c instanceof oe?c:null}var Io="__closure_events_fn_"+(Math.random()*1e9>>>0);function xo(c){return typeof c=="function"?c:(c[Io]||(c[Io]=function(m){return c.handleEvent(m)}),c[Io])}function _t(){V.call(this),this.i=new oe(this),this.M=this,this.G=null}A(_t,V),_t.prototype[Dt]=!0,_t.prototype.removeEventListener=function(c,m,v,S){la(this,c,m,v,S)};function Mt(c,m){var v,S=c.G;if(S)for(v=[];S;S=S.G)v.push(S);if(c=c.M,S=m.type||m,typeof m=="string")m=new N(m,c);else if(m instanceof N)m.target=m.target||c;else{var L=m;m=new N(S,c),se(m,L)}L=!0;let B,ne;if(v)for(ne=v.length-1;ne>=0;ne--)B=m.g=v[ne],L=ms(B,S,!0,m)&&L;if(B=m.g=c,L=ms(B,S,!0,m)&&L,L=ms(B,S,!1,m)&&L,v)for(ne=0;ne<v.length;ne++)B=m.g=v[ne],L=ms(B,S,!1,m)&&L}_t.prototype.N=function(){if(_t.Z.N.call(this),this.i){var c=this.i;for(const m in c.g){const v=c.g[m];for(let S=0;S<v.length;S++)pe(v[S]);delete c.g[m],c.h--}}this.G=null},_t.prototype.J=function(c,m,v,S){return this.i.add(String(c),m,!1,v,S)},_t.prototype.K=function(c,m,v,S){return this.i.add(String(c),m,!0,v,S)};function ms(c,m,v,S){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const ne=m[B];if(ne&&!ne.da&&ne.capture==v){const we=ne.listener,mt=ne.ha||ne.src;ne.fa&&Te(c.i,ne),L=we.call(mt,S)!==!1&&L}}return L&&!S.defaultPrevented}function Bh(c,m){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=_(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(c,m||0)}function du(c){c.g=Bh(()=>{c.g=null,c.i&&(c.i=!1,du(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class sn extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:du(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pr(c){V.call(this),this.h=c,this.g={}}A(pr,V);var No=[];function Do(c){je(c.g,function(m,v){this.g.hasOwnProperty(v)&&ua(m)},c),c.g={}}pr.prototype.N=function(){pr.Z.N.call(this),Do(this)},pr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ps=d.JSON.stringify,Hh=d.JSON.parse,mu=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function pu(){}function gu(){}var qn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qt(){N.call(this,"d")}A(qt,N);function wn(){N.call(this,"c")}A(wn,N);var dt={},yu=null;function ca(){return yu=yu||new _t}dt.Ia="serverreachability";function _u(c){N.call(this,dt.Ia,c)}A(_u,N);function ui(c){const m=ca();Mt(m,new _u(m))}dt.STAT_EVENT="statevent";function gr(c,m){N.call(this,dt.STAT_EVENT,c),this.stat=m}A(gr,N);function vt(c){const m=ca();Mt(m,new gr(m,c))}dt.Ja="timingevent";function ci(c,m){N.call(this,dt.Ja,c),this.size=m}A(ci,N);function hi(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},m)}function Bn(){this.g=!0}Bn.prototype.ua=function(){this.g=!1};function Fh(c,m,v,S,L,B){c.info(function(){if(c.g)if(B){var ne="",we=B.split("&");for(let Be=0;Be<we.length;Be++){var mt=we[Be].split("=");if(mt.length>1){const ot=mt[0];mt=mt[1];const xn=ot.split("_");ne=xn.length>=2&&xn[1]=="type"?ne+(ot+"="+mt+"&"):ne+(ot+"=redacted&")}}}else ne=null;else ne=B;return"XMLHTTP REQ ("+S+") [attempt "+L+"]: "+m+`
`+v+`
`+ne})}function vu(c,m,v,S,L,B,ne){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+L+"]: "+m+`
`+v+`
`+B+" "+ne})}function fi(c,m,v,S){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+Gh(c,v)+(S?" "+S:"")})}function yr(c,m){c.info(function(){return"TIMEOUT: "+m})}Bn.prototype.info=function(){};function Gh(c,m){if(!c.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(c=0;c<B.length;c++)if(Array.isArray(B[c])){var v=B[c];if(!(v.length<2)){var S=v[1];if(Array.isArray(S)&&!(S.length<1)){var L=S[0];if(L!="noop"&&L!="stop"&&L!="close")for(let ne=1;ne<S.length;ne++)S[ne]=""}}}}return ps(B)}catch{return m}}var _r={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Oo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Mo;function vr(){}A(vr,pu),vr.prototype.g=function(){return new XMLHttpRequest},Mo=new vr;function ji(c){return encodeURIComponent(String(c))}function Eu(c){var m=1;c=c.split(":");const v=[];for(;m>0&&c.length;)v.push(c.shift()),m--;return c.length&&v.push(c.join(":")),v}function Hn(c,m,v,S){this.j=c,this.i=m,this.l=v,this.S=S||1,this.V=new pr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Fn}function Fn(){this.i=null,this.g="",this.h=!1}var Et={},Pt={};function di(c,m,v){c.M=1,c.A=Er(bt(m)),c.u=v,c.R=!0,ha(c,null)}function ha(c,m){c.F=Date.now(),mi(c),c.B=bt(c.A);var v=c.B,S=c.S;Array.isArray(S)||(S=[String(S)]),pa(v.i,"t",S),c.C=0,v=c.j.L,c.h=new Fn,c.g=ku(c.j,v?m:null,!c.u),c.P>0&&(c.O=new sn(_(c.Y,c,c.g),c.P)),m=c.V,v=c.g,S=c.ba;var L="readystatechange";Array.isArray(L)||(L&&(No[0]=L.toString()),L=No);for(let B=0;B<L.length;B++){const ne=at(v,L[B],S||m.handleEvent,!1,m.h||m);if(!ne)break;m.g[ne.key]=ne}m=c.J?M(c.J):{},c.u?(c.v||(c.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,m)):(c.v="GET",c.g.ea(c.B,c.v,null,m)),ui(),Fh(c.i,c.v,c.B,c.l,c.S,c.u)}Hn.prototype.ba=function(c){c=c.target;const m=this.O;m&&Kn(c)==3?m.j():this.Y(c)},Hn.prototype.Y=function(c){try{if(c==this.g)e:{const we=Kn(this.g),mt=this.g.ya(),Be=this.g.ca();if(!(we<3)&&(we!=3||this.g&&(this.h.h||this.g.la()||Bt(this.g)))){this.K||we!=4||mt==7||(mt==8||Be<=0?ui(3):ui(2)),pi(this);var m=this.g.ca();this.X=m;var v=Qh(this);if(this.o=m==200,vu(this.i,this.v,this.B,this.l,this.S,we,m),this.o){if(this.U&&!this.L){t:{if(this.g){var S,L=this.g;if((S=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(S)){var B=S;break t}}B=null}if(c=B)fi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,gi(this,c);else{this.o=!1,this.m=3,vt(12),pn(this),Rn(this);break e}}if(this.R){c=!0;let ot;for(;!this.K&&this.C<v.length;)if(ot=bu(this,v),ot==Pt){we==4&&(this.m=4,vt(14),c=!1),fi(this.i,this.l,null,"[Incomplete Response]");break}else if(ot==Et){this.m=4,vt(15),fi(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else fi(this.i,this.l,ot,null),gi(this,ot);if(Tu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),we!=4||v.length!=0||this.h.h||(this.m=1,vt(16),c=!1),this.o=this.o&&c,!c)fi(this.i,this.l,v,"[Invalid Chunked Response]"),pn(this),Rn(this);else if(v.length>0&&!this.W){this.W=!0;var ne=this.j;ne.g==this&&ne.aa&&!ne.P&&(ne.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Yo(ne),ne.P=!0,vt(11))}}else fi(this.i,this.l,v,null),gi(this,v);we==4&&pn(this),this.o&&!this.K&&(we==4?Du(this.j,this):(this.o=!1,mi(this)))}else qi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,vt(12)):(this.m=0,vt(13)),pn(this),Rn(this)}}}catch{}finally{}};function Qh(c){if(!Tu(c))return c.g.la();const m=Bt(c.g);if(m==="")return"";let v="";const S=m.length,L=Kn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return pn(c),Rn(c),"";c.h.i=new d.TextDecoder}for(let B=0;B<S;B++)c.h.h=!0,v+=c.h.i.decode(m[B],{stream:!(L&&B==S-1)});return m.length=0,c.h.g+=v,c.C=0,c.h.g}function Tu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function bu(c,m){var v=c.C,S=m.indexOf(`
`,v);return S==-1?Pt:(v=Number(m.substring(v,S)),isNaN(v)?Et:(S+=1,S+v>m.length?Pt:(m=m.slice(S,S+v),c.C=S+v,m)))}Hn.prototype.cancel=function(){this.K=!0,pn(this)};function mi(c){c.T=Date.now()+c.H,fa(c,c.H)}function fa(c,m){if(c.D!=null)throw Error("WatchDog timer not null");c.D=hi(_(c.aa,c),m)}function pi(c){c.D&&(d.clearTimeout(c.D),c.D=null)}Hn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(yr(this.i,this.B),this.M!=2&&(ui(),vt(17)),pn(this),this.m=2,Rn(this)):fa(this,this.T-c)};function Rn(c){c.j.I==0||c.K||Du(c.j,c)}function pn(c){pi(c);var m=c.O;m&&typeof m.dispose=="function"&&m.dispose(),c.O=null,Do(c.V),c.g&&(m=c.g,c.g=null,m.abort(),m.dispose())}function gi(c,m){try{var v=c.j;if(v.I!=0&&(v.g==c||_i(v.h,c))){if(!c.L&&_i(v.h,c)&&v.I==3){try{var S=v.Ba.g.parse(m)}catch{S=null}if(Array.isArray(S)&&S.length==3){var L=S;if(L[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)Ea(v),As(v);else break e;Cr(v),vt(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=hi(_(v.Va,v),6e3));yi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Si(v,11)}else if((c.L||v.g==c)&&Ea(v),!I(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let Be=L[m];const ot=Be[0];if(!(ot<=v.K))if(v.K=ot,Be=Be[1],v.I==2)if(Be[0]=="c"){v.M=Be[1],v.ba=Be[2];const xn=Be[3];xn!=null&&(v.ka=xn,v.j.info("VER="+v.ka));const wi=Be[4];wi!=null&&(v.za=wi,v.j.info("SVER="+v.za));const Yn=Be[5];Yn!=null&&typeof Yn=="number"&&Yn>0&&(S=1.5*Yn,v.O=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const Xn=c.g;if(Xn){const Ir=Xn.g?Xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ir){var B=S.h;B.g||Ir.indexOf("spdy")==-1&&Ir.indexOf("quic")==-1&&Ir.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Po(B,B.h),B.h=null))}if(S.G){const Ta=Xn.g?Xn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ta&&(S.wa=Ta,Qe(S.J,S.G,Ta))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),S=v;var ne=c;if(S.na=Vu(S,S.L?S.ba:null,S.W),ne.L){Lo(S.h,ne);var we=ne,mt=S.O;mt&&(we.H=mt),we.D&&(pi(we),mi(we)),S.g=ne}else xu(S);v.i.length>0&&Ai(v)}else Be[0]!="stop"&&Be[0]!="close"||Si(v,7);else v.I==3&&(Be[0]=="stop"||Be[0]=="close"?Be[0]=="stop"?Si(v,7):Qo(v):Be[0]!="noop"&&v.l&&v.l.qa(Be),v.A=0)}}ui(4)}catch{}}var Tt=class{constructor(c,m){this.g=c,this.map=m}};function Vo(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ko(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function yi(c){return c.h?1:c.g?c.g.size:0}function _i(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function Po(c,m){c.g?c.g.add(m):c.h=m}function Lo(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}Vo.prototype.cancel=function(){if(this.i=Uo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Uo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const v of c.g.values())m=m.concat(v.G);return m}return z(c.i)}var Au=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function da(c,m){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const S=c[v].indexOf("=");let L,B=null;S>=0?(L=c[v].substring(0,S),B=c[v].substring(S+1)):L=c[v],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function gn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;c instanceof gn?(this.l=c.l,Lt(this,c.j),this.o=c.o,this.g=c.g,gs(this,c.u),this.h=c.h,jo(this,Cu(c.i)),this.m=c.m):c&&(m=String(c).match(Au))?(this.l=!1,Lt(this,m[1]||"",!0),this.o=vi(m[2]||""),this.g=vi(m[3]||"",!0),gs(this,m[4]),this.h=vi(m[5]||"",!0),jo(this,m[6]||"",!0),this.m=vi(m[7]||"")):(this.l=!1,this.i=new _s(null,this.l))}gn.prototype.toString=function(){const c=[];var m=this.j;m&&c.push(Tr(m,ma,!0),":");var v=this.g;return(v||m=="file")&&(c.push("//"),(m=this.o)&&c.push(Tr(m,ma,!0),"@"),c.push(ji(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Tr(v,v.charAt(0)=="/"?zo:Su,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Tr(v,wu)),c.join("")},gn.prototype.resolve=function(c){const m=bt(this);let v=!!c.j;v?Lt(m,c.j):v=!!c.o,v?m.o=c.o:v=!!c.g,v?m.g=c.g:v=c.u!=null;var S=c.h;if(v)gs(m,c.u);else if(v=!!c.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var L=m.h.lastIndexOf("/");L!=-1&&(S=m.h.slice(0,L+1)+S)}if(L=S,L==".."||L==".")S="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){S=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let ne=0;ne<L.length;){const we=L[ne++];we=="."?S&&ne==L.length&&B.push(""):we==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),S&&ne==L.length&&B.push("")):(B.push(we),S=!0)}S=B.join("/")}else S=L}return v?m.h=S:v=c.i.toString()!=="",v?jo(m,Cu(c.i)):v=!!c.m,v&&(m.m=c.m),m};function bt(c){return new gn(c)}function Lt(c,m,v){c.j=v?vi(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function gs(c,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);c.u=m}else c.u=null}function jo(c,m,v){m instanceof _s?(c.i=m,ga(c.i,c.l)):(v||(m=Tr(m,ys)),c.i=new _s(m,c.l))}function Qe(c,m,v){c.i.set(m,v)}function Er(c){return Qe(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function vi(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Tr(c,m,v){return typeof c=="string"?(c=encodeURI(c).replace(m,on),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function on(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ma=/[#\/\?@]/g,Su=/[#\?:]/g,zo=/[#\?]/g,ys=/[#\?@]/g,wu=/#/g;function _s(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function ln(c){c.g||(c.g=new Map,c.h=0,c.i&&da(c.i,function(m,v){c.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=_s.prototype,s.add=function(c,m){ln(this),this.i=null,c=vs(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(m),this.h+=1,this};function Ru(c,m){ln(c),m=vs(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function qo(c,m){return ln(c),m=vs(c,m),c.g.has(m)}s.forEach=function(c,m){ln(this),this.g.forEach(function(v,S){v.forEach(function(L){c.call(m,L,S,this)},this)},this)};function Bo(c,m){ln(c);let v=[];if(typeof m=="string")qo(c,m)&&(v=v.concat(c.g.get(vs(c,m))));else for(c=Array.from(c.g.values()),m=0;m<c.length;m++)v=v.concat(c[m]);return v}s.set=function(c,m){return ln(this),this.i=null,c=vs(this,c),qo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},s.get=function(c,m){return c?(c=Bo(this,c),c.length>0?String(c[0]):m):m};function pa(c,m,v){Ru(c,m),v.length>0&&(c.i=null,c.g.set(vs(c,m),z(v)),c.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(let S=0;S<m.length;S++){var v=m[S];const L=ji(v);v=Bo(this,v);for(let B=0;B<v.length;B++){let ne=L;v[B]!==""&&(ne+="="+ji(v[B])),c.push(ne)}}return this.i=c.join("&")};function Cu(c){const m=new _s;return m.i=c.i,c.g&&(m.g=new Map(c.g),m.h=c.h),m}function vs(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function ga(c,m){m&&!c.j&&(ln(c),c.i=null,c.g.forEach(function(v,S){const L=S.toLowerCase();S!=L&&(Ru(this,S),pa(this,L,v))},c)),c.j=m}function Gn(c,m){const v=new Bn;if(d.Image){const S=new Image;S.onload=T(Cn,v,"TestLoadImage: loaded",!0,m,S),S.onerror=T(Cn,v,"TestLoadImage: error",!1,m,S),S.onabort=T(Cn,v,"TestLoadImage: abort",!1,m,S),S.ontimeout=T(Cn,v,"TestLoadImage: timeout",!1,m,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else m(!1)}function Ho(c,m){const v=new Bn,S=new AbortController,L=setTimeout(()=>{S.abort(),Cn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:S.signal}).then(B=>{clearTimeout(L),B.ok?Cn(v,"TestPingServer: ok",!0,m):Cn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Cn(v,"TestPingServer: error",!1,m)})}function Cn(c,m,v,S,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),S(v)}catch{}}function Es(){this.g=new mu}function Ei(c){this.i=c.Sb||null,this.h=c.ab||!1}A(Ei,pu),Ei.prototype.g=function(){return new br(this.i,this.h)};function br(c,m){_t.call(this),this.H=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(br,_t),s=br.prototype,s.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=m,this.readyState=1,Qn(this)},s.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(m.body=c),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ts(this)),this.readyState=0},s.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Qn(this)),this.g&&(this.readyState=3,Qn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ya(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ya(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}s.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?Ts(this):Qn(this),this.readyState==3&&ya(this)}},s.Oa=function(c){this.g&&(this.response=this.responseText=c,Ts(this))},s.Na=function(c){this.g&&(this.response=c,Ts(this))},s.ga=function(){this.g&&Ts(this)};function Ts(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Qn(c)}s.setRequestHeader=function(c,m){this.A.append(c,m)},s.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=m.next();return c.join(`\r
`)};function Qn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(br.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function In(c){let m="";return je(c,function(v,S){m+=S,m+=":",m+=v,m+=`\r
`}),m}function Ar(c,m,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=In(v),typeof c=="string"?v!=null&&ji(v):Qe(c,m,v))}function Xe(c){_t.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(Xe,_t);var Ti=/^https?$/i,Fo=["POST","PUT"];s=Xe.prototype,s.Fa=function(c){this.H=c},s.ea=function(c,m,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Mo.g(),this.g.onreadystatechange=D(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(B){Sr(this,B);return}if(c=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var L in S)v.set(L,S[L]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const B of S.keys())v.set(B,S.get(B));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&c instanceof d.FormData,!(Array.prototype.indexOf.call(Fo,m,void 0)>=0)||S||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,ne]of v)this.g.setRequestHeader(B,ne);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(B){Sr(this,B)}};function Sr(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.o=5,Go(c),zi(c)}function Go(c){c.A||(c.A=!0,Mt(c,"complete"),Mt(c,"error"))}s.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Mt(this,"complete"),Mt(this,"abort"),zi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zi(this,!0)),Xe.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?wr(this):this.Xa())},s.Xa=function(){wr(this)};function wr(c){if(c.h&&typeof u<"u"){if(c.v&&Kn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Mt(c,"readystatechange"),Kn(c)==4){c.h=!1;try{const B=c.ca();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var S;if(S=B===0){let ne=String(c.D).match(Au)[1]||null;!ne&&d.self&&d.self.location&&(ne=d.self.location.protocol.slice(0,-1)),S=!Ti.test(ne?ne.toLowerCase():"")}v=S}if(v)Mt(c,"complete"),Mt(c,"success");else{c.o=6;try{var L=Kn(c)>2?c.g.statusText:""}catch{L=""}c.l=L+" ["+c.ca()+"]",Go(c)}}finally{zi(c)}}}}function zi(c,m){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,m||Mt(c,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Kn(c){return c.g?c.g.readyState:0}s.ca=function(){try{return Kn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),Hh(m)}};function Bt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function qi(c){const m={};c=(c.g&&Kn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(I(c[S]))continue;var v=Eu(c[S]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[L]||[];m[L]=B,B.push(v)}Ge(m,function(S){return S.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function bi(c,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||m}function bs(c){this.za=0,this.i=[],this.j=new Bn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=bi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=bi("baseRetryDelayMs",5e3,c),this.Za=bi("retryDelaySeedMs",1e4,c),this.Ta=bi("forwardChannelMaxRetries",2,c),this.va=bi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Vo(c&&c.concurrentRequestLimit),this.Ba=new Es,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=bs.prototype,s.ka=8,s.I=1,s.connect=function(c,m,v,S){vt(0),this.W=c,this.H=m||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.J=Vu(this,null,this.W),Ai(this)};function Qo(c){if(_a(c),c.I==3){var m=c.V++,v=bt(c.J);if(Qe(v,"SID",c.M),Qe(v,"RID",m),Qe(v,"TYPE","terminate"),Rr(c,v),m=new Hn(c,c.j,m),m.M=2,m.A=Er(bt(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=ku(m.j,null),m.g.ea(m.A)),m.F=Date.now(),mi(m)}Mu(c)}function As(c){c.g&&(Yo(c),c.g.cancel(),c.g=null)}function _a(c){As(c),c.v&&(d.clearTimeout(c.v),c.v=null),Ea(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&d.clearTimeout(c.m),c.m=null)}function Ai(c){if(!ko(c.h)&&!c.m){c.m=!0;var m=c.Ea;he||w(),Ee||(he(),Ee=!0),R.add(m,c),c.D=0}}function va(c,m){return yi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=m.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=hi(_(c.Ea,c,m),Ou(c,c.D)),c.D++,!0)}s.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const L=new Hn(this,this.j,c);let B=this.o;if(this.U&&(B?(B=M(B),se(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(m+=S,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=Iu(this,L,m),v=bt(this.J),Qe(v,"RID",c),Qe(v,"CVER",22),this.G&&Qe(v,"X-HTTP-Session-Id",this.G),Rr(this,v),B&&(this.R?m="headers="+ji(In(B))+"&"+m:this.u&&Ar(v,this.u,B)),Po(this.h,L),this.Ra&&Qe(v,"TYPE","init"),this.S?(Qe(v,"$req",m),Qe(v,"SID","null"),L.U=!0,di(L,v,null)):di(L,v,m),this.I=2}}else this.I==3&&(c?Ko(this,c):this.i.length==0||ko(this.h)||Ko(this))};function Ko(c,m){var v;m?v=m.l:v=c.V++;const S=bt(c.J);Qe(S,"SID",c.M),Qe(S,"RID",v),Qe(S,"AID",c.K),Rr(c,S),c.u&&c.o&&Ar(S,c.u,c.o),v=new Hn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),m&&(c.i=m.G.concat(c.i)),m=Iu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Po(c.h,v),di(v,S,m)}function Rr(c,m){c.H&&je(c.H,function(v,S){Qe(m,S,v)}),c.l&&je({},function(v,S){Qe(m,S,v)})}function Iu(c,m,v){v=Math.min(c.i.length,v);const S=c.l?_(c.l.Ka,c.l,c):null;e:{var L=c.i;let we=-1;for(;;){const mt=["count="+v];we==-1?v>0?(we=L[0].g,mt.push("ofs="+we)):we=0:mt.push("ofs="+we);let Be=!0;for(let ot=0;ot<v;ot++){var B=L[ot].g;const xn=L[ot].map;if(B-=we,B<0)we=Math.max(0,L[ot].g-100),Be=!1;else try{B="req"+B+"_"||"";try{var ne=xn instanceof Map?xn:Object.entries(xn);for(const[wi,Yn]of ne){let Xn=Yn;p(Yn)&&(Xn=ps(Yn)),mt.push(B+wi+"="+encodeURIComponent(Xn))}}catch(wi){throw mt.push(B+"type="+encodeURIComponent("_badmap")),wi}}catch{S&&S(xn)}}if(Be){ne=mt.join("&");break e}}ne=void 0}return c=c.i.splice(0,v),m.G=c,ne}function xu(c){if(!c.g&&!c.v){c.Y=1;var m=c.Da;he||w(),Ee||(he(),Ee=!0),R.add(m,c),c.A=0}}function Cr(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=hi(_(c.Da,c),Ou(c,c.A)),c.A++,!0)}s.Da=function(){if(this.v=null,Nu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=hi(_(this.Wa,this),c)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,vt(10),As(this),Nu(this))};function Yo(c){c.B!=null&&(d.clearTimeout(c.B),c.B=null)}function Nu(c){c.g=new Hn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var m=bt(c.na);Qe(m,"RID","rpc"),Qe(m,"SID",c.M),Qe(m,"AID",c.K),Qe(m,"CI",c.F?"0":"1"),!c.F&&c.ia&&Qe(m,"TO",c.ia),Qe(m,"TYPE","xmlhttp"),Rr(c,m),c.u&&c.o&&Ar(m,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=Er(bt(m)),v.u=null,v.R=!0,ha(v,c)}s.Va=function(){this.C!=null&&(this.C=null,As(this),Cr(this),vt(19))};function Ea(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function Du(c,m){var v=null;if(c.g==m){Ea(c),Yo(c),c.g=null;var S=2}else if(_i(c.h,m))v=m.G,Lo(c.h,m),S=1;else return;if(c.I!=0){if(m.o)if(S==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=c.D;S=ca(),Mt(S,new ci(S,v)),Ai(c)}else xu(c);else if(L=m.m,L==3||L==0&&m.X>0||!(S==1&&va(c,m)||S==2&&Cr(c)))switch(v&&v.length>0&&(m=c.h,m.i=m.i.concat(v)),L){case 1:Si(c,5);break;case 4:Si(c,10);break;case 3:Si(c,6);break;default:Si(c,2)}}}function Ou(c,m){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*m}function Si(c,m){if(c.j.info("Error code "+m),m==2){var v=_(c.bb,c),S=c.Ua;const L=!S;S=new gn(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Lt(S,"https"),Er(S),L?Gn(S.toString(),v):Ho(S.toString(),v)}else vt(2);c.I=0,c.l&&c.l.pa(m),Mu(c),_a(c)}s.bb=function(c){c?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function Mu(c){if(c.I=0,c.ja=[],c.l){const m=Uo(c.h);(m.length!=0||c.i.length!=0)&&(F(c.ja,m),F(c.ja,c.i),c.h.i.length=0,z(c.i),c.i.length=0),c.l.oa()}}function Vu(c,m,v){var S=v instanceof gn?bt(v):new gn(v);if(S.g!="")m&&(S.g=m+"."+S.g),gs(S,S.u);else{var L=d.location;S=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new gn(null);S&&Lt(B,S),m&&(B.g=m),L&&gs(B,L),v&&(B.h=v),S=B}return v=c.G,m=c.wa,v&&m&&Qe(S,v,m),Qe(S,"VER",c.ka),Rr(c,S),S}function ku(c,m,v){if(m&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Aa&&!c.ma?new Xe(new Ei({ab:v})):new Xe(c.ma),m.Fa(c.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Pu(){}s=Pu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Ss(){}Ss.prototype.g=function(c,m){return new rn(c,m)};function rn(c,m){_t.call(this),this.g=new bs(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(c?c["X-WebChannel-Client-Profile"]=m.sa:c={"X-WebChannel-Client-Profile":m.sa}),this.g.U=c,(c=m&&m.Qb)&&!I(c)&&(this.g.u=c),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!I(m)&&(this.g.G=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new Bi(this)}A(rn,_t),rn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){Qo(this.g)},rn.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=ps(c),c=v);m.i.push(new Tt(m.Ya++,c)),m.I==3&&Ai(m)},rn.prototype.N=function(){this.g.l=null,delete this.j,Qo(this.g),delete this.g,rn.Z.N.call(this)};function Lu(c){qt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const v in m){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}A(Lu,qt);function Uu(){wn.call(this),this.status=1}A(Uu,wn);function Bi(c){this.g=c}A(Bi,Pu),Bi.prototype.ra=function(){Mt(this.g,"a")},Bi.prototype.qa=function(c){Mt(this.g,new Lu(c))},Bi.prototype.pa=function(c){Mt(this.g,new Uu)},Bi.prototype.oa=function(){Mt(this.g,"b")},Ss.prototype.createWebChannel=Ss.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,FE=function(){return new Ss},HE=function(){return ca()},BE=dt,gm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},_r.NO_ERROR=0,_r.TIMEOUT=8,_r.HTTP_ERROR=6,Jc=_r,Oo.COMPLETE="complete",qE=Oo,gu.EventType=qn,qn.OPEN="a",qn.CLOSE="b",qn.ERROR="c",qn.MESSAGE="d",_t.prototype.listen=_t.prototype.J,kl=gu,Xe.prototype.listenOnce=Xe.prototype.K,Xe.prototype.getLastError=Xe.prototype.Ha,Xe.prototype.getLastErrorCode=Xe.prototype.ya,Xe.prototype.getStatus=Xe.prototype.ca,Xe.prototype.getResponseJson=Xe.prototype.La,Xe.prototype.getResponseText=Xe.prototype.la,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Fa,zE=Xe}).apply(typeof Hc<"u"?Hc:typeof self<"u"?self:typeof window<"u"?window:{});const jv="@firebase/firestore",zv="4.9.2";class Wt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");let vo="12.3.0";const Wr=new Pm("@firebase/firestore");function Za(){return Wr.logLevel}function ae(s,...e){if(Wr.logLevel<=Me.DEBUG){const i=e.map(Xm);Wr.debug(`Firestore (${vo}): ${s}`,...i)}}function cs(s,...e){if(Wr.logLevel<=Me.ERROR){const i=e.map(Xm);Wr.error(`Firestore (${vo}): ${s}`,...i)}}function lo(s,...e){if(Wr.logLevel<=Me.WARN){const i=e.map(Xm);Wr.warn(`Firestore (${vo}): ${s}`,...i)}}function Xm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function ve(s,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,GE(s,r,i)}function GE(s,e,i){let r=`FIRESTORE (${vo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw cs(r),new Error(r)}function Fe(s,e,i,r){let l="Unexpected state";typeof i=="string"?l=i:r=i,s||GE(e,l,r)}function Se(s,e){return s}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class re extends fs{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Kr{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class QE{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class JR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Wt.UNAUTHENTICATED)))}shutdown(){}}class WR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class eC{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Fe(this.o===void 0,42304);let r=this.i;const l=g=>this.i!==r?(r=this.i,i(g)):Promise.resolve();let u=new Kr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Kr,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await l(this.currentUser)}))},p=g=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Kr)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Fe(typeof r.accessToken=="string",31837,{l:r}),new QE(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string",2055,{h:e}),new Wt(e)}}class tC{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class nC{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new tC(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Wt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class qv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class iC{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Sn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Fe(this.o===void 0,3512);const r=u=>{u.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.m;return this.m=u.token,ae("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>r(u)))};const l=u=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>l(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?l(u):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new qv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Fe(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new qv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function sC(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}class $m{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=sC(40);for(let u=0;u<l.length;++u)r.length<20&&l[u]<i&&(r+=e.charAt(l[u]%62))}return r}}function Ve(s,e){return s<e?-1:s>e?1:0}function ym(s,e){const i=Math.min(s.length,e.length);for(let r=0;r<i;r++){const l=s.charAt(r),u=e.charAt(r);if(l!==u)return em(l)===em(u)?Ve(l,u):em(l)?1:-1}return Ve(s.length,e.length)}const rC=55296,aC=57343;function em(s){const e=s.charCodeAt(0);return e>=rC&&e<=aC}function uo(s,e,i){return s.length===e.length&&s.every(((r,l)=>i(r,e[l])))}const Bv="__name__";class Ni{constructor(e,i,r){i===void 0?i=0:i>e.length&&ve(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&ve(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return Ni.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Ni?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let l=0;l<r;l++){const u=Ni.compareSegments(e.get(l),i.get(l));if(u!==0)return u}return Ve(e.length,i.length)}static compareSegments(e,i){const r=Ni.isNumericId(e),l=Ni.isNumericId(i);return r&&!l?-1:!r&&l?1:r&&l?Ni.extractNumericId(e).compare(Ni.extractNumericId(i)):ym(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return tr.fromString(e.substring(4,e.length-2))}}class tt extends Ni{construct(e,i,r){return new tt(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new re(Z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((l=>l.length>0)))}return new tt(i)}static emptyPath(){return new tt([])}}const oC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yt extends Ni{construct(e,i,r){return new Yt(e,i,r)}static isValidIdentifier(e){return oC.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Bv}static keyField(){return new Yt([Bv])}static fromServerFormat(e){const i=[];let r="",l=0;const u=()=>{if(r.length===0)throw new re(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;l<e.length;){const p=e[l];if(p==="\\"){if(l+1===e.length)throw new re(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[l+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new re(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=g,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(r+=p,l++):(u(),l++)}if(u(),d)throw new re(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yt(i)}static emptyPath(){return new Yt([])}}class de{constructor(e){this.path=e}static fromPath(e){return new de(tt.fromString(e))}static fromName(e){return new de(tt.fromString(e).popFirst(5))}static empty(){return new de(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return tt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new de(new tt(e.slice()))}}function KE(s,e,i){if(!i)throw new re(Z.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function lC(s,e,i,r){if(e===!0&&r===!0)throw new re(Z.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function Hv(s){if(!de.isDocumentKey(s))throw new re(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Fv(s){if(de.isDocumentKey(s))throw new re(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function YE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Ch(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":ve(12329,{type:typeof s})}function nr(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new re(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Ch(s);throw new re(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function xt(s,e){const i={typeString:s};return e&&(i.value=e),i}function lu(s,e){if(!YE(s))throw new re(Z.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const l=e[r].typeString,u="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(l&&typeof d!==l){i=`JSON field '${r}' must be a ${l}.`;break}if(u!==void 0&&d!==u.value){i=`Expected '${r}' field to equal '${u.value}'`;break}}if(i)throw new re(Z.INVALID_ARGUMENT,i);return!0}const Gv=-62135596800,Qv=1e6;class st{static now(){return st.fromMillis(Date.now())}static fromDate(e){return st.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*Qv);return new st(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new re(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new re(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Gv)throw new re(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new re(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Qv}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:st._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(lu(e,st._jsonSchema))return new st(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Gv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}st._jsonSchemaVersion="firestore/timestamp/1.0",st._jsonSchema={type:xt("string",st._jsonSchemaVersion),seconds:xt("number"),nanoseconds:xt("number")};class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new st(0,0))}static max(){return new be(new st(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Yl=-1;function uC(s,e){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=be.fromTimestamp(r===1e9?new st(i+1,0):new st(i,r));return new sr(l,de.empty(),e)}function cC(s){return new sr(s.readTime,s.key,Yl)}class sr{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new sr(be.min(),de.empty(),Yl)}static max(){return new sr(be.max(),de.empty(),Yl)}}function hC(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=de.comparator(s.documentKey,e.documentKey),i!==0?i:Ve(s.largestBatchId,e.largestBatchId))}const fC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class dC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Eo(s){if(s.code!==Z.FAILED_PRECONDITION||s.message!==fC)throw s;ae("LocalStore","Unexpectedly lost primary lease")}class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new J(((r,l)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,l)},this.catchCallback=u=>{this.wrapFailure(i,u).next(r,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof J?i:J.resolve(i)}catch(i){return J.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):J.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):J.reject(i)}static resolve(e){return new J(((i,r)=>{i(e)}))}static reject(e){return new J(((i,r)=>{r(e)}))}static waitFor(e){return new J(((i,r)=>{let l=0,u=0,d=!1;e.forEach((p=>{++l,p.next((()=>{++u,d&&u===l&&i()}),(g=>r(g)))})),d=!0,u===l&&i()}))}static or(e){let i=J.resolve(!1);for(const r of e)i=i.next((l=>l?J.resolve(l):r()));return i}static forEach(e,i){const r=[];return e.forEach(((l,u)=>{r.push(i.call(this,l,u))})),this.waitFor(r)}static mapArray(e,i){return new J(((r,l)=>{const u=e.length,d=new Array(u);let p=0;for(let g=0;g<u;g++){const _=g;i(e[_]).next((T=>{d[_]=T,++p,p===u&&r(d)}),(T=>l(T)))}}))}static doWhile(e,i){return new J(((r,l)=>{const u=()=>{e()===!0?i().next((()=>{u()}),l):r()};u()}))}}function mC(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function To(s){return s.name==="IndexedDbTransactionError"}class Ih{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ih.ce=-1;const Zm=-1;function xh(s){return s==null}function fh(s){return s===0&&1/s==-1/0}function pC(s){return typeof s=="number"&&Number.isInteger(s)&&!fh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const XE="";function gC(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=Kv(e)),e=yC(s.get(i),e);return Kv(e)}function yC(s,e){let i=e;const r=s.length;for(let l=0;l<r;l++){const u=s.charAt(l);switch(u){case"\0":i+="";break;case XE:i+="";break;default:i+=u}}return i}function Kv(s){return s+XE+""}function Yv(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function na(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function $E(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class ct{constructor(e,i){this.comparator=e,this.root=i||Kt.EMPTY}insert(e,i){return new ct(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Kt.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kt.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(e,r.key);if(l===0)return i+r.left.size;l<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Fc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Fc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Fc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Fc(this.root,e,this.comparator,!0)}}class Fc{constructor(e,i,r,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=i?r(e.key,i):1,i&&l&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kt{constructor(e,i,r,l,u){this.key=e,this.value=i,this.color=r??Kt.RED,this.left=l??Kt.EMPTY,this.right=u??Kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,l,u){return new Kt(e??this.key,i??this.value,r??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let l=this;const u=r(e,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(e,i,r),null):u===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return Kt.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ve(27949);return e+(this.isRed()?0:1)}}Kt.EMPTY=null,Kt.RED=!0,Kt.BLACK=!1;Kt.EMPTY=new class{constructor(){this.size=0}get key(){throw ve(57766)}get value(){throw ve(16141)}get color(){throw ve(16727)}get left(){throw ve(29726)}get right(){throw ve(36894)}copy(e,i,r,l,u){return this}insert(e,i,r){return new Kt(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class kt{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Xv(this.data.getIterator())}getIteratorFrom(e){return new Xv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof kt)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,u=r.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new kt(this.comparator);return i.data=e,i}}class Xv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ni{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new ni([])}unionWith(e){let i=new kt(Yt.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new ni(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return uo(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}class ZE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class $t{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new ZE("Invalid base64 string: "+u):u}})(e);return new $t(i)}static fromUint8Array(e){const i=(function(l){let u="";for(let d=0;d<l.length;++d)u+=String.fromCharCode(l[d]);return u})(e);return new $t(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let l=0;l<i.length;l++)r[l]=i.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$t.EMPTY_BYTE_STRING=new $t("");const _C=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rr(s){if(Fe(!!s,39018),typeof s=="string"){let e=0;const i=_C.exec(s);if(Fe(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:yt(s.seconds),nanos:yt(s.nanos)}}function yt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function ar(s){return typeof s=="string"?$t.fromBase64String(s):$t.fromUint8Array(s)}const JE="server_timestamp",WE="__type__",eT="__previous_value__",tT="__local_write_time__";function Jm(s){return(s?.mapValue?.fields||{})[WE]?.stringValue===JE}function Nh(s){const e=s.mapValue.fields[eT];return Jm(e)?Nh(e):e}function Xl(s){const e=rr(s.mapValue.fields[tT].timestampValue);return new st(e.seconds,e.nanos)}class vC{constructor(e,i,r,l,u,d,p,g,_,T){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=l,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=_,this.isUsingEmulator=T}}const dh="(default)";class $l{constructor(e,i){this.projectId=e,this.database=i||dh}static empty(){return new $l("","")}get isDefaultDatabase(){return this.database===dh}isEqual(e){return e instanceof $l&&e.projectId===this.projectId&&e.database===this.database}}const nT="__type__",EC="__max__",Gc={mapValue:{}},iT="__vector__",mh="value";function or(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Jm(s)?4:bC(s)?9007199254740991:TC(s)?10:11:ve(28295,{value:s})}function Ui(s,e){if(s===e)return!0;const i=or(s);if(i!==or(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Xl(s).isEqual(Xl(e));case 3:return(function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const d=rr(l.timestampValue),p=rr(u.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(l,u){return ar(l.bytesValue).isEqual(ar(u.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(l,u){return yt(l.geoPointValue.latitude)===yt(u.geoPointValue.latitude)&&yt(l.geoPointValue.longitude)===yt(u.geoPointValue.longitude)})(s,e);case 2:return(function(l,u){if("integerValue"in l&&"integerValue"in u)return yt(l.integerValue)===yt(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const d=yt(l.doubleValue),p=yt(u.doubleValue);return d===p?fh(d)===fh(p):isNaN(d)&&isNaN(p)}return!1})(s,e);case 9:return uo(s.arrayValue.values||[],e.arrayValue.values||[],Ui);case 10:case 11:return(function(l,u){const d=l.mapValue.fields||{},p=u.mapValue.fields||{};if(Yv(d)!==Yv(p))return!1;for(const g in d)if(d.hasOwnProperty(g)&&(p[g]===void 0||!Ui(d[g],p[g])))return!1;return!0})(s,e);default:return ve(52216,{left:s})}}function Zl(s,e){return(s.values||[]).find((i=>Ui(i,e)))!==void 0}function co(s,e){if(s===e)return 0;const i=or(s),r=or(e);if(i!==r)return Ve(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ve(s.booleanValue,e.booleanValue);case 2:return(function(u,d){const p=yt(u.integerValue||u.doubleValue),g=yt(d.integerValue||d.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(s,e);case 3:return $v(s.timestampValue,e.timestampValue);case 4:return $v(Xl(s),Xl(e));case 5:return ym(s.stringValue,e.stringValue);case 6:return(function(u,d){const p=ar(u),g=ar(d);return p.compareTo(g)})(s.bytesValue,e.bytesValue);case 7:return(function(u,d){const p=u.split("/"),g=d.split("/");for(let _=0;_<p.length&&_<g.length;_++){const T=Ve(p[_],g[_]);if(T!==0)return T}return Ve(p.length,g.length)})(s.referenceValue,e.referenceValue);case 8:return(function(u,d){const p=Ve(yt(u.latitude),yt(d.latitude));return p!==0?p:Ve(yt(u.longitude),yt(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return Zv(s.arrayValue,e.arrayValue);case 10:return(function(u,d){const p=u.fields||{},g=d.fields||{},_=p[mh]?.arrayValue,T=g[mh]?.arrayValue,A=Ve(_?.values?.length||0,T?.values?.length||0);return A!==0?A:Zv(_,T)})(s.mapValue,e.mapValue);case 11:return(function(u,d){if(u===Gc.mapValue&&d===Gc.mapValue)return 0;if(u===Gc.mapValue)return 1;if(d===Gc.mapValue)return-1;const p=u.fields||{},g=Object.keys(p),_=d.fields||{},T=Object.keys(_);g.sort(),T.sort();for(let A=0;A<g.length&&A<T.length;++A){const D=ym(g[A],T[A]);if(D!==0)return D;const z=co(p[g[A]],_[T[A]]);if(z!==0)return z}return Ve(g.length,T.length)})(s.mapValue,e.mapValue);default:throw ve(23264,{he:i})}}function $v(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Ve(s,e);const i=rr(s),r=rr(e),l=Ve(i.seconds,r.seconds);return l!==0?l:Ve(i.nanos,r.nanos)}function Zv(s,e){const i=s.values||[],r=e.values||[];for(let l=0;l<i.length&&l<r.length;++l){const u=co(i[l],r[l]);if(u)return u}return Ve(i.length,r.length)}function ho(s){return _m(s)}function _m(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=rr(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return ar(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return de.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",l=!0;for(const u of i.values||[])l?l=!1:r+=",",r+=_m(u);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let l="{",u=!0;for(const d of r)u?u=!1:l+=",",l+=`${d}:${_m(i.fields[d])}`;return l+"}"})(s.mapValue):ve(61005,{value:s})}function Wc(s){switch(or(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Nh(s);return e?16+Wc(e):16;case 5:return 2*s.stringValue.length;case 6:return ar(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,u)=>l+Wc(u)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return na(r.fields,((u,d)=>{l+=u.length+Wc(d)})),l})(s.mapValue);default:throw ve(13486,{value:s})}}function Jv(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function vm(s){return!!s&&"integerValue"in s}function Wm(s){return!!s&&"arrayValue"in s}function Wv(s){return!!s&&"nullValue"in s}function e0(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function eh(s){return!!s&&"mapValue"in s}function TC(s){return(s?.mapValue?.fields||{})[nT]?.stringValue===iT}function ql(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return na(s.mapValue.fields,((i,r)=>e.mapValue.fields[i]=ql(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=ql(s.arrayValue.values[i]);return e}return{...s}}function bC(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===EC}class Un{constructor(e){this.value=e}static empty(){return new Un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!eh(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=ql(i)}setAll(e){let i=Yt.emptyPath(),r={},l=[];e.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const g=this.getFieldsMap(i);this.applyChanges(g,r,l),r={},l=[],i=p.popLast()}d?r[p.lastSegment()]=ql(d):l.push(p.lastSegment())}));const u=this.getFieldsMap(i);this.applyChanges(u,r,l)}delete(e){const i=this.field(e.popLast());eh(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Ui(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let l=i.mapValue.fields[e.get(r)];eh(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,r){na(i,((l,u)=>e[l]=u));for(const l of r)delete e[l]}clone(){return new Un(ql(this.value))}}function sT(s){const e=[];return na(s.fields,((i,r)=>{const l=new Yt([i]);if(eh(r)){const u=sT(r.mapValue).fields;if(u.length===0)e.push(l);else for(const d of u)e.push(l.child(d))}else e.push(l)})),new ni(e)}class en{constructor(e,i,r,l,u,d,p){this.key=e,this.documentType=i,this.version=r,this.readTime=l,this.createTime=u,this.data=d,this.documentState=p}static newInvalidDocument(e){return new en(e,0,be.min(),be.min(),be.min(),Un.empty(),0)}static newFoundDocument(e,i,r,l){return new en(e,1,i,be.min(),r,l,0)}static newNoDocument(e,i){return new en(e,2,i,be.min(),be.min(),Un.empty(),0)}static newUnknownDocument(e,i){return new en(e,3,i,be.min(),be.min(),Un.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ph{constructor(e,i){this.position=e,this.inclusive=i}}function t0(s,e,i){let r=0;for(let l=0;l<s.position.length;l++){const u=e[l],d=s.position[l];if(u.field.isKeyField()?r=de.comparator(de.fromName(d.referenceValue),i.key):r=co(d,i.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function n0(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Ui(s.position[i],e.position[i]))return!1;return!0}class Jl{constructor(e,i="asc"){this.field=e,this.dir=i}}function AC(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class rT{}class It extends rT{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new wC(e,i,r):i==="array-contains"?new IC(e,r):i==="in"?new xC(e,r):i==="not-in"?new NC(e,r):i==="array-contains-any"?new DC(e,r):new It(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new RC(e,r):new CC(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(co(i,this.value)):i!==null&&or(this.value)===or(i)&&this.matchesComparison(co(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class oi extends rT{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new oi(e,i)}matches(e){return aT(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function aT(s){return s.op==="and"}function oT(s){return SC(s)&&aT(s)}function SC(s){for(const e of s.filters)if(e instanceof oi)return!1;return!0}function Em(s){if(s instanceof It)return s.field.canonicalString()+s.op.toString()+ho(s.value);if(oT(s))return s.filters.map((e=>Em(e))).join(",");{const e=s.filters.map((i=>Em(i))).join(",");return`${s.op}(${e})`}}function lT(s,e){return s instanceof It?(function(r,l){return l instanceof It&&r.op===l.op&&r.field.isEqual(l.field)&&Ui(r.value,l.value)})(s,e):s instanceof oi?(function(r,l){return l instanceof oi&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((u,d,p)=>u&&lT(d,l.filters[p])),!0):!1})(s,e):void ve(19439)}function uT(s){return s instanceof It?(function(i){return`${i.field.canonicalString()} ${i.op} ${ho(i.value)}`})(s):s instanceof oi?(function(i){return i.op.toString()+" {"+i.getFilters().map(uT).join(" ,")+"}"})(s):"Filter"}class wC extends It{constructor(e,i,r){super(e,i,r),this.key=de.fromName(r.referenceValue)}matches(e){const i=de.comparator(e.key,this.key);return this.matchesComparison(i)}}class RC extends It{constructor(e,i){super(e,"in",i),this.keys=cT("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class CC extends It{constructor(e,i){super(e,"not-in",i),this.keys=cT("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function cT(s,e){return(e.arrayValue?.values||[]).map((i=>de.fromName(i.referenceValue)))}class IC extends It{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Wm(i)&&Zl(i.arrayValue,this.value)}}class xC extends It{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Zl(this.value.arrayValue,i)}}class NC extends It{constructor(e,i){super(e,"not-in",i)}matches(e){if(Zl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Zl(this.value.arrayValue,i)}}class DC extends It{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Wm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>Zl(this.value.arrayValue,r)))}}class OC{constructor(e,i=null,r=[],l=[],u=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=l,this.limit=u,this.startAt=d,this.endAt=p,this.Te=null}}function i0(s,e=null,i=[],r=[],l=null,u=null,d=null){return new OC(s,e,i,r,l,u,d)}function ep(s){const e=Se(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>Em(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),xh(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>ho(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>ho(r))).join(",")),e.Te=i}return e.Te}function tp(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!AC(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!lT(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!n0(s.startAt,e.startAt)&&n0(s.endAt,e.endAt)}function Tm(s){return de.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class bo{constructor(e,i=null,r=[],l=[],u=null,d="F",p=null,g=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=l,this.limit=u,this.limitType=d,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function MC(s,e,i,r,l,u,d,p){return new bo(s,e,i,r,l,u,d,p)}function np(s){return new bo(s)}function s0(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function hT(s){return s.collectionGroup!==null}function Bl(s){const e=Se(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),i.add(u.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new kt(Yt.comparator);return d.filters.forEach((g=>{g.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(e).forEach((u=>{i.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Jl(u,r))})),i.has(Yt.keyField().canonicalString())||e.Ie.push(new Jl(Yt.keyField(),r))}return e.Ie}function Oi(s){const e=Se(s);return e.Ee||(e.Ee=VC(e,Bl(s))),e.Ee}function VC(s,e){if(s.limitType==="F")return i0(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((l=>{const u=l.dir==="desc"?"asc":"desc";return new Jl(l.field,u)}));const i=s.endAt?new ph(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new ph(s.startAt.position,s.startAt.inclusive):null;return i0(s.path,s.collectionGroup,e,s.filters,s.limit,i,r)}}function bm(s,e){const i=s.filters.concat([e]);return new bo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function Am(s,e,i){return new bo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function Dh(s,e){return tp(Oi(s),Oi(e))&&s.limitType===e.limitType}function fT(s){return`${ep(Oi(s))}|lt:${s.limitType}`}function Ja(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((l=>uT(l))).join(", ")}]`),xh(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((l=>ho(l))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((l=>ho(l))).join(",")),`Target(${r})`})(Oi(s))}; limitType=${s.limitType})`}function Oh(s,e){return e.isFoundDocument()&&(function(r,l){const u=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):de.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(s,e)&&(function(r,l){for(const u of Bl(r))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0})(s,e)&&(function(r,l){for(const u of r.filters)if(!u.matches(l))return!1;return!0})(s,e)&&(function(r,l){return!(r.startAt&&!(function(d,p,g){const _=t0(d,p,g);return d.inclusive?_<=0:_<0})(r.startAt,Bl(r),l)||r.endAt&&!(function(d,p,g){const _=t0(d,p,g);return d.inclusive?_>=0:_>0})(r.endAt,Bl(r),l))})(s,e)}function kC(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function dT(s){return(e,i)=>{let r=!1;for(const l of Bl(s)){const u=PC(l,e,i);if(u!==0)return u;r=r||l.field.isKeyField()}return 0}}function PC(s,e,i){const r=s.field.isKeyField()?de.comparator(e.key,i.key):(function(u,d,p){const g=d.data.field(u),_=p.data.field(u);return g!==null&&_!==null?co(g,_):ve(42886)})(s.field,e,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return ve(19790,{direction:s.dir})}}class ia{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[l,u]of r)if(this.equalsFn(l,e))return u}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),l=this.inner[r];if(l===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],e))return void(l[u]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],e))return r.length===1?delete this.inner[i]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(e){na(this.inner,((i,r)=>{for(const[l,u]of r)e(l,u)}))}isEmpty(){return $E(this.inner)}size(){return this.innerSize}}const LC=new ct(de.comparator);function hs(){return LC}const mT=new ct(de.comparator);function Pl(...s){let e=mT;for(const i of s)e=e.insert(i.key,i);return e}function pT(s){let e=mT;return s.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function Qr(){return Hl()}function gT(){return Hl()}function Hl(){return new ia((s=>s.toString()),((s,e)=>s.isEqual(e)))}const UC=new ct(de.comparator),jC=new kt(de.comparator);function ke(...s){let e=jC;for(const i of s)e=e.add(i);return e}const zC=new kt(Ve);function qC(){return zC}function ip(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fh(e)?"-0":e}}function yT(s){return{integerValue:""+s}}function BC(s,e){return pC(e)?yT(e):ip(s,e)}class Mh{constructor(){this._=void 0}}function HC(s,e,i){return s instanceof Wl?(function(l,u){const d={fields:{[WE]:{stringValue:JE},[tT]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&Jm(u)&&(u=Nh(u)),u&&(d.fields[eT]=u),{mapValue:d}})(i,e):s instanceof eu?vT(s,e):s instanceof tu?ET(s,e):(function(l,u){const d=_T(l,u),p=r0(d)+r0(l.Ae);return vm(d)&&vm(l.Ae)?yT(p):ip(l.serializer,p)})(s,e)}function FC(s,e,i){return s instanceof eu?vT(s,e):s instanceof tu?ET(s,e):i}function _T(s,e){return s instanceof gh?(function(r){return vm(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(e)?e:{integerValue:0}:null}class Wl extends Mh{}class eu extends Mh{constructor(e){super(),this.elements=e}}function vT(s,e){const i=TT(e);for(const r of s.elements)i.some((l=>Ui(l,r)))||i.push(r);return{arrayValue:{values:i}}}class tu extends Mh{constructor(e){super(),this.elements=e}}function ET(s,e){let i=TT(e);for(const r of s.elements)i=i.filter((l=>!Ui(l,r)));return{arrayValue:{values:i}}}class gh extends Mh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function r0(s){return yt(s.integerValue||s.doubleValue)}function TT(s){return Wm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class GC{constructor(e,i){this.field=e,this.transform=i}}function QC(s,e){return s.field.isEqual(e.field)&&(function(r,l){return r instanceof eu&&l instanceof eu||r instanceof tu&&l instanceof tu?uo(r.elements,l.elements,Ui):r instanceof gh&&l instanceof gh?Ui(r.Ae,l.Ae):r instanceof Wl&&l instanceof Wl})(s.transform,e.transform)}class KC{constructor(e,i){this.version=e,this.transformResults=i}}class si{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new si}static exists(e){return new si(void 0,e)}static updateTime(e){return new si(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function th(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Vh{}function bT(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new sp(s.key,si.none()):new uu(s.key,s.data,si.none());{const i=s.data,r=Un.empty();let l=new kt(Yt.comparator);for(let u of e.fields)if(!l.has(u)){let d=i.field(u);d===null&&u.length>1&&(u=u.popLast(),d=i.field(u)),d===null?r.delete(u):r.set(u,d),l=l.add(u)}return new sa(s.key,r,new ni(l.toArray()),si.none())}}function YC(s,e,i){s instanceof uu?(function(l,u,d){const p=l.value.clone(),g=o0(l.fieldTransforms,u,d.transformResults);p.setAll(g),u.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,e,i):s instanceof sa?(function(l,u,d){if(!th(l.precondition,u))return void u.convertToUnknownDocument(d.version);const p=o0(l.fieldTransforms,u,d.transformResults),g=u.data;g.setAll(AT(l)),g.setAll(p),u.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,e,i):(function(l,u,d){u.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Fl(s,e,i,r){return s instanceof uu?(function(u,d,p,g){if(!th(u.precondition,d))return p;const _=u.value.clone(),T=l0(u.fieldTransforms,g,d);return _.setAll(T),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,e,i,r):s instanceof sa?(function(u,d,p,g){if(!th(u.precondition,d))return p;const _=l0(u.fieldTransforms,g,d),T=d.data;return T.setAll(AT(u)),T.setAll(_),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((A=>A.field)))})(s,e,i,r):(function(u,d,p){return th(u.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,e,i)}function XC(s,e){let i=null;for(const r of s.fieldTransforms){const l=e.data.field(r.field),u=_T(r.transform,l||null);u!=null&&(i===null&&(i=Un.empty()),i.set(r.field,u))}return i||null}function a0(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&uo(r,l,((u,d)=>QC(u,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class uu extends Vh{constructor(e,i,r,l=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class sa extends Vh{constructor(e,i,r,l,u=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function AT(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);e.set(i,r)}})),e}function o0(s,e,i){const r=new Map;Fe(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let l=0;l<i.length;l++){const u=s[l],d=u.transform,p=e.data.field(u.field);r.set(u.field,FC(d,p,i[l]))}return r}function l0(s,e,i){const r=new Map;for(const l of s){const u=l.transform,d=i.data.field(l.field);r.set(l.field,HC(u,d,e))}return r}class sp extends Vh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $C extends Vh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ZC{constructor(e,i,r,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(e.key)&&YC(u,e,r[l])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=Fl(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=Fl(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=gT();return this.mutations.forEach((l=>{const u=e.get(l.key),d=u.overlayedDocument;let p=this.applyToLocalView(d,u.mutatedFields);p=i.has(l.key)?null:p;const g=bT(d,p);g!==null&&r.set(l.key,g),d.isValidDocument()||d.convertToNoDocument(be.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),ke())}isEqual(e){return this.batchId===e.batchId&&uo(this.mutations,e.mutations,((i,r)=>a0(i,r)))&&uo(this.baseMutations,e.baseMutations,((i,r)=>a0(i,r)))}}class rp{constructor(e,i,r,l){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=l}static from(e,i,r){Fe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let l=(function(){return UC})();const u=e.mutations;for(let d=0;d<u.length;d++)l=l.insert(u[d].key,r[d].version);return new rp(e,i,r,l)}}class JC{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class WC{constructor(e,i){this.count=e,this.unchangedNames=i}}var Ct,Ue;function eI(s){switch(s){case Z.OK:return ve(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return ve(15467,{code:s})}}function ST(s){if(s===void 0)return cs("GRPC error has no .code"),Z.UNKNOWN;switch(s){case Ct.OK:return Z.OK;case Ct.CANCELLED:return Z.CANCELLED;case Ct.UNKNOWN:return Z.UNKNOWN;case Ct.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Ct.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Ct.INTERNAL:return Z.INTERNAL;case Ct.UNAVAILABLE:return Z.UNAVAILABLE;case Ct.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Ct.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Ct.NOT_FOUND:return Z.NOT_FOUND;case Ct.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Ct.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Ct.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Ct.ABORTED:return Z.ABORTED;case Ct.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Ct.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Ct.DATA_LOSS:return Z.DATA_LOSS;default:return ve(39323,{code:s})}}(Ue=Ct||(Ct={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";function tI(){return new TextEncoder}const nI=new tr([4294967295,4294967295],0);function u0(s){const e=tI().encode(s),i=new jE;return i.update(e),new Uint8Array(i.digest())}function c0(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),l=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new tr([i,r],0),new tr([l,u],0)]}class ap{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Ll(`Invalid padding: ${i}`);if(r<0)throw new Ll(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ll(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new Ll(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=tr.fromNumber(this.ge)}ye(e,i,r){let l=e.add(i.multiply(tr.fromNumber(r)));return l.compare(nI)===1&&(l=new tr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=u0(e),[r,l]=c0(i);for(let u=0;u<this.hashCount;u++){const d=this.ye(r,l,u);if(!this.we(d))return!1}return!0}static create(e,i,r){const l=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),d=new ap(u,l,i);return r.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const i=u0(e),[r,l]=c0(i);for(let u=0;u<this.hashCount;u++){const d=this.ye(r,l,u);this.Se(d)}}Se(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class Ll extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class kh{constructor(e,i,r,l,u){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const l=new Map;return l.set(e,cu.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new kh(be.min(),l,new ct(Ve),hs(),ke())}}class cu{constructor(e,i,r,l,u){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new cu(r,i,ke(),ke(),ke())}}class nh{constructor(e,i,r,l){this.be=e,this.removedTargetIds=i,this.key=r,this.De=l}}class wT{constructor(e,i){this.targetId=e,this.Ce=i}}class RT{constructor(e,i,r=$t.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=l}}class h0{constructor(){this.ve=0,this.Fe=f0(),this.Me=$t.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ke(),i=ke(),r=ke();return this.Fe.forEach(((l,u)=>{switch(u){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:r=r.add(l);break;default:ve(38017,{changeType:u})}})),new cu(this.Me,this.xe,e,i,r)}qe(){this.Oe=!1,this.Fe=f0()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Fe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class iI{constructor(e){this.Ge=e,this.ze=new Map,this.je=hs(),this.Je=Qc(),this.He=Qc(),this.Ye=new ct(Ve)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:ve(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,r=e.Ce.count,l=this.ot(i);if(l){const u=l.target;if(Tm(u))if(r===0){const d=new de(u.path);this.et(i,d,en.newNoDocument(d,be.min()))}else Fe(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const p=this.ut(e),g=p?this.ct(p,e,d):1;if(g!==0){this.it(i);const _=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:u=0}=i;let d,p;try{d=ar(r).toUint8Array()}catch(g){if(g instanceof ZE)return lo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new ap(d,l,u)}catch(g){return lo(g instanceof Ll?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let l=0;return r.forEach((u=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;e.mightContain(p)||(this.et(i,u,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((u,d)=>{const p=this.ot(d);if(p){if(u.current&&Tm(p.target)){const g=new de(p.target.path);this.It(g).has(d)||this.Et(d,g)||this.et(d,g,en.newNoDocument(g,e))}u.Be&&(i.set(d,u.ke()),u.qe())}}));let r=ke();this.He.forEach(((u,d)=>{let p=!0;d.forEachWhile((g=>{const _=this.ot(g);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(u))})),this.je.forEach(((u,d)=>d.setReadTime(e)));const l=new kh(e,i,this.Ye,this.je,r);return this.je=hs(),this.Je=Qc(),this.He=Qc(),this.Ye=new ct(Ve),l}Xe(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new h0,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new kt(Ve),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new kt(Ve),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ae("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new h0),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Qc(){return new ct(de.comparator)}function f0(){return new ct(de.comparator)}const sI={asc:"ASCENDING",desc:"DESCENDING"},rI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},aI={and:"AND",or:"OR"};class oI{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Sm(s,e){return s.useProto3Json||xh(e)?e:{value:e}}function yh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function CT(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function lI(s,e){return yh(s,e.toTimestamp())}function Mi(s){return Fe(!!s,49232),be.fromTimestamp((function(i){const r=rr(i);return new st(r.seconds,r.nanos)})(s))}function op(s,e){return wm(s,e).canonicalString()}function wm(s,e){const i=(function(l){return new tt(["projects",l.projectId,"databases",l.database])})(s).child("documents");return e===void 0?i:i.child(e)}function IT(s){const e=tt.fromString(s);return Fe(MT(e),10190,{key:e.toString()}),e}function Rm(s,e){return op(s.databaseId,e.path)}function tm(s,e){const i=IT(e);if(i.get(1)!==s.databaseId.projectId)throw new re(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new re(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new de(NT(i))}function xT(s,e){return op(s.databaseId,e)}function uI(s){const e=IT(s);return e.length===4?tt.emptyPath():NT(e)}function Cm(s){return new tt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function NT(s){return Fe(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function d0(s,e,i){return{name:Rm(s,e),fields:i.value.mapValue.fields}}function cI(s,e){let i;if("targetChange"in e){e.targetChange;const r=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:ve(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],u=(function(_,T){return _.useProto3Json?(Fe(T===void 0||typeof T=="string",58123),$t.fromBase64String(T||"")):(Fe(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),$t.fromUint8Array(T||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(_){const T=_.code===void 0?Z.UNKNOWN:ST(_.code);return new re(T,_.message||"")})(d);i=new RT(r,l,u,p||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const l=tm(s,r.document.name),u=Mi(r.document.updateTime),d=r.document.createTime?Mi(r.document.createTime):be.min(),p=new Un({mapValue:{fields:r.document.fields}}),g=en.newFoundDocument(l,u,d,p),_=r.targetIds||[],T=r.removedTargetIds||[];i=new nh(_,T,g.key,g)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const l=tm(s,r.document),u=r.readTime?Mi(r.readTime):be.min(),d=en.newNoDocument(l,u),p=r.removedTargetIds||[];i=new nh([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const l=tm(s,r.document),u=r.removedTargetIds||[];i=new nh([],u,l,null)}else{if(!("filter"in e))return ve(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:l=0,unchangedNames:u}=r,d=new WC(l,u),p=r.targetId;i=new wT(p,d)}}return i}function hI(s,e){let i;if(e instanceof uu)i={update:d0(s,e.key,e.value)};else if(e instanceof sp)i={delete:Rm(s,e.key)};else if(e instanceof sa)i={update:d0(s,e.key,e.data),updateMask:EI(e.fieldMask)};else{if(!(e instanceof $C))return ve(16599,{Vt:e.type});i={verify:Rm(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((r=>(function(u,d){const p=d.transform;if(p instanceof Wl)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof eu)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof tu)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof gh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw ve(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(i.currentDocument=(function(l,u){return u.updateTime!==void 0?{updateTime:lI(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:ve(27497)})(s,e.precondition)),i}function fI(s,e){return s&&s.length>0?(Fe(e!==void 0,14353),s.map((i=>(function(l,u){let d=l.updateTime?Mi(l.updateTime):Mi(u);return d.isEqual(be.min())&&(d=Mi(u)),new KC(d,l.transformResults||[])})(i,e)))):[]}function dI(s,e){return{documents:[xT(s,e.path)]}}function mI(s,e){const i={structuredQuery:{}},r=e.path;let l;e.collectionGroup!==null?(l=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=xT(s,l);const u=(function(_){if(_.length!==0)return OT(oi.create(_,"and"))})(e.filters);u&&(i.structuredQuery.where=u);const d=(function(_){if(_.length!==0)return _.map((T=>(function(D){return{field:Wa(D.field),direction:yI(D.dir)}})(T)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=Sm(s,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:l}}function pI(s){let e=uI(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let l=null;if(r>0){Fe(r===1,65062);const T=i.from[0];T.allDescendants?l=T.collectionId:e=e.child(T.collectionId)}let u=[];i.where&&(u=(function(A){const D=DT(A);return D instanceof oi&&oT(D)?D.getFilters():[D]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((D=>(function(F){return new Jl(eo(F.field),(function(ee){switch(ee){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(F.direction))})(D)))})(i.orderBy));let p=null;i.limit&&(p=(function(A){let D;return D=typeof A=="object"?A.value:A,xh(D)?null:D})(i.limit));let g=null;i.startAt&&(g=(function(A){const D=!!A.before,z=A.values||[];return new ph(z,D)})(i.startAt));let _=null;return i.endAt&&(_=(function(A){const D=!A.before,z=A.values||[];return new ph(z,D)})(i.endAt)),MC(e,l,d,u,p,"F",g,_)}function gI(s,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function DT(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=eo(i.unaryFilter.field);return It.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=eo(i.unaryFilter.field);return It.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=eo(i.unaryFilter.field);return It.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=eo(i.unaryFilter.field);return It.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ve(61313);default:return ve(60726)}})(s):s.fieldFilter!==void 0?(function(i){return It.create(eo(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ve(58110);default:return ve(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return oi.create(i.compositeFilter.filters.map((r=>DT(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return ve(1026)}})(i.compositeFilter.op))})(s):ve(30097,{filter:s})}function yI(s){return sI[s]}function _I(s){return rI[s]}function vI(s){return aI[s]}function Wa(s){return{fieldPath:s.canonicalString()}}function eo(s){return Yt.fromServerFormat(s.fieldPath)}function OT(s){return s instanceof It?(function(i){if(i.op==="=="){if(e0(i.value))return{unaryFilter:{field:Wa(i.field),op:"IS_NAN"}};if(Wv(i.value))return{unaryFilter:{field:Wa(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(e0(i.value))return{unaryFilter:{field:Wa(i.field),op:"IS_NOT_NAN"}};if(Wv(i.value))return{unaryFilter:{field:Wa(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wa(i.field),op:_I(i.op),value:i.value}}})(s):s instanceof oi?(function(i){const r=i.getFilters().map((l=>OT(l)));return r.length===1?r[0]:{compositeFilter:{op:vI(i.op),filters:r}}})(s):ve(54877,{filter:s})}function EI(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function MT(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class Zs{constructor(e,i,r,l,u=be.min(),d=be.min(),p=$t.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new Zs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Zs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class TI{constructor(e){this.yt=e}}function bI(s){const e=pI({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Am(e,e.limit,"L"):e}class AI{constructor(){this.Cn=new SI}addToCollectionParentIndex(e,i){return this.Cn.add(i),J.resolve()}getCollectionParents(e,i){return J.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return J.resolve()}deleteFieldIndex(e,i){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,i){return J.resolve()}getDocumentsMatchingTarget(e,i){return J.resolve(null)}getIndexType(e,i){return J.resolve(0)}getFieldIndexes(e,i){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,i){return J.resolve(sr.min())}getMinOffsetFromCollectionGroup(e,i){return J.resolve(sr.min())}updateCollectionGroup(e,i,r){return J.resolve()}updateIndexEntries(e,i){return J.resolve()}}class SI{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),l=this.index[i]||new kt(tt.comparator),u=!l.has(r);return this.index[i]=l.add(r),u}has(e){const i=e.lastSegment(),r=e.popLast(),l=this.index[i];return l&&l.has(r)}getEntries(e){return(this.index[e]||new kt(tt.comparator)).toArray()}}const m0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},VT=41943040;class mn{static withCacheSize(e){return new mn(e,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(VT,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);class fo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new fo(0)}static cr(){return new fo(-1)}}const p0="LruGarbageCollector",wI=1048576;function g0([s,e],[i,r]){const l=Ve(s,i);return l===0?Ve(e,r):l}class RI{constructor(e){this.Ir=e,this.buffer=new kt(g0),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();g0(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class CI{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ae(p0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){To(i)?ae(p0,"Ignoring IndexedDB error during garbage collection: ",i):await Eo(i)}await this.Vr(3e5)}))}}class II{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return J.resolve(Ih.ce);const r=new RI(i);return this.mr.forEachTarget(e,(l=>r.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>r.Ar(l))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.mr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ae("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(m0)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),m0):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let r,l,u,d,p,g,_;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),l=this.params.maximumSequenceNumbersToCollect):l=A,d=Date.now(),this.nthSequenceNumber(e,l)))).next((A=>(r=A,p=Date.now(),this.removeTargets(e,r,i)))).next((A=>(u=A,g=Date.now(),this.removeOrphanedDocuments(e,r)))).next((A=>(_=Date.now(),Za()<=Me.DEBUG&&ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${u} targets in `+(g-p)+`ms
	Removed ${A} documents in `+(_-g)+`ms
Total Duration: ${_-T}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:A}))))}}function xI(s,e){return new II(s,e)}class NI{constructor(){this.changes=new ia((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?J.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class DI{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class OI{constructor(e,i,r,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=l}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(r=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(r!==null&&Fl(r.mutation,l,ni.empty(),st.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,ke()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=ke()){const l=Qr();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,r).next((u=>{let d=Pl();return u.forEach(((p,g)=>{d=d.insert(p,g.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const r=Qr();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,ke())))}populateOverlays(e,i,r){const l=[];return r.forEach((u=>{i.has(u)||l.push(u)})),this.documentOverlayCache.getOverlays(e,l).next((u=>{u.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(e,i,r,l){let u=hs();const d=Hl(),p=(function(){return Hl()})();return i.forEach(((g,_)=>{const T=r.get(_.key);l.has(_.key)&&(T===void 0||T.mutation instanceof sa)?u=u.insert(_.key,_):T!==void 0?(d.set(_.key,T.mutation.getFieldMask()),Fl(T.mutation,_,T.mutation.getFieldMask(),st.now())):d.set(_.key,ni.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((_,T)=>d.set(_,T))),i.forEach(((_,T)=>p.set(_,new DI(T,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(e,i){const r=Hl();let l=new ct(((d,p)=>d-p)),u=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const p of d)p.keys().forEach((g=>{const _=i.get(g);if(_===null)return;let T=r.get(g)||ni.empty();T=p.applyToLocalView(_,T),r.set(g,T);const A=(l.get(p.batchId)||ke()).add(g);l=l.insert(p.batchId,A)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),_=g.key,T=g.value,A=gT();T.forEach((D=>{if(!u.has(D)){const z=bT(i.get(D),r.get(D));z!==null&&A.set(D,z),u=u.add(D)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,A))}return J.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,l){return(function(d){return de.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):hT(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,l):this.getDocumentsMatchingCollectionQuery(e,i,r,l)}getNextDocuments(e,i,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,l).next((u=>{const d=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,l-u.size):J.resolve(Qr());let p=Yl,g=u;return d.next((_=>J.forEach(_,((T,A)=>(p<A.largestBatchId&&(p=A.largestBatchId),u.get(T)?J.resolve():this.remoteDocumentCache.getEntry(e,T).next((D=>{g=g.insert(T,D)}))))).next((()=>this.populateOverlays(e,_,u))).next((()=>this.computeViews(e,g,_,ke()))).next((T=>({batchId:p,changes:pT(T)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new de(i)).next((r=>{let l=Pl();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,l){const u=i.collectionGroup;let d=Pl();return this.indexManager.getCollectionParents(e,u).next((p=>J.forEach(p,(g=>{const _=(function(A,D){return new bo(D,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,_,r,l).next((T=>{T.forEach(((A,D)=>{d=d.insert(A,D)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,r,l){let u;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,u,l)))).next((d=>{u.forEach(((g,_)=>{const T=_.getKey();d.get(T)===null&&(d=d.insert(T,en.newInvalidDocument(T)))}));let p=Pl();return d.forEach(((g,_)=>{const T=u.get(g);T!==void 0&&Fl(T.mutation,_,ni.empty(),st.now()),Oh(i,_)&&(p=p.insert(g,_))})),p}))}}class MI{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return J.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Mi(l.createTime)}})(i)),J.resolve()}getNamedQuery(e,i){return J.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:bI(l.bundledQuery),readTime:Mi(l.readTime)}})(i)),J.resolve()}}class VI{constructor(){this.overlays=new ct(de.comparator),this.qr=new Map}getOverlay(e,i){return J.resolve(this.overlays.get(i))}getOverlays(e,i){const r=Qr();return J.forEach(i,(l=>this.getOverlay(e,l).next((u=>{u!==null&&r.set(l,u)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((l,u)=>{this.St(e,i,u)})),J.resolve()}removeOverlaysForBatchId(e,i,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(r)),J.resolve()}getOverlaysForCollection(e,i,r){const l=Qr(),u=i.length+1,d=new de(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const g=p.getNext().value,_=g.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===u&&g.largestBatchId>r&&l.set(g.getKey(),g)}return J.resolve(l)}getOverlaysForCollectionGroup(e,i,r,l){let u=new ct(((_,T)=>_-T));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>r){let T=u.get(_.largestBatchId);T===null&&(T=Qr(),u=u.insert(_.largestBatchId,T)),T.set(_.getKey(),_)}}const p=Qr(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((_,T)=>p.set(_,T))),!(p.size()>=l)););return J.resolve(p)}St(e,i,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new JC(i,r));let u=this.qr.get(i);u===void 0&&(u=ke(),this.qr.set(i,u)),this.qr.set(i,u.add(r.key))}}class kI{constructor(){this.sessionToken=$t.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,J.resolve()}}class lp{constructor(){this.Qr=new kt(jt.$r),this.Ur=new kt(jt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const r=new jt(e,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Gr(new jt(e,i))}zr(e,i){e.forEach((r=>this.removeReference(r,i)))}jr(e){const i=new de(new tt([])),r=new jt(i,e),l=new jt(i,e+1),u=[];return this.Ur.forEachInRange([r,l],(d=>{this.Gr(d),u.push(d.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new de(new tt([])),r=new jt(i,e),l=new jt(i,e+1);let u=ke();return this.Ur.forEachInRange([r,l],(d=>{u=u.add(d.key)})),u}containsKey(e){const i=new jt(e,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class jt{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return de.comparator(e.key,i.key)||Ve(e.Yr,i.Yr)}static Kr(e,i){return Ve(e.Yr,i.Yr)||de.comparator(e.key,i.key)}}class PI{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new kt(jt.$r)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,l){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new ZC(u,i,r,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new jt(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return J.resolve(d)}lookupMutationBatch(e,i){return J.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,l=this.ei(r),u=l<0?0:l;return J.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?Zm:this.tr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new jt(i,0),l=new jt(i,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,l],(d=>{const p=this.Xr(d.Yr);u.push(p)})),J.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new kt(Ve);return i.forEach((l=>{const u=new jt(l,0),d=new jt(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,d],(p=>{r=r.add(p.Yr)}))})),J.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,l=r.length+1;let u=r;de.isDocumentKey(u)||(u=u.child(""));const d=new jt(new de(u),0);let p=new kt(Ve);return this.Zr.forEachWhile((g=>{const _=g.key.path;return!!r.isPrefixOf(_)&&(_.length===l&&(p=p.add(g.Yr)),!0)}),d),J.resolve(this.ti(p))}ti(e){const i=[];return e.forEach((r=>{const l=this.Xr(r);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){Fe(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return J.forEach(i.mutations,(l=>{const u=new jt(l.key,i.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,i){const r=new jt(i,0),l=this.Zr.firstAfterOrEqual(r);return J.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class LI{constructor(e){this.ri=e,this.docs=(function(){return new ct(de.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,l=this.docs.get(r),u=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return J.resolve(r?r.document.mutableCopy():en.newInvalidDocument(i))}getEntries(e,i){let r=hs();return i.forEach((l=>{const u=this.docs.get(l);r=r.insert(l,u?u.document.mutableCopy():en.newInvalidDocument(l))})),J.resolve(r)}getDocumentsMatchingQuery(e,i,r,l){let u=hs();const d=i.path,p=new de(d.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:_,value:{document:T}}=g.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||hC(cC(T),r)<=0||(l.has(T.key)||Oh(i,T))&&(u=u.insert(T.key,T.mutableCopy()))}return J.resolve(u)}getAllFromCollectionGroup(e,i,r,l){ve(9500)}ii(e,i){return J.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new UI(this)}getSize(e){return J.resolve(this.size)}}class UI extends NI{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(r)})),J.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class jI{constructor(e){this.persistence=e,this.si=new ia((i=>ep(i)),tp),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.oi=0,this._i=new lp,this.targetCount=0,this.ai=fo.ur()}forEachTarget(e,i){return this.si.forEach(((r,l)=>i(l))),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),J.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new fo(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,J.resolve()}updateTargetData(e,i){return this.Pr(i),J.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,i,r){let l=0;const u=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&r.get(p.targetId)===null&&(this.si.delete(d),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),l++)})),J.waitFor(u).next((()=>l))}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,i){const r=this.si.get(i)||null;return J.resolve(r)}addMatchingKeys(e,i,r){return this._i.Wr(i,r),J.resolve()}removeMatchingKeys(e,i,r){this._i.zr(i,r);const l=this.persistence.referenceDelegate,u=[];return l&&i.forEach((d=>{u.push(l.markPotentiallyOrphaned(e,d))})),J.waitFor(u)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),J.resolve()}getMatchingKeysForTargetId(e,i){const r=this._i.Hr(i);return J.resolve(r)}containsKey(e,i){return J.resolve(this._i.containsKey(i))}}class kT{constructor(e,i){this.ui={},this.overlays={},this.ci=new Ih(0),this.li=!1,this.li=!0,this.hi=new kI,this.referenceDelegate=e(this),this.Pi=new jI(this),this.indexManager=new AI,this.remoteDocumentCache=(function(l){return new LI(l)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new TI(i),this.Ii=new MI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new VI,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this.ui[e.toKey()];return r||(r=new PI(i,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,r){ae("MemoryPersistence","Starting transaction:",e);const l=new zI(this.ci.next());return this.referenceDelegate.Ei(),r(l).next((u=>this.referenceDelegate.di(l).next((()=>u)))).toPromise().then((u=>(l.raiseOnCommittedEvent(),u)))}Ai(e,i){return J.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,i))))}}class zI extends dC{constructor(e){super(),this.currentSequenceNumber=e}}class up{constructor(e){this.persistence=e,this.Ri=new lp,this.Vi=null}static mi(e){return new up(e)}get fi(){if(this.Vi)return this.Vi;throw ve(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),J.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),J.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),J.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((u=>this.fi.add(u.toString())))})).next((()=>r.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.fi,(r=>{const l=de.fromPath(r);return this.gi(e,l).next((u=>{u||i.removeEntry(l,be.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return J.or([()=>J.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class _h{constructor(e,i){this.persistence=e,this.pi=new ia((r=>gC(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=xI(this,i)}static mi(e,i){return new _h(e,i)}Ei(){}di(e){return J.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((l=>r+l))))}wr(e){let i=0;return this.pr(e,(r=>{i++})).next((()=>i))}pr(e,i){return J.forEach(this.pi,((r,l)=>this.br(e,r,l).next((u=>u?J.resolve():i(l)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.ii(e,(d=>this.br(e,d,i).next((p=>{p||(r++,u.removeEntry(d,be.min()))})))).next((()=>u.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),J.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),J.resolve()}removeReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),J.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Wc(e.data.value)),i}br(e,i,r){return J.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.pi.get(i);return J.resolve(l!==void 0&&l>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class cp{constructor(e,i,r,l){this.targetId=e,this.fromCache=i,this.Es=r,this.ds=l}static As(e,i){let r=ke(),l=ke();for(const u of i.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new cp(e,i.fromCache,r,l)}}class qI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class BI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return gS()?8:mC(nn())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,l){const u={result:null};return this.ys(e,i).next((d=>{u.result=d})).next((()=>{if(!u.result)return this.ws(e,i,l,r).next((d=>{u.result=d}))})).next((()=>{if(u.result)return;const d=new qI;return this.Ss(e,i,d).next((p=>{if(u.result=p,this.Vs)return this.bs(e,i,d,p.size)}))})).next((()=>u.result))}bs(e,i,r,l){return r.documentReadCount<this.fs?(Za()<=Me.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",Ja(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),J.resolve()):(Za()<=Me.DEBUG&&ae("QueryEngine","Query:",Ja(i),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?(Za()<=Me.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",Ja(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Oi(i))):J.resolve())}ys(e,i){if(s0(i))return J.resolve(null);let r=Oi(i);return this.indexManager.getIndexType(e,r).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Am(i,null,"F"),r=Oi(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((u=>{const d=ke(...u);return this.ps.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,r).next((g=>{const _=this.Ds(i,p);return this.Cs(i,_,d,g.readTime)?this.ys(e,Am(i,null,"F")):this.vs(e,_,i,g)}))))})))))}ws(e,i,r,l){return s0(i)||l.isEqual(be.min())?J.resolve(null):this.ps.getDocuments(e,r).next((u=>{const d=this.Ds(i,u);return this.Cs(i,d,r,l)?J.resolve(null):(Za()<=Me.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ja(i)),this.vs(e,d,i,uC(l,Yl)).next((p=>p)))}))}Ds(e,i){let r=new kt(dT(e));return i.forEach(((l,u)=>{Oh(e,u)&&(r=r.add(u))})),r}Cs(e,i,r,l){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const u=e.limitType==="F"?i.last():i.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}Ss(e,i,r){return Za()<=Me.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",Ja(i)),this.ps.getDocumentsMatchingQuery(e,i,sr.min(),r)}vs(e,i,r,l){return this.ps.getDocumentsMatchingQuery(e,r,l).next((u=>(i.forEach((d=>{u=u.insert(d.key,d)})),u)))}}const hp="LocalStore",HI=3e8;class FI{constructor(e,i,r,l){this.persistence=e,this.Fs=i,this.serializer=l,this.Ms=new ct(Ve),this.xs=new ia((u=>ep(u)),tp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new OI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function GI(s,e,i,r){return new FI(s,e,i,r)}async function PT(s,e){const i=Se(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return i.mutationQueue.getAllMutationBatches(r).next((u=>(l=u,i.Bs(e),i.mutationQueue.getAllMutationBatches(r)))).next((u=>{const d=[],p=[];let g=ke();for(const _ of l){d.push(_.batchId);for(const T of _.mutations)g=g.add(T.key)}for(const _ of u){p.push(_.batchId);for(const T of _.mutations)g=g.add(T.key)}return i.localDocuments.getDocuments(r,g).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function QI(s,e){const i=Se(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=e.batch.keys(),u=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,g,_,T){const A=_.batch,D=A.keys();let z=J.resolve();return D.forEach((F=>{z=z.next((()=>T.getEntry(g,F))).next(($=>{const ee=_.docVersions.get(F);Fe(ee!==null,48541),$.version.compareTo(ee)<0&&(A.applyToRemoteDocument($,_),$.isValidDocument()&&($.setReadTime(_.commitVersion),T.addEntry($)))}))})),z.next((()=>p.mutationQueue.removeMutationBatch(g,A)))})(i,r,e,u).next((()=>u.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let g=ke();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(g=g.add(p.batch.mutations[_].key));return g})(e)))).next((()=>i.localDocuments.getDocuments(r,l)))}))}function LT(s){const e=Se(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function KI(s,e){const i=Se(s),r=e.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];e.targetChanges.forEach(((T,A)=>{const D=l.get(A);if(!D)return;p.push(i.Pi.removeMatchingKeys(u,T.removedDocuments,A).next((()=>i.Pi.addMatchingKeys(u,T.addedDocuments,A))));let z=D.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(A)!==null?z=z.withResumeToken($t.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):T.resumeToken.approximateByteSize()>0&&(z=z.withResumeToken(T.resumeToken,r)),l=l.insert(A,z),(function($,ee,ue){return $.resumeToken.approximateByteSize()===0||ee.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=HI?!0:ue.addedDocuments.size+ue.modifiedDocuments.size+ue.removedDocuments.size>0})(D,z,T)&&p.push(i.Pi.updateTargetData(u,z))}));let g=hs(),_=ke();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(u,T))})),p.push(YI(u,d,e.documentUpdates).next((T=>{g=T.ks,_=T.qs}))),!r.isEqual(be.min())){const T=i.Pi.getLastRemoteSnapshotVersion(u).next((A=>i.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r)));p.push(T)}return J.waitFor(p).next((()=>d.apply(u))).next((()=>i.localDocuments.getLocalViewOfDocuments(u,g,_))).next((()=>g))})).then((u=>(i.Ms=l,u)))}function YI(s,e,i){let r=ke(),l=ke();return i.forEach((u=>r=r.add(u))),e.getEntries(s,r).next((u=>{let d=hs();return i.forEach(((p,g)=>{const _=u.get(p);g.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(p)),g.isNoDocument()&&g.version.isEqual(be.min())?(e.removeEntry(p,g.readTime),d=d.insert(p,g)):!_.isValidDocument()||g.version.compareTo(_.version)>0||g.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(g),d=d.insert(p,g)):ae(hp,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",g.version)})),{ks:d,qs:l}}))}function XI(s,e){const i=Se(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Zm),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function $I(s,e){const i=Se(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return i.Pi.getTargetData(r,e).next((u=>u?(l=u,J.resolve(l)):i.Pi.allocateTargetId(r).next((d=>(l=new Zs(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=i.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(e,r.targetId)),r}))}async function Im(s,e,i){const r=Se(s),l=r.Ms.get(e),u=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",u,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!To(d))throw d;ae(hp,`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ms=r.Ms.remove(e),r.xs.delete(l.target)}function y0(s,e,i){const r=Se(s);let l=be.min(),u=ke();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(g,_,T){const A=Se(g),D=A.xs.get(T);return D!==void 0?J.resolve(A.Ms.get(D)):A.Pi.getTargetData(_,T)})(r,d,Oi(e)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,p.targetId).next((g=>{u=g}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,e,i?l:be.min(),i?u:ke()))).next((p=>(ZI(r,kC(e),p),{documents:p,Qs:u})))))}function ZI(s,e,i){let r=s.Os.get(e)||be.min();i.forEach(((l,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),s.Os.set(e,r)}class _0{constructor(){this.activeTargetIds=qC()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class JI{constructor(){this.Mo=new _0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,r){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new _0,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class WI{Oo(e){}shutdown(){}}const v0="ConnectivityMonitor";class E0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ae(v0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ae(v0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Kc=null;function xm(){return Kc===null?Kc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Kc++,"0x"+Kc.toString(16)}const nm="RestConnection",ex={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class tx{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===dh?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(e,i,r,l,u){const d=xm(),p=this.zo(e,i.toUriEncodedString());ae(nm,`Sending RPC '${e}' ${d}:`,p,r);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,l,u);const{host:_}=new URL(p),T=go(_);return this.Jo(e,p,g,r,T).then((A=>(ae(nm,`Received RPC '${e}' ${d}: `,A),A)),(A=>{throw lo(nm,`RPC '${e}' ${d} failed with error: `,A,"url: ",p,"request:",r),A}))}Ho(e,i,r,l,u,d){return this.Go(e,i,r,l,u)}jo(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+vo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,u)=>e[u]=l)),r&&r.headers.forEach(((l,u)=>e[u]=l))}zo(e,i){const r=ex[e];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}class nx{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Jt="WebChannelConnection";class ix extends tx{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,r,l,u){const d=xm();return new Promise(((p,g)=>{const _=new zE;_.setWithCredentials(!0),_.listenOnce(qE.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Jc.NO_ERROR:const A=_.getResponseJson();ae(Jt,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(A)),p(A);break;case Jc.TIMEOUT:ae(Jt,`RPC '${e}' ${d} timed out`),g(new re(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Jc.HTTP_ERROR:const D=_.getStatus();if(ae(Jt,`RPC '${e}' ${d} failed with status:`,D,"response text:",_.getResponseText()),D>0){let z=_.getResponseJson();Array.isArray(z)&&(z=z[0]);const F=z?.error;if(F&&F.status&&F.message){const $=(function(ue){const ge=ue.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(ge)>=0?ge:Z.UNKNOWN})(F.status);g(new re($,F.message))}else g(new re(Z.UNKNOWN,"Server responded with status "+_.getStatus()))}else g(new re(Z.UNAVAILABLE,"Connection failed."));break;default:ve(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{ae(Jt,`RPC '${e}' ${d} completed.`)}}));const T=JSON.stringify(l);ae(Jt,`RPC '${e}' ${d} sending request:`,l),_.send(i,"POST",T,r,15)}))}T_(e,i,r){const l=xm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=FE(),p=HE(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(g.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,i,r),g.encodeInitMessageHeaders=!0;const T=u.join("");ae(Jt,`Creating RPC '${e}' stream ${l}: ${T}`,g);const A=d.createWebChannel(T,g);this.I_(A);let D=!1,z=!1;const F=new nx({Yo:ee=>{z?ae(Jt,`Not sending because RPC '${e}' stream ${l} is closed:`,ee):(D||(ae(Jt,`Opening RPC '${e}' stream ${l} transport.`),A.open(),D=!0),ae(Jt,`RPC '${e}' stream ${l} sending:`,ee),A.send(ee))},Zo:()=>A.close()}),$=(ee,ue,ge)=>{ee.listen(ue,(te=>{try{ge(te)}catch(W){setTimeout((()=>{throw W}),0)}}))};return $(A,kl.EventType.OPEN,(()=>{z||(ae(Jt,`RPC '${e}' stream ${l} transport opened.`),F.o_())})),$(A,kl.EventType.CLOSE,(()=>{z||(z=!0,ae(Jt,`RPC '${e}' stream ${l} transport closed`),F.a_(),this.E_(A))})),$(A,kl.EventType.ERROR,(ee=>{z||(z=!0,lo(Jt,`RPC '${e}' stream ${l} transport errored. Name:`,ee.name,"Message:",ee.message),F.a_(new re(Z.UNAVAILABLE,"The operation could not be completed")))})),$(A,kl.EventType.MESSAGE,(ee=>{if(!z){const ue=ee.data[0];Fe(!!ue,16349);const ge=ue,te=ge?.error||ge[0]?.error;if(te){ae(Jt,`RPC '${e}' stream ${l} received error:`,te);const W=te.status;let he=(function(w){const C=Ct[w];if(C!==void 0)return ST(C)})(W),Ee=te.message;he===void 0&&(he=Z.INTERNAL,Ee="Unknown error status: "+W+" with message "+te.message),z=!0,F.a_(new re(he,Ee)),A.close()}else ae(Jt,`RPC '${e}' stream ${l} received:`,ue),F.u_(ue)}})),$(p,BE.STAT_EVENT,(ee=>{ee.stat===gm.PROXY?ae(Jt,`RPC '${e}' stream ${l} detected buffering proxy`):ee.stat===gm.NOPROXY&&ae(Jt,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{F.__()}),0),F}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function im(){return typeof document<"u"?document:null}function Ph(s){return new oI(s,!0)}class UT{constructor(e,i,r=1e3,l=1.5,u=6e4){this.Mi=e,this.timerId=i,this.d_=r,this.A_=l,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-r);l>0&&ae("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const T0="PersistentStream";class jT{constructor(e,i,r,l,u,d,p,g){this.Mi=e,this.S_=r,this.b_=l,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new UT(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(cs(i.toString()),cs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===i&&this.G_(r,l)}),(r=>{e((()=>{const l=new re(Z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(e,i){const r=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ae(T0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(ae(T0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class sx extends jT{constructor(e,i,r,l,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,l,d),this.serializer=u}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=cI(this.serializer,e),r=(function(u){if(!("targetChange"in u))return be.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?be.min():d.readTime?Mi(d.readTime):be.min()})(e);return this.listener.H_(i,r)}Y_(e){const i={};i.database=Cm(this.serializer),i.addTarget=(function(u,d){let p;const g=d.target;if(p=Tm(g)?{documents:dI(u,g)}:{query:mI(u,g).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=CT(u,d.resumeToken);const _=Sm(u,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(be.min())>0){p.readTime=yh(u,d.snapshotVersion.toTimestamp());const _=Sm(u,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,e);const r=gI(this.serializer,e);r&&(i.labels=r),this.q_(i)}Z_(e){const i={};i.database=Cm(this.serializer),i.removeTarget=e,this.q_(i)}}class rx extends jT{constructor(e,i,r,l,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,l,d),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return Fe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Fe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=fI(e.writeResults,e.commitTime),r=Mi(e.commitTime);return this.listener.na(r,i)}ra(){const e={};e.database=Cm(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((r=>hI(this.serializer,r)))};this.q_(i)}}class ax{}class ox extends ax{constructor(e,i,r,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new re(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Go(e,wm(i,r),l,u,d))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new re(Z.UNKNOWN,u.toString())}))}Ho(e,i,r,l,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(e,wm(i,r),l,d,p,u))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new re(Z.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class lx{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(cs(i),this.aa=!1):ae("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ea="RemoteStore";class ux{constructor(e,i,r,l,u){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{ra(this)&&(ae(ea,"Restarting streams for network reachability change."),await(async function(g){const _=Se(g);_.Ea.add(4),await hu(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Lh(_)})(this))}))})),this.Ra=new lx(r,l)}}async function Lh(s){if(ra(s))for(const e of s.da)await e(!0)}async function hu(s){for(const e of s.da)await e(!1)}function zT(s,e){const i=Se(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),pp(i)?mp(i):Ao(i).O_()&&dp(i,e))}function fp(s,e){const i=Se(s),r=Ao(i);i.Ia.delete(e),r.O_()&&qT(i,e),i.Ia.size===0&&(r.O_()?r.L_():ra(i)&&i.Ra.set("Unknown"))}function dp(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Ao(s).Y_(e)}function qT(s,e){s.Va.Ue(e),Ao(s).Z_(e)}function mp(s){s.Va=new iI({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Ao(s).start(),s.Ra.ua()}function pp(s){return ra(s)&&!Ao(s).x_()&&s.Ia.size>0}function ra(s){return Se(s).Ea.size===0}function BT(s){s.Va=void 0}async function cx(s){s.Ra.set("Online")}async function hx(s){s.Ia.forEach(((e,i)=>{dp(s,e)}))}async function fx(s,e){BT(s),pp(s)?(s.Ra.ha(e),mp(s)):s.Ra.set("Unknown")}async function dx(s,e,i){if(s.Ra.set("Online"),e instanceof RT&&e.state===2&&e.cause)try{await(async function(l,u){const d=u.cause;for(const p of u.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(s,e)}catch(r){ae(ea,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await vh(s,r)}else if(e instanceof nh?s.Va.Ze(e):e instanceof wT?s.Va.st(e):s.Va.tt(e),!i.isEqual(be.min()))try{const r=await LT(s.localStore);i.compareTo(r)>=0&&await(function(u,d){const p=u.Va.Tt(d);return p.targetChanges.forEach(((g,_)=>{if(g.resumeToken.approximateByteSize()>0){const T=u.Ia.get(_);T&&u.Ia.set(_,T.withResumeToken(g.resumeToken,d))}})),p.targetMismatches.forEach(((g,_)=>{const T=u.Ia.get(g);if(!T)return;u.Ia.set(g,T.withResumeToken($t.EMPTY_BYTE_STRING,T.snapshotVersion)),qT(u,g);const A=new Zs(T.target,g,_,T.sequenceNumber);dp(u,A)})),u.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(r){ae(ea,"Failed to raise snapshot:",r),await vh(s,r)}}async function vh(s,e,i){if(!To(e))throw e;s.Ea.add(1),await hu(s),s.Ra.set("Offline"),i||(i=()=>LT(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ae(ea,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Lh(s)}))}function HT(s,e){return e().catch((i=>vh(s,i,e)))}async function Uh(s){const e=Se(s),i=lr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Zm;for(;mx(e);)try{const l=await XI(e.localStore,r);if(l===null){e.Ta.length===0&&i.L_();break}r=l.batchId,px(e,l)}catch(l){await vh(e,l)}FT(e)&&GT(e)}function mx(s){return ra(s)&&s.Ta.length<10}function px(s,e){s.Ta.push(e);const i=lr(s);i.O_()&&i.X_&&i.ea(e.mutations)}function FT(s){return ra(s)&&!lr(s).x_()&&s.Ta.length>0}function GT(s){lr(s).start()}async function gx(s){lr(s).ra()}async function yx(s){const e=lr(s);for(const i of s.Ta)e.ea(i.mutations)}async function _x(s,e,i){const r=s.Ta.shift(),l=rp.from(r,e,i);await HT(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Uh(s)}async function vx(s,e){e&&lr(s).X_&&await(async function(r,l){if((function(d){return eI(d)&&d!==Z.ABORTED})(l.code)){const u=r.Ta.shift();lr(r).B_(),await HT(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,l))),await Uh(r)}})(s,e),FT(s)&&GT(s)}async function b0(s,e){const i=Se(s);i.asyncQueue.verifyOperationInProgress(),ae(ea,"RemoteStore received new credentials");const r=ra(i);i.Ea.add(3),await hu(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Lh(i)}async function Ex(s,e){const i=Se(s);e?(i.Ea.delete(2),await Lh(i)):e||(i.Ea.add(2),await hu(i),i.Ra.set("Unknown"))}function Ao(s){return s.ma||(s.ma=(function(i,r,l){const u=Se(i);return u.sa(),new sx(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(s.datastore,s.asyncQueue,{Xo:cx.bind(null,s),t_:hx.bind(null,s),r_:fx.bind(null,s),H_:dx.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),pp(s)?mp(s):s.Ra.set("Unknown")):(await s.ma.stop(),BT(s))}))),s.ma}function lr(s){return s.fa||(s.fa=(function(i,r,l){const u=Se(i);return u.sa(),new rx(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:gx.bind(null,s),r_:vx.bind(null,s),ta:yx.bind(null,s),na:_x.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await Uh(s)):(await s.fa.stop(),s.Ta.length>0&&(ae(ea,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class gp{constructor(e,i,r,l,u){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=l,this.removalCallback=u,this.deferred=new Kr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,l,u){const d=Date.now()+r,p=new gp(e,i,d,l,u);return p.start(r),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new re(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yp(s,e){if(cs("AsyncQueue",`${e}: ${s}`),To(s))return new re(Z.UNAVAILABLE,`${e}: ${s}`);throw s}class so{static emptySet(e){return new so(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||de.comparator(i.key,r.key):(i,r)=>de.comparator(i.key,r.key),this.keyedMap=Pl(),this.sortedSet=new ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof so)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,u=r.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new so;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}class A0{constructor(){this.ga=new ct(de.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):ve(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class mo{constructor(e,i,r,l,u,d,p,g,_){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=_}static fromInitialDocuments(e,i,r,l,u){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new mo(e,i,so.emptySet(i),d,r,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Dh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==r[l].type||!i[l].doc.isEqual(r[l].doc))return!1;return!0}}class Tx{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class bx{constructor(){this.queries=S0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const l=Se(i),u=l.queries;l.queries=S0(),u.forEach(((d,p)=>{for(const g of p.Sa)g.onError(r)}))})(this,new re(Z.ABORTED,"Firestore shutting down"))}}function S0(){return new ia((s=>fT(s)),Dh)}async function Ax(s,e){const i=Se(s);let r=3;const l=e.query;let u=i.queries.get(l);u?!u.ba()&&e.Da()&&(r=2):(u=new Tx,r=e.Da()?0:1);try{switch(r){case 0:u.wa=await i.onListen(l,!0);break;case 1:u.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=yp(d,`Initialization of query '${Ja(e.query)}' failed`);return void e.onError(p)}i.queries.set(l,u),u.Sa.push(e),e.va(i.onlineState),u.wa&&e.Fa(u.wa)&&_p(i)}async function Sx(s,e){const i=Se(s),r=e.query;let l=3;const u=i.queries.get(r);if(u){const d=u.Sa.indexOf(e);d>=0&&(u.Sa.splice(d,1),u.Sa.length===0?l=e.Da()?0:1:!u.ba()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function wx(s,e){const i=Se(s);let r=!1;for(const l of e){const u=l.query,d=i.queries.get(u);if(d){for(const p of d.Sa)p.Fa(l)&&(r=!0);d.wa=l}}r&&_p(i)}function Rx(s,e,i){const r=Se(s),l=r.queries.get(e);if(l)for(const u of l.Sa)u.onError(i);r.queries.delete(e)}function _p(s){s.Ca.forEach((e=>{e.next()}))}var Nm,w0;(w0=Nm||(Nm={})).Ma="default",w0.Cache="cache";class Cx{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const l of e.docChanges)l.type!==3&&r.push(l);e=new mo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=mo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Nm.Cache}}class QT{constructor(e){this.key=e}}class KT{constructor(e){this.key=e}}class Ix{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ke(),this.mutatedKeys=ke(),this.eu=dT(e),this.tu=new so(this.eu)}get nu(){return this.Ya}ru(e,i){const r=i?i.iu:new A0,l=i?i.tu:this.tu;let u=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const g=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((T,A)=>{const D=l.get(T),z=Oh(this.query,A)?A:null,F=!!D&&this.mutatedKeys.has(D.key),$=!!z&&(z.hasLocalMutations||this.mutatedKeys.has(z.key)&&z.hasCommittedMutations);let ee=!1;D&&z?D.data.isEqual(z.data)?F!==$&&(r.track({type:3,doc:z}),ee=!0):this.su(D,z)||(r.track({type:2,doc:z}),ee=!0,(g&&this.eu(z,g)>0||_&&this.eu(z,_)<0)&&(p=!0)):!D&&z?(r.track({type:0,doc:z}),ee=!0):D&&!z&&(r.track({type:1,doc:D}),ee=!0,(g||_)&&(p=!0)),ee&&(z?(d=d.add(z),u=$?u.add(T):u.delete(T)):(d=d.delete(T),u=u.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),u=u.delete(T.key),r.track({type:1,doc:T})}return{tu:d,iu:r,Cs:p,mutatedKeys:u}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,l){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((T,A)=>(function(z,F){const $=ee=>{switch(ee){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve(20277,{Rt:ee})}};return $(z)-$(F)})(T.type,A.type)||this.eu(T.doc,A.doc))),this.ou(r),l=l??!1;const p=i&&!l?this._u():[],g=this.Xa.size===0&&this.current&&!l?1:0,_=g!==this.Za;return this.Za=g,d.length!==0||_?{snapshot:new mo(this.query,e.tu,u,d,e.mutatedKeys,g===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new A0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ke(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return e.forEach((r=>{this.Xa.has(r)||i.push(new KT(r))})),this.Xa.forEach((r=>{e.has(r)||i.push(new QT(r))})),i}cu(e){this.Ya=e.Qs,this.Xa=ke();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return mo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const vp="SyncEngine";class xx{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class Nx{constructor(e){this.key=e,this.hu=!1}}class Dx{constructor(e,i,r,l,u,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ia((p=>fT(p)),Dh),this.Iu=new Map,this.Eu=new Set,this.du=new ct(de.comparator),this.Au=new Map,this.Ru=new lp,this.Vu={},this.mu=new Map,this.fu=fo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Ox(s,e,i=!0){const r=WT(s);let l;const u=r.Tu.get(e);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.lu()):l=await YT(r,e,i,!0),l}async function Mx(s,e){const i=WT(s);await YT(i,e,!0,!1)}async function YT(s,e,i,r){const l=await $I(s.localStore,Oi(e)),u=l.targetId,d=s.sharedClientState.addLocalQueryTarget(u,i);let p;return r&&(p=await Vx(s,e,u,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&zT(s.remoteStore,l),p}async function Vx(s,e,i,r,l){s.pu=(A,D,z)=>(async function($,ee,ue,ge){let te=ee.view.ru(ue);te.Cs&&(te=await y0($.localStore,ee.query,!1).then((({documents:R})=>ee.view.ru(R,te))));const W=ge&&ge.targetChanges.get(ee.targetId),he=ge&&ge.targetMismatches.get(ee.targetId)!=null,Ee=ee.view.applyChanges(te,$.isPrimaryClient,W,he);return C0($,ee.targetId,Ee.au),Ee.snapshot})(s,A,D,z);const u=await y0(s.localStore,e,!0),d=new Ix(e,u.Qs),p=d.ru(u.documents),g=cu.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",l),_=d.applyChanges(p,s.isPrimaryClient,g);C0(s,i,_.au);const T=new xx(e,i,d);return s.Tu.set(e,T),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),_.snapshot}async function kx(s,e,i){const r=Se(s),l=r.Tu.get(e),u=r.Iu.get(l.targetId);if(u.length>1)return r.Iu.set(l.targetId,u.filter((d=>!Dh(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await Im(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),i&&fp(r.remoteStore,l.targetId),Dm(r,l.targetId)})).catch(Eo)):(Dm(r,l.targetId),await Im(r.localStore,l.targetId,!0))}async function Px(s,e){const i=Se(s),r=i.Tu.get(e),l=i.Iu.get(r.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),fp(i.remoteStore,r.targetId))}async function Lx(s,e,i){const r=Fx(s);try{const l=await(function(d,p){const g=Se(d),_=st.now(),T=p.reduce(((z,F)=>z.add(F.key)),ke());let A,D;return g.persistence.runTransaction("Locally write mutations","readwrite",(z=>{let F=hs(),$=ke();return g.Ns.getEntries(z,T).next((ee=>{F=ee,F.forEach(((ue,ge)=>{ge.isValidDocument()||($=$.add(ue))}))})).next((()=>g.localDocuments.getOverlayedDocuments(z,F))).next((ee=>{A=ee;const ue=[];for(const ge of p){const te=XC(ge,A.get(ge.key).overlayedDocument);te!=null&&ue.push(new sa(ge.key,te,sT(te.value.mapValue),si.exists(!0)))}return g.mutationQueue.addMutationBatch(z,_,ue,p)})).next((ee=>{D=ee;const ue=ee.applyToLocalDocumentSet(A,$);return g.documentOverlayCache.saveOverlays(z,ee.batchId,ue)}))})).then((()=>({batchId:D.batchId,changes:pT(A)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(l.batchId),(function(d,p,g){let _=d.Vu[d.currentUser.toKey()];_||(_=new ct(Ve)),_=_.insert(p,g),d.Vu[d.currentUser.toKey()]=_})(r,l.batchId,i),await fu(r,l.changes),await Uh(r.remoteStore)}catch(l){const u=yp(l,"Failed to persist write");i.reject(u)}}async function XT(s,e){const i=Se(s);try{const r=await KI(i.localStore,e);e.targetChanges.forEach(((l,u)=>{const d=i.Au.get(u);d&&(Fe(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Fe(d.hu,14607):l.removedDocuments.size>0&&(Fe(d.hu,42227),d.hu=!1))})),await fu(i,r,e)}catch(r){await Eo(r)}}function R0(s,e,i){const r=Se(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const l=[];r.Tu.forEach(((u,d)=>{const p=d.view.va(e);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const g=Se(d);g.onlineState=p;let _=!1;g.queries.forEach(((T,A)=>{for(const D of A.Sa)D.va(p)&&(_=!0)})),_&&_p(g)})(r.eventManager,e),l.length&&r.Pu.H_(l),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Ux(s,e,i){const r=Se(s);r.sharedClientState.updateQueryState(e,"rejected",i);const l=r.Au.get(e),u=l&&l.key;if(u){let d=new ct(de.comparator);d=d.insert(u,en.newNoDocument(u,be.min()));const p=ke().add(u),g=new kh(be.min(),new Map,new ct(Ve),d,p);await XT(r,g),r.du=r.du.remove(u),r.Au.delete(e),Ep(r)}else await Im(r.localStore,e,!1).then((()=>Dm(r,e,i))).catch(Eo)}async function jx(s,e){const i=Se(s),r=e.batch.batchId;try{const l=await QI(i.localStore,e);ZT(i,r,null),$T(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await fu(i,l)}catch(l){await Eo(l)}}async function zx(s,e,i){const r=Se(s);try{const l=await(function(d,p){const g=Se(d);return g.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let T;return g.mutationQueue.lookupMutationBatch(_,p).next((A=>(Fe(A!==null,37113),T=A.keys(),g.mutationQueue.removeMutationBatch(_,A)))).next((()=>g.mutationQueue.performConsistencyCheck(_))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(_,T,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,T))).next((()=>g.localDocuments.getDocuments(_,T)))}))})(r.localStore,e);ZT(r,e,i),$T(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await fu(r,l)}catch(l){await Eo(l)}}function $T(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function ZT(s,e,i){const r=Se(s);let l=r.Vu[r.currentUser.toKey()];if(l){const u=l.get(e);u&&(i?u.reject(i):u.resolve(),l=l.remove(e)),r.Vu[r.currentUser.toKey()]=l}}function Dm(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((r=>{s.Ru.containsKey(r)||JT(s,r)}))}function JT(s,e){s.Eu.delete(e.path.canonicalString());const i=s.du.get(e);i!==null&&(fp(s.remoteStore,i),s.du=s.du.remove(e),s.Au.delete(i),Ep(s))}function C0(s,e,i){for(const r of i)r instanceof QT?(s.Ru.addReference(r.key,e),qx(s,r)):r instanceof KT?(ae(vp,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,e),s.Ru.containsKey(r.key)||JT(s,r.key)):ve(19791,{wu:r})}function qx(s,e){const i=e.key,r=i.path.canonicalString();s.du.get(i)||s.Eu.has(r)||(ae(vp,"New document in limbo: "+i),s.Eu.add(r),Ep(s))}function Ep(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new de(tt.fromString(e)),r=s.fu.next();s.Au.set(r,new Nx(i)),s.du=s.du.insert(i,r),zT(s.remoteStore,new Zs(Oi(np(i.path)),r,"TargetPurposeLimboResolution",Ih.ce))}}async function fu(s,e,i){const r=Se(s),l=[],u=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,g)=>{d.push(r.pu(g,e,i).then((_=>{if((_||i)&&r.isPrimaryClient){const T=_?!_.fromCache:i?.targetChanges.get(g.targetId)?.current;r.sharedClientState.updateQueryState(g.targetId,T?"current":"not-current")}if(_){l.push(_);const T=cp.As(g.targetId,_);u.push(T)}})))})),await Promise.all(d),r.Pu.H_(l),await(async function(g,_){const T=Se(g);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>J.forEach(_,(D=>J.forEach(D.Es,(z=>T.persistence.referenceDelegate.addReference(A,D.targetId,z))).next((()=>J.forEach(D.ds,(z=>T.persistence.referenceDelegate.removeReference(A,D.targetId,z)))))))))}catch(A){if(!To(A))throw A;ae(hp,"Failed to update sequence numbers: "+A)}for(const A of _){const D=A.targetId;if(!A.fromCache){const z=T.Ms.get(D),F=z.snapshotVersion,$=z.withLastLimboFreeSnapshotVersion(F);T.Ms=T.Ms.insert(D,$)}}})(r.localStore,u))}async function Bx(s,e){const i=Se(s);if(!i.currentUser.isEqual(e)){ae(vp,"User change. New user:",e.toKey());const r=await PT(i.localStore,e);i.currentUser=e,(function(u,d){u.mu.forEach((p=>{p.forEach((g=>{g.reject(new re(Z.CANCELLED,d))}))})),u.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await fu(i,r.Ls)}}function Hx(s,e){const i=Se(s),r=i.Au.get(e);if(r&&r.hu)return ke().add(r.key);{let l=ke();const u=i.Iu.get(e);if(!u)return l;for(const d of u){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function WT(s){const e=Se(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=XT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Hx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Ux.bind(null,e),e.Pu.H_=wx.bind(null,e.eventManager),e.Pu.yu=Rx.bind(null,e.eventManager),e}function Fx(s){const e=Se(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=jx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=zx.bind(null,e),e}class Eh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ph(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return GI(this.persistence,new BI,e.initialUser,this.serializer)}Cu(e){return new kT(up.mi,this.serializer)}Du(e){return new JI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Eh.provider={build:()=>new Eh};class Gx extends Eh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Fe(this.persistence.referenceDelegate instanceof _h,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new CI(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new kT((r=>_h.mi(r,i)),this.serializer)}}class Om{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>R0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Bx.bind(null,this.syncEngine),await Ex(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new bx})()}createDatastore(e){const i=Ph(e.databaseInfo.databaseId),r=(function(u){return new ix(u)})(e.databaseInfo);return(function(u,d,p,g){return new ox(u,d,p,g)})(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,l,u,d,p){return new ux(r,l,u,d,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>R0(this.syncEngine,i,0)),(function(){return E0.v()?new E0:new WI})())}createSyncEngine(e,i){return(function(l,u,d,p,g,_,T){const A=new Dx(l,u,d,p,g,_);return T&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=Se(i);ae(ea,"RemoteStore shutting down."),r.Ea.add(5),await hu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Om.provider={build:()=>new Om};class Qx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):cs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const ur="FirestoreClient";class Kx{constructor(e,i,r,l,u){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=l,this.user=Wt.UNAUTHENTICATED,this.clientId=$m.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async d=>{ae(ur,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(ae(ur,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Kr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=yp(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function sm(s,e){s.asyncQueue.verifyOperationInProgress(),ae(ur,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await PT(e.localStore,l),r=l)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function I0(s,e){s.asyncQueue.verifyOperationInProgress();const i=await Yx(s);ae(ur,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((r=>b0(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>b0(e.remoteStore,l))),s._onlineComponents=e}async function Yx(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ae(ur,"Using user provided OfflineComponentProvider");try{await sm(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===Z.FAILED_PRECONDITION||l.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;lo("Error using user provided cache. Falling back to memory cache: "+i),await sm(s,new Eh)}}else ae(ur,"Using default OfflineComponentProvider"),await sm(s,new Gx(void 0));return s._offlineComponents}async function e1(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ae(ur,"Using user provided OnlineComponentProvider"),await I0(s,s._uninitializedComponentsProvider._online)):(ae(ur,"Using default OnlineComponentProvider"),await I0(s,new Om))),s._onlineComponents}function Xx(s){return e1(s).then((e=>e.syncEngine))}async function x0(s){const e=await e1(s),i=e.eventManager;return i.onListen=Ox.bind(null,e.syncEngine),i.onUnlisten=kx.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=Mx.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=Px.bind(null,e.syncEngine),i}function t1(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const N0=new Map;const n1="firestore.googleapis.com",D0=!0;class O0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new re(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=n1,this.ssl=D0}else this.host=e.host,this.ssl=e.ssl??D0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=VT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<wI)throw new re(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}lC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=t1(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new re(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new re(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new re(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class jh{constructor(e,i,r,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new O0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new re(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new re(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new O0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new JR;switch(r.type){case"firstParty":return new nC(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new re(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=N0.get(i);r&&(ae("ComponentProvider","Removing Datastore"),N0.delete(i),r.terminate())})(this),Promise.resolve()}}function $x(s,e,i,r={}){s=nr(s,jh);const l=go(e),u=s._getSettings(),d={...u,emulatorOptions:s._getEmulatorOptions()},p=`${e}:${i}`;l&&(J0(`https://${p}`),W0("Firestore",!0)),u.host!==n1&&u.host!==p&&lo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:p,ssl:l,emulatorOptions:r};if(!Xr(g,d)&&(s._setSettings(g),r.mockUserToken)){let _,T;if(typeof r.mockUserToken=="string")_=r.mockUserToken,T=Wt.MOCK_USER;else{_=oS(r.mockUserToken,s._app?.options.projectId);const A=r.mockUserToken.sub||r.mockUserToken.user_id;if(!A)throw new re(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Wt(A)}s._authCredentials=new WR(new QE(_,T))}}class aa{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new aa(this.firestore,e,this._query)}}class Nt{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ir(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Nt(this.firestore,e,this._key)}toJSON(){return{type:Nt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(lu(i,Nt._jsonSchema))return new Nt(e,r||null,new de(tt.fromString(i.referencePath)))}}Nt._jsonSchemaVersion="firestore/documentReference/1.0",Nt._jsonSchema={type:xt("string",Nt._jsonSchemaVersion),referencePath:xt("string")};class ir extends aa{constructor(e,i,r){super(e,i,np(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Nt(this.firestore,null,new de(e))}withConverter(e){return new ir(this.firestore,e,this._path)}}function tn(s,e,...i){if(s=Xt(s),KE("collection","path",e),s instanceof jh){const r=tt.fromString(e,...i);return Fv(r),new ir(s,null,r)}{if(!(s instanceof Nt||s instanceof ir))throw new re(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(tt.fromString(e,...i));return Fv(r),new ir(s.firestore,null,r)}}function Vi(s,e,...i){if(s=Xt(s),arguments.length===1&&(e=$m.newId()),KE("doc","path",e),s instanceof jh){const r=tt.fromString(e,...i);return Hv(r),new Nt(s,null,new de(r))}{if(!(s instanceof Nt||s instanceof ir))throw new re(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(tt.fromString(e,...i));return Hv(r),new Nt(s.firestore,s instanceof ir?s.converter:null,new de(r))}}const M0="AsyncQueue";class V0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new UT(this,"async_queue_retry"),this._c=()=>{const r=im();r&&ae(M0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=im();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=im();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Kr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!To(e))throw e;ae(M0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,cs("INTERNAL UNHANDLED ERROR: ",k0(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=gp.createAndSchedule(this,e,i,r,(u=>this.hc(u)));return this.tc.push(l),l}uc(){this.nc&&ve(47125,{Pc:k0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function k0(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}function P0(s){return(function(i,r){if(typeof i!="object"||i===null)return!1;const l=i;for(const u of r)if(u in l&&typeof l[u]=="function")return!0;return!1})(s,["next","error","complete"])}class po extends jh{constructor(e,i,r,l){super(e,i,r,l),this.type="firestore",this._queue=new V0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new V0(e),this._firestoreClient=void 0,await e}}}function Zx(s,e){const i=typeof s=="object"?s:iE(),r=typeof s=="string"?s:dh,l=Um(i,"firestore").getImmediate({identifier:r});if(!l._initialized){const u=rS("firestore");u&&$x(l,...u)}return l}function i1(s){if(s._terminated)throw new re(Z.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||Jx(s),s._firestoreClient}function Jx(s){const e=s._freezeSettings(),i=(function(l,u,d,p){return new vC(l,u,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,t1(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new Kx(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const u=l?._online.build();return{_offline:l?._offline.build(u),_online:u}})(s._componentsProvider))}class jn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new jn($t.fromBase64String(e))}catch(i){throw new re(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new jn($t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:jn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(lu(e,jn._jsonSchema))return jn.fromBase64String(e.bytes)}}jn._jsonSchemaVersion="firestore/bytes/1.0",jn._jsonSchema={type:xt("string",jn._jsonSchemaVersion),bytes:xt("string")};class Tp{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new re(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class bp{constructor(e){this._methodName=e}}class ki{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new re(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new re(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ki._jsonSchemaVersion}}static fromJSON(e){if(lu(e,ki._jsonSchema))return new ki(e.latitude,e.longitude)}}ki._jsonSchemaVersion="firestore/geoPoint/1.0",ki._jsonSchema={type:xt("string",ki._jsonSchemaVersion),latitude:xt("number"),longitude:xt("number")};class Pi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,l){if(r.length!==l.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==l[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Pi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(lu(e,Pi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Pi(e.vectorValues);throw new re(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Pi._jsonSchemaVersion="firestore/vectorValue/1.0",Pi._jsonSchema={type:xt("string",Pi._jsonSchemaVersion),vectorValues:xt("object")};const Wx=/^__.*__$/;class eN{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new sa(e,this.data,this.fieldMask,i,this.fieldTransforms):new uu(e,this.data,i,this.fieldTransforms)}}function s1(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve(40011,{Ac:s})}}class Ap{constructor(e,i,r,l,u,d){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=l,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Ap({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.gc(e),r}yc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Th(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(s1(this.Ac)&&Wx.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class tN{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||Ph(e)}Cc(e,i,r,l=!1){return new Ap({Ac:e,methodName:i,Dc:r,path:Yt.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Sp(s){const e=s._freezeSettings(),i=Ph(s._databaseId);return new tN(s._databaseId,!!e.ignoreUndefinedProperties,i)}function r1(s,e,i,r,l,u={}){const d=s.Cc(u.merge||u.mergeFields?2:0,e,i,l);l1("Data must be an object, but it was:",d,r);const p=a1(r,d);let g,_;if(u.merge)g=new ni(d.fieldMask),_=d.fieldTransforms;else if(u.mergeFields){const T=[];for(const A of u.mergeFields){const D=iN(e,A,i);if(!d.contains(D))throw new re(Z.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);rN(T,D)||T.push(D)}g=new ni(T),_=d.fieldTransforms.filter((A=>g.covers(A.field)))}else g=null,_=d.fieldTransforms;return new eN(new Un(p),g,_)}class wp extends bp{_toFieldTransform(e){return new GC(e.path,new Wl)}isEqual(e){return e instanceof wp}}function nN(s,e,i,r=!1){return Rp(i,s.Cc(r?4:3,e))}function Rp(s,e){if(o1(s=Xt(s)))return l1("Unsupported field value:",e,s),a1(s,e);if(s instanceof bp)return(function(r,l){if(!s1(l.Ac))throw l.Sc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(l);u&&l.fieldTransforms.push(u)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,l){const u=[];let d=0;for(const p of r){let g=Rp(p,l.wc(d));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),d++}return{arrayValue:{values:u}}})(s,e)}return(function(r,l){if((r=Xt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return BC(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=st.fromDate(r);return{timestampValue:yh(l.serializer,u)}}if(r instanceof st){const u=new st(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:yh(l.serializer,u)}}if(r instanceof ki)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof jn)return{bytesValue:CT(l.serializer,r._byteString)};if(r instanceof Nt){const u=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(u))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:op(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof Pi)return(function(d,p){return{mapValue:{fields:{[nT]:{stringValue:iT},[mh]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw p.Sc("VectorValues must only contain numeric values.");return ip(p.serializer,_)}))}}}}}})(r,l);throw l.Sc(`Unsupported field value: ${Ch(r)}`)})(s,e)}function a1(s,e){const i={};return $E(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):na(s,((r,l)=>{const u=Rp(l,e.mc(r));u!=null&&(i[r]=u)})),{mapValue:{fields:i}}}function o1(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof st||s instanceof ki||s instanceof jn||s instanceof Nt||s instanceof bp||s instanceof Pi)}function l1(s,e,i){if(!o1(i)||!YE(i)){const r=Ch(i);throw r==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+r)}}function iN(s,e,i){if((e=Xt(e))instanceof Tp)return e._internalPath;if(typeof e=="string")return u1(s,e);throw Th("Field path arguments must be of type string or ",s,!1,void 0,i)}const sN=new RegExp("[~\\*/\\[\\]]");function u1(s,e,i){if(e.search(sN)>=0)throw Th(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Tp(...e.split("."))._internalPath}catch{throw Th(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Th(s,e,i,r,l){const u=r&&!r.isEmpty(),d=l!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(u||d)&&(g+=" (found",u&&(g+=` in field ${r}`),d&&(g+=` in document ${l}`),g+=")"),new re(Z.INVALID_ARGUMENT,p+s+g)}function rN(s,e){return s.some((i=>i.isEqual(e)))}class c1{constructor(e,i,r,l,u){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Nt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new aN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(zh("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class aN extends c1{data(){return super.data()}}function zh(s,e){return typeof e=="string"?u1(s,e):e instanceof Tp?e._internalPath:e._delegate._internalPath}function oN(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new re(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Cp{}class h1 extends Cp{}function Li(s,e,...i){let r=[];e instanceof Cp&&r.push(e),r=r.concat(i),(function(u){const d=u.filter((g=>g instanceof Ip)).length,p=u.filter((g=>g instanceof qh)).length;if(d>1||d>0&&p>0)throw new re(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const l of r)s=l._apply(s);return s}class qh extends h1{constructor(e,i,r){super(),this._field=e,this._op=i,this._value=r,this.type="where"}static _create(e,i,r){return new qh(e,i,r)}_apply(e){const i=this._parse(e);return f1(e._query,i),new aa(e.firestore,e.converter,bm(e._query,i))}_parse(e){const i=Sp(e.firestore);return(function(u,d,p,g,_,T,A){let D;if(_.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new re(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){U0(A,T);const F=[];for(const $ of A)F.push(L0(g,u,$));D={arrayValue:{values:F}}}else D=L0(g,u,A)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||U0(A,T),D=nN(p,d,A,T==="in"||T==="not-in");return It.create(_,T,D)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function lN(s,e,i){const r=e,l=zh("where",s);return qh._create(l,r,i)}class Ip extends Cp{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new Ip(e,i)}_parse(e){const i=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:oi.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(l,u){let d=l;const p=u.getFlattenedFilters();for(const g of p)f1(d,g),d=bm(d,g)})(e._query,i),new aa(e.firestore,e.converter,bm(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class xp extends h1{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new xp(e,i)}_apply(e){const i=(function(l,u,d){if(l.startAt!==null)throw new re(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new re(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Jl(u,d)})(e._query,this._field,this._direction);return new aa(e.firestore,e.converter,(function(l,u){const d=l.explicitOrderBy.concat([u]);return new bo(l.path,l.collectionGroup,d,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(e._query,i))}}function ta(s,e="asc"){const i=e,r=zh("orderBy",s);return xp._create(r,i)}function L0(s,e,i){if(typeof(i=Xt(i))=="string"){if(i==="")throw new re(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!hT(e)&&i.indexOf("/")!==-1)throw new re(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=e.path.child(tt.fromString(i));if(!de.isDocumentKey(r))throw new re(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Jv(s,new de(r))}if(i instanceof Nt)return Jv(s,i._key);throw new re(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ch(i)}.`)}function U0(s,e){if(!Array.isArray(s)||s.length===0)throw new re(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function f1(s,e){const i=(function(l,u){for(const d of l)for(const p of d.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new re(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new re(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class uN{convertValue(e,i="none"){switch(or(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(ar(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw ve(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return na(e,((l,u)=>{r[l]=this.convertValue(u,i)})),r}convertVectorValue(e){const i=e.fields?.[mh].arrayValue?.values?.map((r=>yt(r.doubleValue)));return new Pi(i)}convertGeoPoint(e){return new ki(yt(e.latitude),yt(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=Nh(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Xl(e));default:return null}}convertTimestamp(e){const i=rr(e);return new st(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=tt.fromString(e);Fe(MT(r),9688,{name:e});const l=new $l(r.get(1),r.get(3)),u=new de(r.popFirst(5));return l.isEqual(i)||cs(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),u}}function d1(s,e,i){let r;return r=s?i&&(i.merge||i.mergeFields)?s.toFirestore(e,i):s.toFirestore(e):e,r}class Ul{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Yr extends c1{constructor(e,i,r,l,u,d){super(e,i,r,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new ih(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(zh("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new re(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Yr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Yr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Yr._jsonSchema={type:xt("string",Yr._jsonSchemaVersion),bundleSource:xt("string","DocumentSnapshot"),bundleName:xt("string"),bundle:xt("string")};class ih extends Yr{data(e={}){return super.data(e)}}class ro{constructor(e,i,r,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new Ul(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new ih(this._firestore,this._userDataWriter,r.key,r,new Ul(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new re(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,u){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const g=new ih(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Ul(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const g=new ih(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Ul(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,T=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),T=d.indexOf(p.doc.key)),{type:cN(p.type),doc:g,oldIndex:_,newIndex:T}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new re(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ro._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=$m.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],l=[];return this.docs.forEach((u=>{u._document!==null&&(i.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),l.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function cN(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve(61501,{type:s})}}ro._jsonSchemaVersion="firestore/querySnapshot/1.0",ro._jsonSchema={type:xt("string",ro._jsonSchemaVersion),bundleSource:xt("string","QuerySnapshot"),bundleName:xt("string"),bundle:xt("string")};class m1 extends uN{constructor(e){super(),this.firestore=e}convertBytes(e){return new jn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Nt(this.firestore,null,i)}}function p1(s,e,i){s=nr(s,Nt);const r=nr(s.firestore,po),l=d1(s.converter,e,i);return Np(r,[r1(Sp(r),"setDoc",s._key,l,s.converter!==null,i).toMutation(s._key,si.none())])}function So(s){return Np(nr(s.firestore,po),[new sp(s._key,si.none())])}function wo(s,e){const i=nr(s.firestore,po),r=Vi(s),l=d1(s.converter,e);return Np(i,[r1(Sp(s.firestore),"addDoc",r._key,l,s.converter!==null,{}).toMutation(r._key,si.exists(!1))]).then((()=>r))}function ri(s,...e){s=Xt(s);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||P0(e[r])||(i=e[r++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(P0(e[r])){const g=e[r];e[r]=g.next?.bind(g),e[r+1]=g.error?.bind(g),e[r+2]=g.complete?.bind(g)}let u,d,p;if(s instanceof Nt)d=nr(s.firestore,po),p=np(s._key.path),u={next:g=>{e[r]&&e[r](hN(d,s,g))},error:e[r+1],complete:e[r+2]};else{const g=nr(s,aa);d=nr(g.firestore,po),p=g._query;const _=new m1(d);u={next:T=>{e[r]&&e[r](new ro(d,_,g,T))},error:e[r+1],complete:e[r+2]},oN(s._query)}return(function(_,T,A,D){const z=new Qx(D),F=new Cx(T,z,A);return _.asyncQueue.enqueueAndForget((async()=>Ax(await x0(_),F))),()=>{z.Nu(),_.asyncQueue.enqueueAndForget((async()=>Sx(await x0(_),F)))}})(i1(d),p,l,u)}function Np(s,e){return(function(r,l){const u=new Kr;return r.asyncQueue.enqueueAndForget((async()=>Lx(await Xx(r),l,u))),u.promise})(i1(s),e)}function hN(s,e,i){const r=i.docs.get(e._key),l=new m1(s);return new Yr(s,l,e._key,r,new Ul(i.hasPendingWrites,i.fromCache),e.converter)}function fN(){return new wp("serverTimestamp")}(function(e,i=!0){(function(l){vo=l})(yo),ao(new $r("firestore",((r,{instanceIdentifier:l,options:u})=>{const d=r.getProvider("app").getImmediate(),p=new po(new eC(r.getProvider("auth-internal")),new iC(d,r.getProvider("app-check-internal")),(function(_,T){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new re(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $l(_.options.projectId,T)})(d,l),d);return u={useFetchStreams:i,...u},p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),er(jv,zv,e),er(jv,zv,"esm2020")})();var dN="firebase",mN="12.6.0";er(dN,mN,"app");const pN={apiKey:"AIzaSyCcP5qt0G2VQT2JLj6po_rLXpQ2Hp5ZFBY",authDomain:"gestor-25758.firebaseapp.com",projectId:"gestor-25758",storageBucket:"gestor-25758.firebasestorage.app",messagingSenderId:"318964628366",appId:"1:318964628366:web:719222f154d026db2682df",measurementId:"G-G8LYNL0BG4"},g1=nE(pN),Gl=$R(g1),Wn=Zx(g1),gN=new ss,ei="gearle-app-production",zt=({children:s,onClick:e,variant:i="primary",className:r="",icon:l,type:u="button",disabled:d=!1})=>{const p="px-4 py-2 rounded-lg font-medium flex items-center justify-center gap-2 transition-all active:scale-95 text-sm disabled:opacity-50 disabled:cursor-not-allowed",g={primary:"bg-azuri-600 text-white hover:bg-azuri-700 shadow-md shadow-azuri-200",secondary:"bg-white text-azuri-600 border border-azuri-100 hover:bg-azuri-50",danger:"bg-red-50 text-red-600 hover:bg-red-100",ghost:"bg-transparent text-gray-600 hover:bg-gray-100",google:"bg-gray-900 text-white border border-gray-900 hover:bg-gray-800"};return b.jsxs("button",{onClick:e,type:u,disabled:d,className:`${p} ${g[i]} ${r}`,children:[l&&b.jsx(l,{size:16}),s]})},ai=({children:s,className:e=""})=>b.jsx("div",{className:`bg-white rounded-xl shadow-sm border border-gray-100 p-4 ${e}`,children:s}),ut=({label:s,error:e,onChange:i,...r})=>{const l=u=>{u.target.value&&u.target.value.length>0&&(u.target.value=u.target.value.charAt(0).toUpperCase()+u.target.value.slice(1)),i&&i(u)};return b.jsxs("div",{className:"flex flex-col gap-1 mb-3",children:[s&&b.jsx("label",{className:"text-xs font-semibold text-gray-500 uppercase",children:s}),b.jsx("input",{className:`w-full p-3 rounded-lg border focus:ring-2 outline-none transition-all text-sm disabled:bg-gray-50 disabled:text-gray-500 ${e?"border-red-300 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-azuri-500 focus:ring-azuri-100"}`,onChange:l,autoCapitalize:"sentences",spellCheck:!0,...r}),e&&b.jsxs("span",{className:"text-xs text-red-500 flex items-center gap-1",children:[b.jsx(B0,{size:10})," ",e]})]})},cr=({title:s,onClose:e,children:i})=>b.jsx("div",{className:"fixed inset-0 bg-black/50 z-[100] flex items-center justify-center p-4 backdrop-blur-sm animate-in fade-in duration-200",onClick:e,children:b.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md max-h-[90vh] overflow-y-auto shadow-2xl animate-in zoom-in-95 duration-200 relative",onClick:r=>r.stopPropagation(),children:[b.jsxs("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center sticky top-0 bg-white z-10",children:[b.jsx("h3",{className:"font-bold text-lg text-gray-800",children:s}),b.jsx("button",{onClick:e,className:"p-2 hover:bg-red-50 hover:text-red-500 text-gray-400 rounded-full transition-colors",children:b.jsx(G0,{size:20})})]}),b.jsx("div",{className:"p-4",children:i})]})}),Ro=({columns:s,data:e,onDelete:i,onRowClick:r})=>b.jsx("div",{className:"overflow-x-auto",children:b.jsxs("table",{className:"w-full text-left border-collapse",children:[b.jsx("thead",{children:b.jsxs("tr",{className:"border-b border-gray-100",children:[s.map((l,u)=>b.jsx("th",{className:"py-3 px-4 text-xs font-bold text-gray-500 uppercase bg-gray-50 first:rounded-l-lg last:rounded-r-lg",children:l.header},u)),b.jsx("th",{className:"py-3 px-4 bg-gray-50 rounded-r-lg"})]})}),b.jsx("tbody",{children:e.length===0?b.jsx("tr",{children:b.jsx("td",{colSpan:s.length+1,className:"py-8 text-center text-gray-400 text-sm",children:"Nenhum registro encontrado."})}):e.map(l=>b.jsxs("tr",{onClick:()=>r&&r(l),className:`border-b border-gray-50 hover:bg-azuri-50/50 transition-colors group ${r?"cursor-pointer":""}`,children:[s.map((u,d)=>b.jsx("td",{className:"py-3 px-4 text-sm text-gray-700",children:u.render?u.render(l):l[u.accessor]},d)),b.jsx("td",{className:"py-3 px-4 text-right",children:b.jsx("button",{onClick:u=>{u.stopPropagation(),i&&i(l.id)},className:"text-red-400 hover:text-red-600 transition-colors p-2",children:b.jsx(G0,{size:18})})})]},l.id))})]})}),yN=({size:s=20})=>b.jsxs("svg",{width:s,height:s,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[b.jsx("path",{d:"M23.52 12.29C23.52 11.44 23.44 10.62 23.3 9.82H12V14.45H18.46C18.18 15.93 17.33 17.18 16.06 18.03V21.01H19.93C22.19 18.93 23.52 15.87 23.52 12.29Z",fill:"#4285F4"}),b.jsx("path",{d:"M12 24C15.24 24 17.96 22.93 19.93 21.01L16.06 18.03C14.99 18.75 13.62 19.18 12 19.18C8.87 19.18 6.22 17.07 5.27 14.23H1.27V17.33C3.26 21.28 7.33 24 12 24Z",fill:"#34A853"}),b.jsx("path",{d:"M5.27 14.23C5.03 13.51 4.9 12.76 4.9 12C4.9 11.24 5.03 10.49 5.27 9.77V6.67H1.27C0.46 8.28 0 10.09 0 12C0 13.91 0.46 15.72 1.27 17.33L5.27 14.23Z",fill:"#FBBC05"}),b.jsx("path",{d:"M12 4.82C13.76 4.82 15.34 5.43 16.58 6.62L20.02 3.18C17.96 1.26 15.24 0 12 0C7.33 0 3.26 2.72 1.27 6.67L5.27 9.77C6.22 6.93 8.87 4.82 12 4.82Z",fill:"#EA4335"})]}),_N=()=>{const[s,e]=me.useState(!1),[i,r]=me.useState(!1),[l,u]=me.useState(""),[d,p]=me.useState({email:"",password:"",name:""}),g=async()=>{r(!0),u("");try{await rR(Gl,gN)}catch(T){u("Erro ao conectar com Google. Tente novamente."),console.error(T)}finally{r(!1)}},_=async T=>{if(T.preventDefault(),r(!0),u(""),!d.email||!d.password){u("Preencha todos os campos."),r(!1);return}try{if(s){const A=await O2(Gl,d.email,d.password);d.name&&await k2(A.user,{displayName:d.name})}else await M2(Gl,d.email,d.password)}catch(A){console.error(A),A.code==="auth/invalid-credential"||A.code==="auth/user-not-found"||A.code==="auth/wrong-password"?u("E-mail ou senha incorretos."):A.code==="auth/email-already-in-use"?u("Este e-mail j est cadastrado."):A.code==="auth/weak-password"?u("A senha deve ter pelo menos 6 caracteres."):u("Ocorreu um erro. Tente novamente.")}finally{r(!1)}};return b.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-azuri-600 to-indigo-700 p-4 font-sans",children:b.jsxs("div",{className:"bg-white w-full max-w-md rounded-2xl shadow-2xl overflow-hidden animate-in fade-in zoom-in-95 duration-500",children:[b.jsxs("div",{className:"p-8",children:[b.jsxs("div",{className:"flex flex-col items-center mb-6",children:[b.jsx("div",{className:"bg-azuri-100 p-3 rounded-full mb-4 text-azuri-600",children:b.jsx(am,{size:32})}),b.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Gestor"}),b.jsx("p",{className:"text-gray-500 text-sm text-center mt-1",children:s?"Crie sua conta e gerencie seu negcio":"Bem-vindo de volta!"})]}),l&&b.jsxs("div",{className:"bg-red-50 text-red-600 text-sm p-3 rounded-lg mb-4 flex items-center gap-2",children:[b.jsx(B0,{size:16}),l]}),b.jsxs("form",{onSubmit:_,className:"space-y-4",children:[s&&b.jsx(ut,{label:"Nome da Empresa / Seu Nome",placeholder:"Ex: Barbearia do Gearle",value:d.name,onChange:T=>p({...d,name:T.target.value}),icon:YA}),b.jsx(ut,{label:"E-mail",type:"email",placeholder:"seu@email.com",value:d.email,onChange:T=>p({...d,email:T.target.value}),icon:IA}),b.jsx(ut,{label:"Senha",type:"password",placeholder:"",value:d.password,onChange:T=>p({...d,password:T.target.value}),icon:SA}),b.jsx(zt,{type:"submit",className:"w-full py-3 text-base",disabled:i,icon:i?null:uA,children:i?"Carregando...":s?"Criar Conta Grtis":"Entrar"})]}),b.jsxs("div",{className:"flex items-center my-6",children:[b.jsx("div",{className:"flex-1 border-t border-gray-200"}),b.jsx("span",{className:"px-4 text-gray-400 text-sm font-medium",children:"ou continue com"}),b.jsx("div",{className:"flex-1 border-t border-gray-200"})]}),b.jsx(zt,{variant:"google",className:"w-full py-3",onClick:g,disabled:i,icon:yN,children:"Google"})]}),b.jsx("div",{className:"bg-gray-50 p-4 text-center border-t border-gray-100",children:b.jsxs("p",{className:"text-sm text-gray-600",children:[s?"J tem uma conta?":"No tem uma conta?",b.jsx("button",{onClick:()=>e(!s),className:"ml-1 text-azuri-600 font-bold hover:underline focus:outline-none",children:s?"Fazer Login":"Criar agora"})]})})]})})},vN=({transactions:s,onNavigate:e})=>{const i=me.useMemo(()=>{let u=0,d=0;return s.forEach(p=>{const g=parseFloat(p.amount||0);p.type==="income"?u+=g:d+=g}),{receita:u,despesa:d,lucro:u-d}},[s]),r=u=>{typeof e=="function"?e(u):console.warn(`Navegando para: ${u}`)},l=[{label:"Novo Agendamento",icon:z0,action:()=>r("agenda")},{label:"Lanar Venda",icon:Vm,action:()=>r("financial")},{label:"Novo Cliente",icon:km,action:()=>r("clients")},{label:"Relatrio Dirio",icon:H0,action:()=>r("reports")}];return b.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[b.jsxs("header",{className:"flex justify-between items-center",children:[b.jsxs("div",{children:[b.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Dashboard"}),b.jsx("p",{className:"text-gray-500 text-sm",children:"Viso geral do seu negcio hoje"})]}),b.jsx("div",{className:"bg-azuri-100 text-azuri-700 px-3 py-1 rounded-full text-xs font-bold",children:"Ms Atual"})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[b.jsxs(ai,{className:"border-l-4 border-l-green-500",children:[b.jsx("p",{className:"text-gray-500 text-xs font-bold uppercase",children:"Receitas"}),b.jsxs("h3",{className:"text-2xl font-bold text-gray-800 mt-1",children:["R$ ",i.receita.toFixed(2)]})]}),b.jsxs(ai,{className:"border-l-4 border-l-red-500",children:[b.jsx("p",{className:"text-gray-500 text-xs font-bold uppercase",children:"Despesas"}),b.jsxs("h3",{className:"text-2xl font-bold text-gray-800 mt-1",children:["R$ ",i.despesa.toFixed(2)]})]}),b.jsxs(ai,{className:"border-l-4 border-l-azuri-500 bg-azuri-50",children:[b.jsx("p",{className:"text-azuri-600 text-xs font-bold uppercase",children:"Lucro Lquido"}),b.jsxs("h3",{className:"text-2xl font-bold text-azuri-900 mt-1",children:["R$ ",i.lucro.toFixed(2)]})]})]}),b.jsx("h3",{className:"font-bold text-gray-800 mt-4",children:"Acesso Rpido"}),b.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:l.map((u,d)=>b.jsxs("button",{onClick:u.action,className:"p-4 bg-white border hover:border-azuri-300 rounded-xl flex flex-col items-center justify-center gap-2 text-sm font-medium text-gray-700 shadow-sm hover:shadow-md transition-all active:scale-95 cursor-pointer",children:[b.jsx("div",{className:"bg-azuri-50 p-2 rounded-full text-azuri-600",children:b.jsx(u.icon,{size:20})}),u.label]},d))})]})},EN=({transactions:s,onAddTransaction:e,onDeleteTransaction:i,searchTerm:r})=>{const[l,u]=me.useState(!1),[d,p]=me.useState(!1),[g,_]=me.useState("all"),[T,A]=me.useState({description:"",amount:"",type:"income",date:new Date().toISOString().split("T")[0]}),D=F=>{F.preventDefault(),e({...T,amount:parseFloat(T.amount),createdAt:fN()}),u(!1),A({description:"",amount:"",type:"income",date:new Date().toISOString().split("T")[0]})},z=s.filter(F=>{const $=F.description?.toLowerCase().includes(r?.toLowerCase()||""),ee=g==="all"||F.type===g;return $&&ee});return b.jsxs("div",{className:"space-y-4 h-full flex flex-col",children:[b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Fluxo de Caixa"}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx(zt,{variant:"secondary",icon:bA,onClick:()=>p(!0),children:"Filtrar"}),b.jsx(zt,{onClick:()=>u(!0),icon:bh,children:"Lanar"})]})]}),b.jsx(ai,{className:"flex-1 overflow-hidden flex flex-col p-0",children:b.jsx(Ro,{columns:[{header:"Tipo",accessor:"type",render:F=>b.jsx("div",{className:`p-1.5 w-fit rounded-full ${F.type==="income"?"bg-green-100 text-green-600":"bg-red-100 text-red-600"}`,children:F.type==="income"?b.jsx(GA,{size:14}):b.jsx(HA,{size:14})})},{header:"Descrio",accessor:"description",render:F=>b.jsx("span",{className:"font-bold text-gray-700",children:F.description})},{header:"Data",accessor:"date",render:F=>b.jsx("span",{className:"text-xs text-gray-500",children:new Date(F.date).toLocaleDateString("pt-BR")})},{header:"Valor",accessor:"amount",render:F=>b.jsxs("span",{className:`font-bold ${F.type==="income"?"text-green-600":"text-red-600"}`,children:[F.type==="income"?"+":"-"," R$ ",parseFloat(F.amount).toFixed(2)]})}],data:z,onDelete:i})}),l&&b.jsx(cr,{title:"Novo Lanamento",onClose:()=>u(!1),children:b.jsxs("form",{onSubmit:D,className:"space-y-4",children:[b.jsxs("div",{className:"flex gap-2 p-1 bg-gray-100 rounded-lg",children:[b.jsx("button",{type:"button",onClick:()=>A({...T,type:"income"}),className:`flex-1 py-2 text-sm font-bold rounded-md transition-all ${T.type==="income"?"bg-white text-green-600 shadow-sm":"text-gray-500"}`,children:"Receita"}),b.jsx("button",{type:"button",onClick:()=>A({...T,type:"expense"}),className:`flex-1 py-2 text-sm font-bold rounded-md transition-all ${T.type==="expense"?"bg-white text-red-600 shadow-sm":"text-gray-500"}`,children:"Despesa"})]}),b.jsx(ut,{label:"Descrio",value:T.description,onChange:F=>A({...T,description:F.target.value}),required:!0}),b.jsx(ut,{label:"Valor (R$)",type:"number",step:"0.01",value:T.amount,onChange:F=>A({...T,amount:F.target.value}),required:!0}),b.jsx(ut,{label:"Data",type:"date",value:T.date,onChange:F=>A({...T,date:F.target.value}),required:!0}),b.jsx(zt,{className:"w-full",type:"submit",children:"Salvar"})]})}),d&&b.jsx(cr,{title:"Filtrar Lanamentos",onClose:()=>p(!1),children:b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"text-sm font-bold text-gray-700 mb-2 block",children:"Tipo de Lanamento"}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx("button",{onClick:()=>_("all"),className:`flex-1 py-2 text-sm font-bold rounded-md border ${g==="all"?"bg-azuri-100 border-azuri-500 text-azuri-700":"bg-white border-gray-200 text-gray-600"}`,children:"Todos"}),b.jsx("button",{onClick:()=>_("income"),className:`flex-1 py-2 text-sm font-bold rounded-md border ${g==="income"?"bg-green-100 border-green-500 text-green-700":"bg-white border-gray-200 text-gray-600"}`,children:"Receitas"}),b.jsx("button",{onClick:()=>_("expense"),className:`flex-1 py-2 text-sm font-bold rounded-md border ${g==="expense"?"bg-red-100 border-red-500 text-red-700":"bg-white border-gray-200 text-gray-600"}`,children:"Despesas"})]})]}),b.jsx(zt,{onClick:()=>p(!1),className:"w-full",children:"Aplicar Filtros"})]})})]})},TN=({db:s,user:e,appId:i,searchTerm:r})=>{const[l,u]=me.useState([]),[d,p]=me.useState(!1),[g,_]=me.useState({name:"",phone:"",address:""});me.useEffect(()=>{if(!e)return;const A=Li(tn(s,"artifacts",i,"users",e.uid,"clients"),ta("name")),D=ri(A,z=>u(z.docs.map(F=>({id:F.id,...F.data()}))));return()=>D()},[e,s,i]);const T=async A=>{A.preventDefault(),await wo(tn(s,"artifacts",i,"users",e.uid,"clients"),g),p(!1),_({name:"",phone:"",address:""})};return b.jsxs("div",{className:"space-y-4 flex flex-col",children:[b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Meus Clientes"}),b.jsx(zt,{onClick:()=>p(!0),icon:km,children:"Adicionar Cliente"})]}),b.jsx(ai,{className:"flex flex-col p-0",children:b.jsx(Ro,{columns:[{header:"Nome",accessor:"name",render:A=>b.jsx("span",{className:"font-bold",children:A.name})},{header:"Telefone",accessor:"phone"},{header:"Endereo",accessor:"address"}],data:l.filter(A=>A.name?.toLowerCase().includes(r?.toLowerCase()||"")||A.phone?.includes(r||"")),onDelete:async A=>await So(Vi(s,"artifacts",i,"users",e.uid,"clients",A))})}),d&&b.jsx(cr,{title:"Novo Cliente",onClose:()=>p(!1),children:b.jsxs("form",{onSubmit:T,className:"space-y-4",children:[b.jsx(ut,{label:"Nome Completo",value:g.name,onChange:A=>_({...g,name:A.target.value}),required:!0}),b.jsx(ut,{label:"Telefone",value:g.phone,onChange:A=>_({...g,phone:A.target.value})}),b.jsx(ut,{label:"Endereo",value:g.address,onChange:A=>_({...g,address:A.target.value})}),b.jsx(zt,{className:"w-full",type:"submit",children:"Salvar Cliente"})]})})]})},bN=({db:s,user:e,appId:i,searchTerm:r})=>{const[l,u]=me.useState("services"),[d,p]=me.useState([]),[g,_]=me.useState(!1),[T,A]=me.useState({name:"",price:"",duration:""});me.useEffect(()=>{if(!e)return;const z=l==="services"?"services":"packages",F=Li(tn(s,"artifacts",i,"users",e.uid,z),ta("name")),$=ri(F,ee=>p(ee.docs.map(ue=>({id:ue.id,...ue.data()}))));return()=>$()},[e,l,s,i]);const D=async z=>{z.preventDefault();const F=l==="services"?"services":"packages";await wo(tn(s,"artifacts",i,"users",e.uid,F),T),_(!1),A({name:"",price:"",duration:""})};return b.jsxs("div",{className:"space-y-4 flex flex-col",children:[b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Catlogo"}),b.jsxs(zt,{onClick:()=>_(!0),icon:bh,children:["Novo ",l==="services"?"Servio":"Pacote"]})]}),b.jsxs("div",{className:"flex gap-4 border-b border-gray-200",children:[b.jsx("button",{onClick:()=>u("services"),className:`pb-2 px-4 font-bold text-sm ${l==="services"?"text-azuri-600 border-b-2 border-azuri-600":"text-gray-500"}`,children:"SERVIOS"}),b.jsx("button",{onClick:()=>u("packages"),className:`pb-2 px-4 font-bold text-sm ${l==="packages"?"text-azuri-600 border-b-2 border-azuri-600":"text-gray-500"}`,children:"PACOTES"})]}),b.jsx(ai,{className:"flex flex-col p-0",children:b.jsx(Ro,{columns:[{header:"Nome",accessor:"name",render:z=>b.jsx("span",{className:"font-bold",children:z.name})},{header:"Preo",accessor:"price",render:z=>`R$ ${parseFloat(z.price).toFixed(2)}`},{header:"Durao",accessor:"duration",render:z=>z.duration?`${z.duration} min`:"-"}],data:d.filter(z=>z.name?.toLowerCase().includes(r?.toLowerCase()||"")),onDelete:async z=>{const F=l==="services"?"services":"packages";await So(Vi(s,"artifacts",i,"users",e.uid,F,z))}})}),g&&b.jsx(cr,{title:`Adicionar ${l==="services"?"Servio":"Pacote"}`,onClose:()=>_(!1),children:b.jsxs("form",{onSubmit:D,className:"space-y-4",children:[b.jsx(ut,{label:"Nome",value:T.name,onChange:z=>A({...T,name:z.target.value}),required:!0}),b.jsx(ut,{label:"Preo (R$)",type:"number",value:T.price,onChange:z=>A({...T,price:z.target.value}),required:!0}),b.jsx(ut,{label:"Durao (min)",type:"number",value:T.duration,onChange:z=>A({...T,duration:z.target.value})}),b.jsx(zt,{className:"w-full",type:"submit",children:"Salvar"})]})})]})},AN=({db:s,user:e,appId:i,searchTerm:r})=>{const[l,u]=me.useState([]),[d,p]=me.useState(!1),[g,_]=me.useState(null),[T,A]=me.useState({name:"",category:"",price:"",stock:""});me.useEffect(()=>{if(!e)return;const $=Li(tn(s,"artifacts",i,"users",e.uid,"products"),ta("name")),ee=ri($,ue=>u(ue.docs.map(ge=>({id:ge.id,...ge.data()}))));return()=>ee()},[e,s,i]);const D=async $=>{$.preventDefault(),g?await p1(Vi(s,"artifacts",i,"users",e.uid,"products",g.id),T,{merge:!0}):await wo(tn(s,"artifacts",i,"users",e.uid,"products"),T),p(!1),_(null),A({name:"",category:"",price:"",stock:""})},z=$=>{_($),A($),p(!0)},F=()=>{_(null),A({name:"",category:"",price:"",stock:""}),p(!0)};return b.jsxs("div",{className:"space-y-4 flex flex-col",children:[b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Produtos & Estoque"}),b.jsx(zt,{onClick:F,icon:bh,children:"Novo Produto"})]}),b.jsx(ai,{className:"flex flex-col p-0",children:b.jsx(Ro,{columns:[{header:"Produto",accessor:"name",render:$=>b.jsx("span",{className:"font-bold",children:$.name})},{header:"Categoria",accessor:"category",render:$=>b.jsx("span",{className:"px-2 py-1 bg-gray-100 rounded text-xs text-gray-600 uppercase",children:$.category||"Geral"})},{header:"Preo",accessor:"price",render:$=>`R$ ${parseFloat($.price).toFixed(2)}`},{header:"Estoque",accessor:"stock",render:$=>b.jsxs("span",{className:`font-bold ${$.stock<5?"text-red-500":"text-gray-700"}`,children:[$.stock||0," un"]})}],data:l.filter($=>$.name?.toLowerCase().includes(r?.toLowerCase()||"")||$.category?.toLowerCase().includes(r?.toLowerCase()||"")),onDelete:async $=>await So(Vi(s,"artifacts",i,"users",e.uid,"products",$)),onRowClick:z})}),d&&b.jsx(cr,{title:g?"Editar Produto":"Adicionar Produto",onClose:()=>p(!1),children:b.jsxs("form",{onSubmit:D,className:"space-y-4",children:[b.jsx(ut,{label:"Nome do Produto",value:T.name,onChange:$=>A({...T,name:$.target.value}),required:!0}),b.jsx(ut,{label:"Categoria",value:T.category,onChange:$=>A({...T,category:$.target.value})}),b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsx(ut,{label:"Preo (R$)",type:"number",value:T.price,onChange:$=>A({...T,price:$.target.value}),required:!0}),b.jsx(ut,{label:"Estoque Atual",type:"number",value:T.stock,onChange:$=>A({...T,stock:$.target.value}),required:!0})]}),b.jsx(zt,{className:"w-full",type:"submit",children:"Salvar Produto"})]})})]})},SN=({db:s,user:e,appId:i,searchTerm:r})=>{const[l,u]=me.useState([]),[d,p]=me.useState(!1),[g,_]=me.useState({name:"",role:"",commission:""});me.useEffect(()=>{if(!e)return;const A=Li(tn(s,"artifacts",i,"users",e.uid,"professionals"),ta("name")),D=ri(A,z=>u(z.docs.map(F=>({id:F.id,...F.data()}))));return()=>D()},[e,s,i]);const T=async A=>{A.preventDefault(),await wo(tn(s,"artifacts",i,"users",e.uid,"professionals"),g),p(!1),_({name:"",role:"",commission:""})};return b.jsxs("div",{className:"space-y-4 flex flex-col",children:[b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Profissionais"}),b.jsx(zt,{onClick:()=>p(!0),icon:km,children:"Adicionar Profissional"})]}),b.jsx(ai,{className:"flex flex-col p-0",children:b.jsx(Ro,{columns:[{header:"Nome",accessor:"name",render:A=>b.jsx("span",{className:"font-bold",children:A.name})},{header:"Funo",accessor:"role",render:A=>b.jsx("span",{className:"text-gray-500",children:A.role})},{header:"Comisso (%)",accessor:"commission",render:A=>b.jsxs("span",{className:"bg-green-50 text-green-700 px-2 py-1 rounded text-xs font-bold",children:[A.commission,"%"]})}],data:l.filter(A=>A.name?.toLowerCase().includes(r?.toLowerCase()||"")||A.role?.toLowerCase().includes(r?.toLowerCase()||"")),onDelete:async A=>await So(Vi(s,"artifacts",i,"users",e.uid,"professionals",A))})}),d&&b.jsx(cr,{title:"Novo Profissional",onClose:()=>p(!1),children:b.jsxs("form",{onSubmit:T,className:"space-y-4",children:[b.jsx(ut,{label:"Nome",value:g.name,onChange:A=>_({...g,name:A.target.value}),required:!0}),b.jsx(ut,{label:"Funo",value:g.role,onChange:A=>_({...g,role:A.target.value})}),b.jsx(ut,{label:"Comisso (%)",type:"number",value:g.commission,onChange:A=>_({...g,commission:A.target.value})}),b.jsx(zt,{className:"w-full",type:"submit",children:"Salvar Equipe"})]})})]})},wN=({db:s,user:e,appId:i,transactions:r=[]})=>{const[l,u]=me.useState(null),[d,p]=me.useState([]),[g,_]=me.useState([]),[T,A]=me.useState([]);me.useEffect(()=>{if(!e)return;const W=Li(tn(s,"artifacts",i,"users",e.uid,"appointments")),he=ri(W,V=>p(V.docs.map(N=>N.data()))),Ee=Li(tn(s,"artifacts",i,"users",e.uid,"products")),R=ri(Ee,V=>_(V.docs.map(N=>N.data()))),w=Li(tn(s,"artifacts",i,"users",e.uid,"professionals")),C=ri(w,V=>A(V.docs.map(N=>N.data())));return()=>{he(),R(),C()}},[e,s,i]);const D=r.filter(W=>W.type==="income").reduce((W,he)=>W+parseFloat(he.amount),0),z=r.filter(W=>W.type==="expense").reduce((W,he)=>W+parseFloat(he.amount),0),F=Math.max(D,z,1),$=d.reduce((W,he)=>(W[he.client]=(W[he.client]||0)+1,W),{}),ee=Object.entries($).sort(([,W],[,he])=>he-W).slice(0,5),ue=g.filter(W=>parseInt(W.stock)<5).sort((W,he)=>parseInt(W.stock)-parseInt(he.stock)),ge=[{id:"daily",title:"Fluxo de Caixa",icon:q0,color:"bg-blue-100 text-blue-600",desc:"Comparativo de Receitas vs Despesas."},{id:"clients",title:"Melhores Clientes",icon:F0,color:"bg-green-100 text-green-600",desc:"Clientes que mais agendam ou compram."},{id:"products",title:"Alerta de Estoque",icon:rm,color:"bg-orange-100 text-orange-600",desc:"Produtos com estoque baixo."},{id:"commissions",title:"Comisses",icon:Vm,color:"bg-yellow-100 text-yellow-600",desc:"Taxas configuradas por profissional."}],te=()=>{window.print()};return b.jsxs("div",{className:"space-y-6",children:[b.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Relatrios"}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:ge.map(W=>b.jsxs("button",{onClick:()=>u(W),className:"bg-white p-4 rounded-xl border border-gray-200 hover:border-azuri-300 hover:shadow-md transition-all flex items-center gap-4 text-left active:scale-95 w-full",children:[b.jsx("div",{className:`p-3 rounded-full ${W.color}`,children:b.jsx(W.icon,{size:24})}),b.jsxs("div",{className:"flex-1",children:[b.jsx("h3",{className:"font-bold text-gray-800",children:W.title}),b.jsx("p",{className:"text-xs text-gray-400",children:"Clique para visualizar"})]}),b.jsx(pA,{className:"ml-auto text-gray-300",size:20})]},W.id))}),l&&b.jsx(cr,{title:l.title,onClose:()=>u(null),children:b.jsxs("div",{className:"flex flex-col items-center justify-center py-4 space-y-6 print:w-full print:h-full",children:[l.id==="daily"&&b.jsxs("div",{className:"w-full space-y-4",children:[b.jsxs("div",{className:"flex items-center justify-between text-sm font-bold text-gray-600",children:[b.jsx("span",{children:"Receitas"}),b.jsxs("span",{className:"text-green-600",children:["R$ ",D.toFixed(2)]})]}),b.jsx("div",{className:"w-full bg-gray-100 rounded-full h-4 overflow-hidden print:border print:border-gray-300",children:b.jsx("div",{className:"bg-green-500 h-full rounded-full transition-all duration-1000 print:bg-green-600",style:{width:`${D/F*100}%`}})}),b.jsxs("div",{className:"flex items-center justify-between text-sm font-bold text-gray-600",children:[b.jsx("span",{children:"Despesas"}),b.jsxs("span",{className:"text-red-600",children:["R$ ",z.toFixed(2)]})]}),b.jsx("div",{className:"w-full bg-gray-100 rounded-full h-4 overflow-hidden print:border print:border-gray-300",children:b.jsx("div",{className:"bg-red-500 h-full rounded-full transition-all duration-1000 print:bg-red-600",style:{width:`${z/F*100}%`}})}),b.jsx("div",{className:"pt-4 border-t border-gray-100 mt-4",children:b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsx("span",{className:"font-bold text-gray-800",children:"Saldo Total"}),b.jsxs("span",{className:`font-bold text-lg ${D-z>=0?"text-green-600":"text-red-600"}`,children:["R$ ",(D-z).toFixed(2)]})]})})]}),l.id==="clients"&&b.jsx("div",{className:"w-full space-y-2",children:ee.length>0?ee.map(([W,he],Ee)=>b.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg border border-gray-100",children:[b.jsxs("span",{className:"font-bold text-gray-700",children:["#",Ee+1," ",W]}),b.jsxs("span",{className:"bg-azuri-100 text-azuri-700 px-2 py-1 rounded-full text-xs font-bold",children:[he," agendamentos"]})]},Ee)):b.jsx("p",{className:"text-center text-gray-500",children:"Nenhum dado de cliente encontrado."})}),l.id==="products"&&b.jsx("div",{className:"w-full space-y-2",children:ue.length>0?ue.map((W,he)=>b.jsxs("div",{className:"flex justify-between items-center p-3 bg-red-50 rounded-lg border border-red-100",children:[b.jsx("span",{className:"font-bold text-red-700",children:W.name}),b.jsxs("span",{className:"bg-white text-red-600 px-2 py-1 rounded-full text-xs font-bold border border-red-200",children:[W.stock," un"]})]},he)):b.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg border border-green-100 text-green-700",children:[b.jsx(rm,{size:32,className:"mx-auto mb-2"}),b.jsx("p",{className:"font-bold",children:"Estoque Saudvel"}),b.jsx("p",{className:"text-xs",children:"Nenhum produto com estoque baixo."})]})}),l.id==="commissions"&&b.jsxs("div",{className:"w-full space-y-2",children:[T.length>0?T.map((W,he)=>b.jsxs("div",{className:"flex justify-between items-center p-3 bg-yellow-50 rounded-lg border border-yellow-100",children:[b.jsx("span",{className:"font-bold text-yellow-800",children:W.name}),b.jsxs("span",{className:"bg-white text-yellow-700 px-2 py-1 rounded-full text-xs font-bold border border-yellow-200",children:[W.commission||0,"%"]})]},he)):b.jsx("p",{className:"text-center text-gray-500",children:"Nenhum profissional cadastrado."}),b.jsx("p",{className:"text-xs text-gray-400 text-center mt-2",children:"Comisses baseadas na configurao de cada profissional."})]}),b.jsxs("div",{className:"flex gap-2 w-full",children:[b.jsx(zt,{onClick:te,variant:"secondary",icon:VA,className:"flex-1",children:"Imprimir / PDF"}),b.jsx(zt,{onClick:()=>u(null),variant:"primary",className:"flex-1",children:"Fechar"})]})]})})]})},RN=({db:s,user:e,appId:i,searchTerm:r})=>{const[l,u]=me.useState("today"),[d,p]=me.useState([]),[g,_]=me.useState([]),[T,A]=me.useState(!1),[D,z]=me.useState({client:"",service:"",time:"",notes:""}),F=Array.from({length:24},(te,W)=>W),$=new Date().toISOString().split("T")[0];me.useEffect(()=>{if(!(!e||!e.uid))if(l==="today"){const te=Li(tn(s,"artifacts",i,"users",e.uid,"appointments"),lN("date","==",$)),W=ri(te,he=>{const Ee=he.docs.map(R=>({id:R.id,...R.data()}));p(Ee)});return()=>W()}else{const te=Li(tn(s,"artifacts",i,"users",e.uid,"appointments"),ta("date","desc"),ta("time","asc")),W=ri(te,he=>{const Ee=he.docs.map(R=>({id:R.id,...R.data()}));_(Ee)});return()=>W()}},[e,s,i,$,l]);const ee=te=>{z({client:"",service:"",time:te,notes:""}),A(!0)},ue=async te=>{if(te.preventDefault(),!(!e||!e.uid))try{await wo(tn(s,"artifacts",i,"users",e.uid,"appointments"),{...D,date:$,createdAt:new Date().toISOString()}),A(!1)}catch(W){console.error("AgendaView: Erro ao salvar:",W),alert("Erro ao salvar agendamento.")}},ge=async te=>{if(confirm("Tem certeza que deseja cancelar este agendamento?"))try{await So(Vi(s,"artifacts",i,"users",e.uid,"appointments",te))}catch(W){console.error("AgendaView: Erro ao deletar:",W)}};return b.jsxs("div",{className:"space-y-4 flex flex-col",children:[b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Agenda"}),b.jsx("div",{className:"flex gap-2",children:b.jsxs("div",{className:"flex bg-gray-100 p-1 rounded-lg",children:[b.jsx("button",{onClick:()=>u("today"),className:`px-4 py-1.5 text-sm font-bold rounded-md transition-all ${l==="today"?"bg-white text-azuri-600 shadow-sm":"text-gray-500"}`,children:"Hoje"}),b.jsx("button",{onClick:()=>u("history"),className:`px-4 py-1.5 text-sm font-bold rounded-md transition-all ${l==="history"?"bg-white text-azuri-600 shadow-sm":"text-gray-500"}`,children:"Histrico"})]})})]}),l==="today"?b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"text-right text-azuri-600 font-bold text-sm mb-2",children:new Date().toLocaleDateString("pt-BR")}),b.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:F.map(te=>{const W=`${te}:00`,he=d.find(Ee=>Ee.time===W);return b.jsxs("div",{className:"flex border-b border-gray-100 last:border-0 min-h-[60px] group hover:bg-gray-50 transition-colors",children:[b.jsx("div",{className:"w-16 border-r border-gray-100 p-3 text-sm font-semibold text-gray-500 flex items-start justify-center",children:W}),b.jsx("div",{className:"flex-1 p-2 relative",children:he?b.jsxs("div",{className:"bg-azuri-100 border-l-4 border-azuri-500 rounded p-2 text-xs cursor-pointer hover:opacity-90 flex justify-between items-start",children:[b.jsxs("div",{children:[b.jsx("div",{className:"font-bold text-azuri-900",children:he.client}),b.jsx("div",{className:"text-azuri-700",children:he.service})]}),b.jsx("button",{onClick:()=>ge(he.id),className:"text-azuri-400 hover:text-red-500 p-1",children:b.jsx(qA,{size:14})})]}):b.jsx("button",{onClick:()=>ee(W),className:"opacity-0 group-hover:opacity-100 absolute inset-0 flex items-center justify-center w-full h-full",children:b.jsxs("span",{className:"bg-azuri-600 text-white text-xs px-3 py-1.5 rounded-full shadow-sm hover:bg-azuri-700 transition-colors flex items-center gap-1",children:[b.jsx(bh,{size:12})," Agendar"]})})})]},te)})})]}):b.jsx(ai,{className:"flex flex-col p-0",children:b.jsx(Ro,{columns:[{header:"Data",accessor:"date",render:te=>b.jsx("span",{className:"text-gray-600 font-medium",children:new Date(te.date).toLocaleDateString("pt-BR")})},{header:"Horrio",accessor:"time",render:te=>b.jsx("span",{className:"bg-gray-100 px-2 py-1 rounded text-xs font-bold text-gray-600",children:te.time})},{header:"Cliente",accessor:"client",render:te=>b.jsx("span",{className:"font-bold text-gray-800",children:te.client})},{header:"Servio",accessor:"service",render:te=>b.jsx("span",{className:"text-azuri-600",children:te.service})},{header:"Obs",accessor:"notes",render:te=>b.jsx("span",{className:"text-gray-400 text-xs italic truncate max-w-[150px] block",children:te.notes||"-"})}],data:g.filter(te=>te.client?.toLowerCase().includes(r?.toLowerCase()||"")||te.service?.toLowerCase().includes(r?.toLowerCase()||"")),onDelete:ge})}),T&&b.jsx(cr,{title:`Novo Agendamento - ${D.time}`,onClose:()=>A(!1),children:b.jsxs("form",{onSubmit:ue,className:"space-y-4",children:[b.jsx(ut,{label:"Nome do Cliente",value:D.client,onChange:te=>z({...D,client:te.target.value}),required:!0}),b.jsx(ut,{label:"Servio",value:D.service,onChange:te=>z({...D,service:te.target.value}),required:!0}),b.jsx(ut,{label:"Observaes",value:D.notes,onChange:te=>z({...D,notes:te.target.value})}),b.jsx(zt,{className:"w-full",type:"submit",children:"Confirmar Agendamento"})]})})]})},CN=({user:s,onSaveSettings:e})=>{const[i,r]=me.useState({businessName:s?.businessName||"",userName:s?.userName||"",email:s?.email||"",cardRateCredit:s?.cardRateCredit||0,cardRateDebit:s?.cardRateDebit||0});return b.jsxs("div",{className:"space-y-6",children:[b.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Configuraes"}),b.jsxs(ai,{children:[b.jsx("h3",{className:"font-bold text-gray-800 mb-4 border-b pb-2",children:"Dados da Empresa"}),b.jsx(ut,{label:"Nome da Empresa",value:i.businessName,onChange:l=>r({...i,businessName:l.target.value})}),b.jsx(ut,{label:"Seu Nome",value:i.userName,onChange:l=>r({...i,userName:l.target.value})})]}),b.jsx(zt,{onClick:()=>e(i),className:"w-full py-3",children:"Salvar Alteraes"})]})},IN=()=>b.jsxs("div",{className:"space-y-6",children:[b.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Central de Ajuda"}),b.jsxs(ai,{children:[b.jsx("h3",{className:"font-bold text-lg mb-4 text-azuri-800",children:"Guia do Sistema"}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-100",children:[b.jsx("h4",{className:"font-bold text-gray-800 mb-1 flex items-center gap-2",children:" Resumo"}),b.jsx("p",{className:"text-sm text-gray-600",children:"Viso geral com grficos de receitas, despesas e atalhos para as principais funes."})]}),b.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-100",children:[b.jsx("h4",{className:"font-bold text-gray-800 mb-1 flex items-center gap-2",children:" Agenda"}),b.jsx("p",{className:"text-sm text-gray-600",children:"Gerencie seus agendamentos. Visualize o dia atual ou o histrico completo."})]}),b.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-100",children:[b.jsx("h4",{className:"font-bold text-gray-800 mb-1 flex items-center gap-2",children:" Financeiro"}),b.jsx("p",{className:"text-sm text-gray-600",children:"Controle de caixa. Registre entradas e sadas e visualize o histrico de transaes."})]}),b.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-100",children:[b.jsx("h4",{className:"font-bold text-gray-800 mb-1 flex items-center gap-2",children:" Clientes"}),b.jsx("p",{className:"text-sm text-gray-600",children:"Cadastro completo de clientes com histrico e informaes de contato."})]}),b.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-100",children:[b.jsx("h4",{className:"font-bold text-gray-800 mb-1 flex items-center gap-2",children:" Produtos & Estoque"}),b.jsx("p",{className:"text-sm text-gray-600",children:"Gerencie seu inventrio, controle quantidades e valores de produtos."})]}),b.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-100",children:[b.jsx("h4",{className:"font-bold text-gray-800 mb-1 flex items-center gap-2",children:" Relatrios"}),b.jsx("p",{className:"text-sm text-gray-600",children:"Anlises detalhadas sobre faturamento, clientes mais ativos e comisses."})]})]})]})]});function xN(){const[s,e]=me.useState(null),[i,r]=me.useState(null),[l,u]=me.useState("dashboard"),[d,p]=me.useState(!1),[g,_]=me.useState([]),[T,A]=me.useState(!0),[D,z]=me.useState(""),F=s?{...s,...i}:null;me.useEffect(()=>{const W=U2(Gl,he=>{e(he),he||r(null),A(!1)});return()=>W()},[]),me.useEffect(()=>{if(!s||!s.uid)return;const W=Li(tn(Wn,"artifacts",ei,"users",s.uid,"transactions"),ta("date","desc")),he=ri(W,R=>{const w=R.docs.map(C=>({id:C.id,...C.data()}));w.sort((C,V)=>new Date(V.date)-new Date(C.date)),_(w)},R=>{console.error("Erro ao buscar transaes:",R)}),Ee=ri(Vi(Wn,"artifacts",ei,"users",s.uid,"settings","profile"),R=>{R.exists()&&r(R.data())});return()=>{he(),Ee()}},[s]);const $=async()=>{try{await j2(Gl)}catch(W){console.error("Erro ao sair:",W)}},ee=async W=>{s&&await wo(tn(Wn,"artifacts",ei,"users",s.uid,"transactions"),W)},ue=async W=>{s&&await So(Vi(Wn,"artifacts",ei,"users",s.uid,"transactions",W))},ge=async W=>{s&&(await p1(Vi(Wn,"artifacts",ei,"users",s.uid,"settings","profile"),W,{merge:!0}),alert("Salvo com sucesso!"))},te=[{id:"dashboard",label:"Resumo",icon:q0},{id:"agenda",label:"Agenda",icon:z0},{id:"financial",label:"Financeiro",icon:Vm},{id:"clients",label:"Clientes",icon:F0},{id:"services",label:"Servios & Pacotes",icon:PA},{id:"products",label:"Produtos & Estoque",icon:rm},{id:"professionals",label:"Profissionais",icon:hA},{id:"reports",label:"Relatrios",icon:H0},{id:"settings",label:"Configuraes",icon:am},{id:"help",label:"Ajuda",icon:_A}];return T?b.jsx("div",{className:"h-screen flex items-center justify-center text-azuri-600 font-bold",children:"Iniciando..."}):s?b.jsxs("div",{className:"flex h-screen bg-gray-50 font-sans overflow-hidden",children:[b.jsx("aside",{className:`fixed inset-y-0 left-0 z-30 w-64 bg-white border-r border-gray-200 transform transition-transform duration-300 lg:translate-x-0 ${d?"translate-x-0":"-translate-x-full"}`,children:b.jsxs("div",{className:"h-full flex flex-col",children:[b.jsx("div",{className:"h-16 flex items-center px-6 border-b border-gray-100 bg-azuri-600 text-white",children:b.jsxs("div",{className:"font-bold text-xl flex items-center gap-2",children:[b.jsx("div",{className:"bg-white text-azuri-600 p-1 rounded-md",children:b.jsx(am,{size:16})}),"Gearle"]})}),b.jsxs("div",{className:"p-4 bg-azuri-50 border-b border-azuri-100",children:[b.jsx("p",{className:"text-xs text-azuri-600 font-bold uppercase",children:"Logado como"}),b.jsx("p",{className:"font-bold text-gray-800 truncate text-sm",children:s?.businessName||s?.displayName||"Minha Empresa"})]}),b.jsx("nav",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:te.map(W=>b.jsxs("button",{onClick:()=>{u(W.id),p(!1)},className:`w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-lg transition-colors ${l===W.id?"bg-azuri-100 text-azuri-700":"text-gray-600 hover:bg-gray-50"}`,children:[b.jsx(W.icon,{size:18,className:l===W.id?"text-azuri-600":"text-gray-400"}),W.label]},W.id))}),b.jsxs("div",{className:"p-4 border-t border-gray-100 space-y-4",children:[b.jsxs("div",{className:"flex flex-col items-center justify-center opacity-50 hover:opacity-100 transition-opacity cursor-default",children:[b.jsx("img",{src:"/gsm.svg",alt:"GSM Logo",className:"h-6 w-auto mb-1"}),b.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Desenvolvido por GSM"})]}),b.jsxs("button",{onClick:$,className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-red-500 hover:bg-red-50 rounded-lg transition-colors",children:[b.jsx(RA,{size:18})," Sair da Conta"]})]})]})}),d&&b.jsx("div",{className:"fixed inset-0 bg-black/20 z-20 lg:hidden",onClick:()=>p(!1)}),b.jsxs("main",{className:"flex-1 flex flex-col h-full w-full lg:pl-64",children:[b.jsxs("header",{className:"h-16 bg-white border-b border-gray-200 flex items-center justify-between px-4 lg:px-8 sticky top-0 z-10",children:[b.jsx("button",{onClick:()=>p(!d),className:"lg:hidden p-2 text-gray-600",children:b.jsx(NA,{size:24})}),b.jsx("h1",{className:"text-lg font-bold text-gray-700 lg:hidden",children:te.find(W=>W.id===l)?.label}),b.jsxs("div",{className:"flex items-center gap-4 ml-auto",children:[b.jsxs("div",{className:"relative hidden md:block",children:[b.jsx(UA,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),b.jsx("input",{type:"text",placeholder:"Pesquisar...",value:D,onChange:W=>z(W.target.value),className:"pl-10 pr-4 py-2 bg-gray-100 border-transparent focus:bg-white focus:border-azuri-300 focus:ring-2 focus:ring-azuri-100 outline-none rounded-full text-sm transition-all w-64"})]}),b.jsx("div",{className:"w-8 h-8 bg-azuri-100 rounded-full flex items-center justify-center text-azuri-700 font-bold text-sm",children:F?.email?.[0]?.toUpperCase()||"G"})]})]}),b.jsx("div",{className:"flex-1 overflow-y-auto p-4 lg:p-8 bg-gray-50 pb-32",children:b.jsxs("div",{className:"max-w-5xl mx-auto",children:[l==="dashboard"&&b.jsx(vN,{transactions:g,onNavigate:u}),l==="financial"&&b.jsx(EN,{transactions:g,onAddTransaction:ee,onDeleteTransaction:ue,searchTerm:D}),l==="agenda"&&b.jsx(RN,{db:Wn,user:F,appId:ei,searchTerm:D}),l==="clients"&&b.jsx(TN,{db:Wn,user:F,appId:ei,searchTerm:D}),l==="services"&&b.jsx(bN,{db:Wn,user:F,appId:ei,searchTerm:D}),l==="products"&&b.jsx(AN,{db:Wn,user:F,appId:ei,searchTerm:D}),l==="professionals"&&b.jsx(SN,{db:Wn,user:F,appId:ei,searchTerm:D}),l==="reports"&&b.jsx(wN,{db:Wn,user:F,appId:ei,transactions:g}),l==="settings"&&b.jsx(CN,{user:F,onSaveSettings:ge}),l==="help"&&b.jsx(IN,{})]})})]})]}):b.jsx(_N,{})}nA.createRoot(document.getElementById("root")).render(b.jsx(me.StrictMode,{children:b.jsx(xN,{})}));
