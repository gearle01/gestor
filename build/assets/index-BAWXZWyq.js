(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Bd={exports:{}},Dl={};var $_;function KA(){if($_)return Dl;$_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:s,type:r,key:d,ref:l!==void 0?l:null,props:c}}return Dl.Fragment=e,Dl.jsx=i,Dl.jsxs=i,Dl}var Z_;function YA(){return Z_||(Z_=1,Bd.exports=KA()),Bd.exports}var b=YA(),qd={exports:{}},Te={};var J_;function XA(){if(J_)return Te;J_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),M=Symbol.iterator;function B(O){return O===null||typeof O!="object"?null:(O=M&&O[M]||O["@@iterator"],typeof O=="function"?O:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},te=Object.assign,J={};function ce(O,Y,ie){this.props=O,this.context=Y,this.refs=J,this.updater=ie||Z}ce.prototype.isReactComponent={},ce.prototype.setState=function(O,Y){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Y,"setState")},ce.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function ye(){}ye.prototype=ce.prototype;function W(O,Y,ie){this.props=O,this.context=Y,this.refs=J,this.updater=ie||Z}var oe=W.prototype=new ye;oe.constructor=W,te(oe,ce.prototype),oe.isPureReactComponent=!0;var Ie=Array.isArray;function we(){}var R={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function C(O,Y,ie){var ae=ie.ref;return{$$typeof:s,type:O,key:Y,ref:ae!==void 0?ae:null,props:ie}}function V(O,Y){return C(O.type,Y,O.props)}function D(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function L(O){var Y={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ie){return Y[ie]})}var I=/\/+/g;function rt(O,Y){return typeof O=="object"&&O!==null&&O.key!=null?L(""+O.key):Y.toString(36)}function Dt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(we,we):(O.status="pending",O.then(function(Y){O.status==="pending"&&(O.status="fulfilled",O.value=Y)},function(Y){O.status==="pending"&&(O.status="rejected",O.reason=Y)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function G(O,Y,ie,ae,ve){var Re=typeof O;(Re==="undefined"||Re==="boolean")&&(O=null);var Pe=!1;if(O===null)Pe=!0;else switch(Re){case"bigint":case"string":case"number":Pe=!0;break;case"object":switch(O.$$typeof){case s:case e:Pe=!0;break;case S:return Pe=O._init,G(Pe(O._payload),Y,ie,ae,ve)}}if(Pe)return ve=ve(O),Pe=ae===""?"."+rt(O,0):ae,Ie(ve)?(ie="",Pe!=null&&(ie=Pe.replace(I,"$&/")+"/"),G(ve,Y,ie,"",function(hr){return hr})):ve!=null&&(D(ve)&&(ve=V(ve,ie+(ve.key==null||O&&O.key===ve.key?"":(""+ve.key).replace(I,"$&/")+"/")+Pe)),Y.push(ve)),1;Pe=0;var Ot=ae===""?".":ae+":";if(Ie(O))for(var at=0;at<O.length;at++)ae=O[at],Re=Ot+rt(ae,at),Pe+=G(ae,Y,ie,Re,ve);else if(at=B(O),typeof at=="function")for(O=at.call(O),at=0;!(ae=O.next()).done;)ae=ae.value,Re=Ot+rt(ae,at++),Pe+=G(ae,Y,ie,Re,ve);else if(Re==="object"){if(typeof O.then=="function")return G(Dt(O),Y,ie,ae,ve);throw Y=String(O),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Pe}function ne(O,Y,ie){if(O==null)return O;var ae=[],ve=0;return G(O,ae,"","",function(Re){return Y.call(ie,Re,ve++)}),ae}function de(O){if(O._status===-1){var Y=O._result;Y=Y(),Y.then(function(ie){(O._status===0||O._status===-1)&&(O._status=1,O._result=ie)},function(ie){(O._status===0||O._status===-1)&&(O._status=2,O._result=ie)}),O._status===-1&&(O._status=0,O._result=Y)}if(O._status===1)return O._result.default;throw O._result}var ze=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Ge={map:ne,forEach:function(O,Y,ie){ne(O,function(){Y.apply(this,arguments)},ie)},count:function(O){var Y=0;return ne(O,function(){Y++}),Y},toArray:function(O){return ne(O,function(Y){return Y})||[]},only:function(O){if(!D(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Te.Activity=T,Te.Children=Ge,Te.Component=ce,Te.Fragment=i,Te.Profiler=l,Te.PureComponent=W,Te.StrictMode=r,Te.Suspense=g,Te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Te.__COMPILER_RUNTIME={__proto__:null,c:function(O){return R.H.useMemoCache(O)}},Te.cache=function(O){return function(){return O.apply(null,arguments)}},Te.cacheSignal=function(){return null},Te.cloneElement=function(O,Y,ie){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ae=te({},O.props),ve=O.key;if(Y!=null)for(Re in Y.key!==void 0&&(ve=""+Y.key),Y)!w.call(Y,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&Y.ref===void 0||(ae[Re]=Y[Re]);var Re=arguments.length-2;if(Re===1)ae.children=ie;else if(1<Re){for(var Pe=Array(Re),Ot=0;Ot<Re;Ot++)Pe[Ot]=arguments[Ot+2];ae.children=Pe}return C(O.type,ve,ae)},Te.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},Te.createElement=function(O,Y,ie){var ae,ve={},Re=null;if(Y!=null)for(ae in Y.key!==void 0&&(Re=""+Y.key),Y)w.call(Y,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(ve[ae]=Y[ae]);var Pe=arguments.length-2;if(Pe===1)ve.children=ie;else if(1<Pe){for(var Ot=Array(Pe),at=0;at<Pe;at++)Ot[at]=arguments[at+2];ve.children=Ot}if(O&&O.defaultProps)for(ae in Pe=O.defaultProps,Pe)ve[ae]===void 0&&(ve[ae]=Pe[ae]);return C(O,Re,ve)},Te.createRef=function(){return{current:null}},Te.forwardRef=function(O){return{$$typeof:p,render:O}},Te.isValidElement=D,Te.lazy=function(O){return{$$typeof:S,_payload:{_status:-1,_result:O},_init:de}},Te.memo=function(O,Y){return{$$typeof:y,type:O,compare:Y===void 0?null:Y}},Te.startTransition=function(O){var Y=R.T,ie={};R.T=ie;try{var ae=O(),ve=R.S;ve!==null&&ve(ie,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(we,ze)}catch(Re){ze(Re)}finally{Y!==null&&ie.types!==null&&(Y.types=ie.types),R.T=Y}},Te.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Te.use=function(O){return R.H.use(O)},Te.useActionState=function(O,Y,ie){return R.H.useActionState(O,Y,ie)},Te.useCallback=function(O,Y){return R.H.useCallback(O,Y)},Te.useContext=function(O){return R.H.useContext(O)},Te.useDebugValue=function(){},Te.useDeferredValue=function(O,Y){return R.H.useDeferredValue(O,Y)},Te.useEffect=function(O,Y){return R.H.useEffect(O,Y)},Te.useEffectEvent=function(O){return R.H.useEffectEvent(O)},Te.useId=function(){return R.H.useId()},Te.useImperativeHandle=function(O,Y,ie){return R.H.useImperativeHandle(O,Y,ie)},Te.useInsertionEffect=function(O,Y){return R.H.useInsertionEffect(O,Y)},Te.useLayoutEffect=function(O,Y){return R.H.useLayoutEffect(O,Y)},Te.useMemo=function(O,Y){return R.H.useMemo(O,Y)},Te.useOptimistic=function(O,Y){return R.H.useOptimistic(O,Y)},Te.useReducer=function(O,Y,ie){return R.H.useReducer(O,Y,ie)},Te.useRef=function(O){return R.H.useRef(O)},Te.useState=function(O){return R.H.useState(O)},Te.useSyncExternalStore=function(O,Y,ie){return R.H.useSyncExternalStore(O,Y,ie)},Te.useTransition=function(){return R.H.useTransition()},Te.version="19.2.0",Te}var W_;function Om(){return W_||(W_=1,qd.exports=XA()),qd.exports}var _e=Om(),Hd={exports:{}},Ol={},Fd={exports:{}},Gd={};var ev;function $A(){return ev||(ev=1,(function(s){function e(G,ne){var de=G.length;G.push(ne);e:for(;0<de;){var ze=de-1>>>1,Ge=G[ze];if(0<l(Ge,ne))G[ze]=ne,G[de]=Ge,de=ze;else break e}}function i(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var ne=G[0],de=G.pop();if(de!==ne){G[0]=de;e:for(var ze=0,Ge=G.length,O=Ge>>>1;ze<O;){var Y=2*(ze+1)-1,ie=G[Y],ae=Y+1,ve=G[ae];if(0>l(ie,de))ae<Ge&&0>l(ve,ie)?(G[ze]=ve,G[ae]=de,ze=ae):(G[ze]=ie,G[Y]=de,ze=Y);else if(ae<Ge&&0>l(ve,de))G[ze]=ve,G[ae]=de,ze=ae;else break e}}return ne}function l(G,ne){var de=G.sortIndex-ne.sortIndex;return de!==0?de:G.id-ne.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var g=[],y=[],S=1,T=null,M=3,B=!1,Z=!1,te=!1,J=!1,ce=typeof setTimeout=="function"?setTimeout:null,ye=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;function oe(G){for(var ne=i(y);ne!==null;){if(ne.callback===null)r(y);else if(ne.startTime<=G)r(y),ne.sortIndex=ne.expirationTime,e(g,ne);else break;ne=i(y)}}function Ie(G){if(te=!1,oe(G),!Z)if(i(g)!==null)Z=!0,we||(we=!0,L());else{var ne=i(y);ne!==null&&Dt(Ie,ne.startTime-G)}}var we=!1,R=-1,w=5,C=-1;function V(){return J?!0:!(s.unstable_now()-C<w)}function D(){if(J=!1,we){var G=s.unstable_now();C=G;var ne=!0;try{e:{Z=!1,te&&(te=!1,ye(R),R=-1),B=!0;var de=M;try{t:{for(oe(G),T=i(g);T!==null&&!(T.expirationTime>G&&V());){var ze=T.callback;if(typeof ze=="function"){T.callback=null,M=T.priorityLevel;var Ge=ze(T.expirationTime<=G);if(G=s.unstable_now(),typeof Ge=="function"){T.callback=Ge,oe(G),ne=!0;break t}T===i(g)&&r(g),oe(G)}else r(g);T=i(g)}if(T!==null)ne=!0;else{var O=i(y);O!==null&&Dt(Ie,O.startTime-G),ne=!1}}break e}finally{T=null,M=de,B=!1}ne=void 0}}finally{ne?L():we=!1}}}var L;if(typeof W=="function")L=function(){W(D)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,rt=I.port2;I.port1.onmessage=D,L=function(){rt.postMessage(null)}}else L=function(){ce(D,0)};function Dt(G,ne){R=ce(function(){G(s.unstable_now())},ne)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(G){G.callback=null},s.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<G?Math.floor(1e3/G):5},s.unstable_getCurrentPriorityLevel=function(){return M},s.unstable_next=function(G){switch(M){case 1:case 2:case 3:var ne=3;break;default:ne=M}var de=M;M=ne;try{return G()}finally{M=de}},s.unstable_requestPaint=function(){J=!0},s.unstable_runWithPriority=function(G,ne){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var de=M;M=G;try{return ne()}finally{M=de}},s.unstable_scheduleCallback=function(G,ne,de){var ze=s.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?ze+de:ze):de=ze,G){case 1:var Ge=-1;break;case 2:Ge=250;break;case 5:Ge=1073741823;break;case 4:Ge=1e4;break;default:Ge=5e3}return Ge=de+Ge,G={id:S++,callback:ne,priorityLevel:G,startTime:de,expirationTime:Ge,sortIndex:-1},de>ze?(G.sortIndex=de,e(y,G),i(g)===null&&G===i(y)&&(te?(ye(R),R=-1):te=!0,Dt(Ie,de-ze))):(G.sortIndex=Ge,e(g,G),Z||B||(Z=!0,we||(we=!0,L()))),G},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(G){var ne=M;return function(){var de=M;M=ne;try{return G.apply(this,arguments)}finally{M=de}}}})(Gd)),Gd}var tv;function ZA(){return tv||(tv=1,Fd.exports=$A()),Fd.exports}var Qd={exports:{}},$t={};var nv;function JA(){if(nv)return $t;nv=1;var s=Om();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)y+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(g,y,S){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:T==null?null:""+T,children:g,containerInfo:y,implementation:S}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return $t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,$t.createPortal=function(g,y){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(g,y,null,S)},$t.flushSync=function(g){var y=d.T,S=r.p;try{if(d.T=null,r.p=2,g)return g()}finally{d.T=y,r.p=S,r.d.f()}},$t.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(g,y))},$t.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},$t.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var S=y.as,T=p(S,y.crossOrigin),M=typeof y.integrity=="string"?y.integrity:void 0,B=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;S==="style"?r.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:T,integrity:M,fetchPriority:B}):S==="script"&&r.d.X(g,{crossOrigin:T,integrity:M,fetchPriority:B,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},$t.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var S=p(y.as,y.crossOrigin);r.d.M(g,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(g)},$t.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var S=y.as,T=p(S,y.crossOrigin);r.d.L(g,S,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},$t.preloadModule=function(g,y){if(typeof g=="string")if(y){var S=p(y.as,y.crossOrigin);r.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(g)},$t.requestFormReset=function(g){r.d.r(g)},$t.unstable_batchedUpdates=function(g,y){return g(y)},$t.useFormState=function(g,y,S){return d.H.useFormState(g,y,S)},$t.useFormStatus=function(){return d.H.useHostTransitionStatus()},$t.version="19.2.0",$t}var iv;function WA(){if(iv)return Qd.exports;iv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Qd.exports=JA(),Qd.exports}var sv;function eS(){if(sv)return Ol;sv=1;var s=ZA(),e=Om(),i=WA();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(c(t)!==t)throw Error(r(188))}function y(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,o=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return g(h),t;if(f===o)return g(h),n;f=f.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=f;else{for(var _=!1,E=h.child;E;){if(E===a){_=!0,a=h,o=f;break}if(E===o){_=!0,o=h,a=f;break}E=E.sibling}if(!_){for(E=f.child;E;){if(E===a){_=!0,a=f,o=h;break}if(E===o){_=!0,o=f,a=h;break}E=E.sibling}if(!_)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function S(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=S(t),n!==null)return n;t=t.sibling}return null}var T=Object.assign,M=Symbol.for("react.element"),B=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),te=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),ce=Symbol.for("react.profiler"),ye=Symbol.for("react.consumer"),W=Symbol.for("react.context"),oe=Symbol.for("react.forward_ref"),Ie=Symbol.for("react.suspense"),we=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function rt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case te:return"Fragment";case ce:return"Profiler";case J:return"StrictMode";case Ie:return"Suspense";case we:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Z:return"Portal";case W:return t.displayName||"Context";case ye:return(t._context.displayName||"Context")+".Consumer";case oe:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case R:return n=t.displayName||null,n!==null?n:rt(t.type)||"Memo";case w:n=t._payload,t=t._init;try{return rt(t(n))}catch{}}return null}var Dt=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},ze=[],Ge=-1;function O(t){return{current:t}}function Y(t){0>Ge||(t.current=ze[Ge],ze[Ge]=null,Ge--)}function ie(t,n){Ge++,ze[Ge]=t.current,t.current=n}var ae=O(null),ve=O(null),Re=O(null),Pe=O(null);function Ot(t,n){switch(ie(Re,n),ie(ve,t),ie(ae,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?v_(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=v_(n),t=E_(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Y(ae),ie(ae,t)}function at(){Y(ae),Y(ve),Y(Re)}function hr(t){t.memoizedState!==null&&ie(Pe,t);var n=ae.current,a=E_(n,t.type);n!==a&&(ie(ve,t),ie(ae,a))}function oa(t){ve.current===t&&(Y(ae),Y(ve)),Pe.current===t&&(Y(Pe),Cl._currentValue=de)}var la,ua;function ai(t){if(la===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);la=n&&n[1]||"",ua=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+la+t+ua}var Co=!1;function fr(t,n){if(!t||Co)return"";Co=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(H){var j=H}Reflect.construct(t,[],K)}else{try{K.call()}catch(H){j=H}t.call(K.prototype)}}else{try{throw Error()}catch(H){j=H}(K=t())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(H){if(H&&j&&typeof H.stack=="string")return[H.stack,j.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),_=f[0],E=f[1];if(_&&E){var N=_.split(`
`),z=E.split(`
`);for(h=o=0;o<N.length&&!N[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===N.length||h===z.length)for(o=N.length-1,h=z.length-1;1<=o&&0<=h&&N[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(N[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||N[o]!==z[h]){var F=`
`+N[o].replace(" at new "," at ");return t.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",t.displayName)),F}while(1<=o&&0<=h);break}}}finally{Co=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ai(a):""}function Io(t,n){switch(t.tag){case 26:case 27:case 5:return ai(t.type);case 16:return ai("Lazy");case 13:return t.child!==n&&n!==null?ai("Suspense Fallback"):ai("Suspense");case 19:return ai("SuspenseList");case 0:case 15:return fr(t.type,!1);case 11:return fr(t.type.render,!1);case 1:return fr(t.type,!0);case 31:return ai("Activity");default:return""}}function No(t){try{var n="",a=null;do n+=Io(t,a),a=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var _t=Object.prototype.hasOwnProperty,Mt=s.unstable_scheduleCallback,fs=s.unstable_cancelCallback,qh=s.unstable_shouldYield,du=s.unstable_requestPaint,nn=s.unstable_now,dr=s.unstable_getCurrentPriorityLevel,xo=s.unstable_ImmediatePriority,Do=s.unstable_UserBlockingPriority,ds=s.unstable_NormalPriority,Hh=s.unstable_LowPriority,mu=s.unstable_IdlePriority,pu=s.log,gu=s.unstable_setDisableYieldValue,Bn=null,jt=null;function wn(t){if(typeof pu=="function"&&gu(t),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode(Bn,t)}catch{}}var dt=Math.clz32?Math.clz32:_u,yu=Math.log,ca=Math.LN2;function _u(t){return t>>>=0,t===0?32:31-(yu(t)/ca|0)|0}var oi=256,mr=262144,vt=4194304;function li(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ui(t,n,a){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=li(o):(_&=E,_!==0?h=li(_):a||(a=E&~t,a!==0&&(h=li(a))))):(E=o&~f,E!==0?h=li(E):_!==0?h=li(_):a||(a=o&~t,a!==0&&(h=li(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function qn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Fh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vu(){var t=vt;return vt<<=1,(vt&62914560)===0&&(vt=4194304),t}function ci(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function pr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Gh(t,n,a,o,h,f){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,N=t.expirationTimes,z=t.hiddenUpdates;for(a=_&~a;0<a;){var F=31-dt(a),K=1<<F;E[F]=0,N[F]=-1;var j=z[F];if(j!==null)for(z[F]=null,F=0;F<j.length;F++){var H=j[F];H!==null&&(H.lane&=-536870913)}a&=~K}o!==0&&gr(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(_&~n))}function gr(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-dt(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function Oo(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var o=31-dt(a),h=1<<o;h&n|t[o]&n&&(t[o]|=n),a&=~h}}function Mo(t,n){var a=n&-n;return a=(a&42)!==0?1:yr(a),(a&(t.suspendedLanes|n))!==0?0:a}function yr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Li(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Eu(){var t=ne.p;return t!==0?t:(t=window.event,t===void 0?32:H_(t.type))}function Hn(t,n){var a=ne.p;try{return ne.p=t,n()}finally{ne.p=a}}var Fn=Math.random().toString(36).slice(2),Et="__reactFiber$"+Fn,Lt="__reactProps$"+Fn,hi="__reactContainer$"+Fn,ha="__reactEvents$"+Fn,Qh="__reactListeners$"+Fn,Tu="__reactHandles$"+Fn,Au="__reactResources$"+Fn,fi="__reactMarker$"+Fn;function fa(t){delete t[Et],delete t[Lt],delete t[ha],delete t[Qh],delete t[Tu]}function di(t){var n=t[Et];if(n)return n;for(var a=t.parentNode;a;){if(n=a[hi]||a[Et]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=C_(t);t!==null;){if(a=t[Et])return a;t=C_(t)}return n}t=a,a=t.parentNode}return null}function Rn(t){if(t=t[Et]||t[hi]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function mn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function mi(t){var n=t[Au];return n||(n=t[Au]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Tt(t){t[fi]=!0}var Vo=new Set,ko={};function pi(t,n){gi(t,n),gi(t+"Capture",n)}function gi(t,n){for(ko[t]=n,t=0;t<n.length;t++)Vo.add(n[t])}var Lo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Po={},Uo={};function Su(t){return _t.call(Uo,t)?!0:_t.call(Po,t)?!1:Lo.test(t)?Uo[t]=!0:(Po[t]=!0,!1)}function da(t,n,a){if(Su(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function pn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function At(t,n,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+o)}}function Pt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ms(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function zo(t,n,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,f.call(this,_)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Qe(t){if(!t._valueTracker){var n=ms(t)?"checked":"value";t._valueTracker=zo(t,n,""+t[n])}}function _r(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return t&&(o=ms(t)?t.checked?"true":"false":t.value),t=o,t!==a?(n.setValue(t),!0):!1}function yi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var vr=/[\n"\\]/g;function an(t){return t.replace(vr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ma(t,n,a,o,h,f,_,E){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),n!=null?_==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Pt(n)):t.value!==""+Pt(n)&&(t.value=""+Pt(n)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),n!=null?jo(t,_,Pt(n)):a!=null?jo(t,_,Pt(a)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Pt(E):t.removeAttribute("name")}function bu(t,n,a,o,h,f,_,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Qe(t);return}a=a!=null?""+Pt(a):"",n=n!=null?""+Pt(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=E?t.checked:!!o,t.defaultChecked=!!o,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Qe(t)}function jo(t,n,a){n==="number"&&yi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function ps(t,n,a,o){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&o&&(t[a].defaultSelected=!0)}else{for(a=""+Pt(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function wu(t,n,a){if(n!=null&&(n=""+Pt(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Pt(a):""}function gs(t,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(r(92));if(Dt(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=Pt(n),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),Qe(t)}function on(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Ru=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Bo(t,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,a):typeof a!="number"||a===0||Ru.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function qo(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&Bo(t,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Bo(t,f,n[f])}function pa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ys=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ga(t){return ys.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Gn(){}var Ho=null;function Cn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var _s=null,_i=null;function Er(t){var n=Rn(t);if(n&&(t=n.stateNode)){var a=t[Lt]||null;e:switch(t=n.stateNode,n.type){case"input":if(ma(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+an(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==t&&o.form===t.form){var h=o[Lt]||null;if(!h)throw Error(r(90));ma(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===t.form&&_r(o)}break e;case"textarea":wu(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&ps(t,!!a.multiple,n,!1)}}}var ya=!1;function vs(t,n,a){if(ya)return t(n,a);ya=!0;try{var o=t(n);return o}finally{if(ya=!1,(_s!==null||_i!==null)&&(Ec(),_s&&(n=_s,t=_i,_i=_s=null,Er(n),t)))for(n=0;n<t.length;n++)Er(t[n])}}function Qn(t,n){var a=t.stateNode;if(a===null)return null;var o=a[Lt]||null;if(o===null)return null;a=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var In=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tr=!1;if(In)try{var Xe={};Object.defineProperty(Xe,"passive",{get:function(){Tr=!0}}),window.addEventListener("test",Xe,Xe),window.removeEventListener("test",Xe,Xe)}catch{Tr=!1}var vi=null,Fo=null,Ar=null;function Go(){if(Ar)return Ar;var t,n=Fo,a=n.length,o,h="value"in vi?vi.value:vi.textContent,f=h.length;for(t=0;t<a&&n[t]===h[t];t++);var _=a-t;for(o=1;o<=_&&n[a-o]===h[f-o];o++);return Ar=h.slice(t,1<o?1-o:void 0)}function Sr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Pi(){return!0}function Kn(){return!1}function Bt(t){function n(a,o,h,f,_){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=_,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Pi:Kn,this.isPropagationStopped=Kn,this}return T(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Pi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Pi)},persist:function(){},isPersistent:Pi}),n}var Ui={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ei=Bt(Ui),Es=T({},Ui,{view:0,detail:0}),Qo=Bt(Es),Ts,_a,Ti,va=T({},Es,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:As,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ti&&(Ti&&t.type==="mousemove"?(Ts=t.screenX-Ti.screenX,_a=t.screenY-Ti.screenY):_a=Ts=0,Ti=t),Ts)},movementY:function(t){return"movementY"in t?t.movementY:_a}}),Ko=Bt(va),br=T({},va,{dataTransfer:0}),Iu=Bt(br),Nu=T({},Es,{relatedTarget:0}),wr=Bt(Nu),Yo=T({},Ui,{animationName:0,elapsedTime:0,pseudoElement:0}),xu=Bt(Yo),Ea=T({},Ui,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Du=Bt(Ea),Ou=T({},Ui,{data:0}),Ai=Bt(Ou),Mu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ku={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=ku[t])?!!n[t]:!1}function As(){return Lu}var sn=T({},Es,{key:function(t){if(t.key){var n=Mu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Sr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Vu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:As,charCode:function(t){return t.type==="keypress"?Sr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Sr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Pu=Bt(sn),Uu=T({},va,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zi=Bt(Uu),u=T({},Es,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:As}),m=Bt(u),v=T({},Ui,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Bt(v),P=T({},va,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q=Bt(P),ee=T({},Ui,{newState:0,oldState:0}),Se=Bt(ee),mt=[9,13,27,32],qe=In&&"CompositionEvent"in window,ot=null;In&&"documentMode"in document&&(ot=document.documentMode);var Nn=In&&"TextEvent"in window&&!ot,Si=In&&(!qe||ot&&8<ot&&11>=ot),Yn=" ",Xn=!1;function Rr(t,n){switch(t){case"keyup":return mt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ta(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Aa=!1;function y1(t,n){switch(t){case"compositionend":return Ta(n);case"keypress":return n.which!==32?null:(Xn=!0,Yn);case"textInput":return t=n.data,t===Yn&&Xn?null:t;default:return null}}function _1(t,n){if(Aa)return t==="compositionend"||!qe&&Rr(t,n)?(t=Go(),Ar=Fo=vi=null,Aa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Si&&n.locale!=="ko"?null:n.data;default:return null}}var v1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xp(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!v1[t.type]:n==="textarea"}function Dp(t,n,a,o){_s?_i?_i.push(o):_i=[o]:_s=o,n=Cc(n,"onChange"),0<n.length&&(a=new Ei("onChange","change",null,a,o),t.push({event:a,listeners:n}))}var Xo=null,$o=null;function E1(t){d_(t,0)}function zu(t){var n=mn(t);if(_r(n))return t}function Op(t,n){if(t==="change")return n}var Mp=!1;if(In){var Kh;if(In){var Yh="oninput"in document;if(!Yh){var Vp=document.createElement("div");Vp.setAttribute("oninput","return;"),Yh=typeof Vp.oninput=="function"}Kh=Yh}else Kh=!1;Mp=Kh&&(!document.documentMode||9<document.documentMode)}function kp(){Xo&&(Xo.detachEvent("onpropertychange",Lp),$o=Xo=null)}function Lp(t){if(t.propertyName==="value"&&zu($o)){var n=[];Dp(n,$o,t,Cn(t)),vs(E1,n)}}function T1(t,n,a){t==="focusin"?(kp(),Xo=n,$o=a,Xo.attachEvent("onpropertychange",Lp)):t==="focusout"&&kp()}function A1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return zu($o)}function S1(t,n){if(t==="click")return zu(n)}function b1(t,n){if(t==="input"||t==="change")return zu(n)}function w1(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var gn=typeof Object.is=="function"?Object.is:w1;function Zo(t,n){if(gn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!_t.call(n,h)||!gn(t[h],n[h]))return!1}return!0}function Pp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Up(t,n){var a=Pp(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=n&&o>=n)return{node:a,offset:n-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Pp(a)}}function zp(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?zp(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function jp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=yi(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=yi(t.document)}return n}function Xh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var R1=In&&"documentMode"in document&&11>=document.documentMode,Sa=null,$h=null,Jo=null,Zh=!1;function Bp(t,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Zh||Sa==null||Sa!==yi(o)||(o=Sa,"selectionStart"in o&&Xh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Jo&&Zo(Jo,o)||(Jo=o,o=Cc($h,"onSelect"),0<o.length&&(n=new Ei("onSelect","select",null,n,a),t.push({event:n,listeners:o}),n.target=Sa)))}function Cr(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var ba={animationend:Cr("Animation","AnimationEnd"),animationiteration:Cr("Animation","AnimationIteration"),animationstart:Cr("Animation","AnimationStart"),transitionrun:Cr("Transition","TransitionRun"),transitionstart:Cr("Transition","TransitionStart"),transitioncancel:Cr("Transition","TransitionCancel"),transitionend:Cr("Transition","TransitionEnd")},Jh={},qp={};In&&(qp=document.createElement("div").style,"AnimationEvent"in window||(delete ba.animationend.animation,delete ba.animationiteration.animation,delete ba.animationstart.animation),"TransitionEvent"in window||delete ba.transitionend.transition);function Ir(t){if(Jh[t])return Jh[t];if(!ba[t])return t;var n=ba[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in qp)return Jh[t]=n[a];return t}var Hp=Ir("animationend"),Fp=Ir("animationiteration"),Gp=Ir("animationstart"),C1=Ir("transitionrun"),I1=Ir("transitionstart"),N1=Ir("transitioncancel"),Qp=Ir("transitionend"),Kp=new Map,Wh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Wh.push("scrollEnd");function $n(t,n){Kp.set(t,n),pi(n,[t])}var ju=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},xn=[],wa=0,ef=0;function Bu(){for(var t=wa,n=ef=wa=0;n<t;){var a=xn[n];xn[n++]=null;var o=xn[n];xn[n++]=null;var h=xn[n];xn[n++]=null;var f=xn[n];if(xn[n++]=null,o!==null&&h!==null){var _=o.pending;_===null?h.next=h:(h.next=_.next,_.next=h),o.pending=h}f!==0&&Yp(a,h,f)}}function qu(t,n,a,o){xn[wa++]=t,xn[wa++]=n,xn[wa++]=a,xn[wa++]=o,ef|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function tf(t,n,a,o){return qu(t,n,a,o),Hu(t)}function Nr(t,n){return qu(t,null,null,n),Hu(t)}function Yp(t,n,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-dt(a),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=a|536870912),f):null}function Hu(t){if(50<El)throw El=0,hd=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ra={};function x1(t,n,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(t,n,a,o){return new x1(t,n,a,o)}function nf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ji(t,n){var a=t.alternate;return a===null?(a=yn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Xp(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Fu(t,n,a,o,h,f){var _=0;if(o=t,typeof t=="function")nf(t)&&(_=1);else if(typeof t=="string")_=kA(t,a,ae.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=yn(31,a,n,h),t.elementType=C,t.lanes=f,t;case te:return xr(a.children,h,f,n);case J:_=8,h|=24;break;case ce:return t=yn(12,a,n,h|2),t.elementType=ce,t.lanes=f,t;case Ie:return t=yn(13,a,n,h),t.elementType=Ie,t.lanes=f,t;case we:return t=yn(19,a,n,h),t.elementType=we,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case W:_=10;break e;case ye:_=9;break e;case oe:_=11;break e;case R:_=14;break e;case w:_=16,o=null;break e}_=29,a=Error(r(130,t===null?"null":typeof t,"")),o=null}return n=yn(_,a,n,h),n.elementType=t,n.type=o,n.lanes=f,n}function xr(t,n,a,o){return t=yn(7,t,o,n),t.lanes=a,t}function sf(t,n,a){return t=yn(6,t,null,n),t.lanes=a,t}function $p(t){var n=yn(18,null,null,0);return n.stateNode=t,n}function rf(t,n,a){return n=yn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Zp=new WeakMap;function Dn(t,n){if(typeof t=="object"&&t!==null){var a=Zp.get(t);return a!==void 0?a:(n={value:t,source:n,stack:No(n)},Zp.set(t,n),n)}return{value:t,source:n,stack:No(n)}}var Ca=[],Ia=0,Gu=null,Wo=0,On=[],Mn=0,Ss=null,bi=1,wi="";function Bi(t,n){Ca[Ia++]=Wo,Ca[Ia++]=Gu,Gu=t,Wo=n}function Jp(t,n,a){On[Mn++]=bi,On[Mn++]=wi,On[Mn++]=Ss,Ss=t;var o=bi;t=wi;var h=32-dt(o)-1;o&=~(1<<h),a+=1;var f=32-dt(n)+h;if(30<f){var _=h-h%5;f=(o&(1<<_)-1).toString(32),o>>=_,h-=_,bi=1<<32-dt(n)+h|a<<h|o,wi=f+t}else bi=1<<f|a<<h|o,wi=t}function af(t){t.return!==null&&(Bi(t,1),Jp(t,1,0))}function of(t){for(;t===Gu;)Gu=Ca[--Ia],Ca[Ia]=null,Wo=Ca[--Ia],Ca[Ia]=null;for(;t===Ss;)Ss=On[--Mn],On[Mn]=null,wi=On[--Mn],On[Mn]=null,bi=On[--Mn],On[Mn]=null}function Wp(t,n){On[Mn++]=bi,On[Mn++]=wi,On[Mn++]=Ss,bi=n.id,wi=n.overflow,Ss=t}var qt=null,nt=null,Le=!1,bs=null,Vn=!1,lf=Error(r(519));function ws(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw el(Dn(n,t)),lf}function eg(t){var n=t.stateNode,a=t.type,o=t.memoizedProps;switch(n[Et]=t,n[Lt]=o,a){case"dialog":xe("cancel",n),xe("close",n);break;case"iframe":case"object":case"embed":xe("load",n);break;case"video":case"audio":for(a=0;a<Al.length;a++)xe(Al[a],n);break;case"source":xe("error",n);break;case"img":case"image":case"link":xe("error",n),xe("load",n);break;case"details":xe("toggle",n);break;case"input":xe("invalid",n),bu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":xe("invalid",n);break;case"textarea":xe("invalid",n),gs(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||y_(n.textContent,a)?(o.popover!=null&&(xe("beforetoggle",n),xe("toggle",n)),o.onScroll!=null&&xe("scroll",n),o.onScrollEnd!=null&&xe("scrollend",n),o.onClick!=null&&(n.onclick=Gn),n=!0):n=!1,n||ws(t,!0)}function tg(t){for(qt=t.return;qt;)switch(qt.tag){case 5:case 31:case 13:Vn=!1;return;case 27:case 3:Vn=!0;return;default:qt=qt.return}}function Na(t){if(t!==qt)return!1;if(!Le)return tg(t),Le=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Rd(t.type,t.memoizedProps)),a=!a),a&&nt&&ws(t),tg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));nt=R_(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));nt=R_(t)}else n===27?(n=nt,zs(t.type)?(t=Dd,Dd=null,nt=t):nt=n):nt=qt?Ln(t.stateNode.nextSibling):null;return!0}function Dr(){nt=qt=null,Le=!1}function uf(){var t=bs;return t!==null&&(hn===null?hn=t:hn.push.apply(hn,t),bs=null),t}function el(t){bs===null?bs=[t]:bs.push(t)}var cf=O(null),Or=null,qi=null;function Rs(t,n,a){ie(cf,n._currentValue),n._currentValue=a}function Hi(t){t._currentValue=cf.current,Y(cf)}function hf(t,n,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===a)break;t=t.return}}function ff(t,n,a,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var _=h.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=h;for(var N=0;N<n.length;N++)if(E.context===n[N]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),hf(f.return,a,t),o||(_=null);break e}f=E.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(r(341));_.lanes|=a,f=_.alternate,f!==null&&(f.lanes|=a),hf(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function xa(t,n,a,o){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var E=h.type;gn(h.pendingProps.value,_.value)||(t!==null?t.push(E):t=[E])}}else if(h===Pe.current){if(_=h.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Cl):t=[Cl])}h=h.return}t!==null&&ff(n,t,a,o),n.flags|=262144}function Qu(t){for(t=t.firstContext;t!==null;){if(!gn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Mr(t){Or=t,qi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ht(t){return ng(Or,t)}function Ku(t,n){return Or===null&&Mr(t),ng(t,n)}function ng(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},qi===null){if(t===null)throw Error(r(308));qi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else qi=qi.next=n;return a}var D1=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},O1=s.unstable_scheduleCallback,M1=s.unstable_NormalPriority,St={$$typeof:W,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function df(){return{controller:new D1,data:new Map,refCount:0}}function tl(t){t.refCount--,t.refCount===0&&O1(M1,function(){t.controller.abort()})}var nl=null,mf=0,Da=0,Oa=null;function V1(t,n){if(nl===null){var a=nl=[];mf=0,Da=yd(),Oa={status:"pending",value:void 0,then:function(o){a.push(o)}}}return mf++,n.then(ig,ig),n}function ig(){if(--mf===0&&nl!==null){Oa!==null&&(Oa.status="fulfilled");var t=nl;nl=null,Da=0,Oa=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function k1(t,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var sg=G.S;G.S=function(t,n){By=nn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&V1(t,n),sg!==null&&sg(t,n)};var Vr=O(null);function pf(){var t=Vr.current;return t!==null?t:We.pooledCache}function Yu(t,n){n===null?ie(Vr,Vr.current):ie(Vr,n.pool)}function rg(){var t=pf();return t===null?null:{parent:St._currentValue,pool:t}}var Ma=Error(r(460)),gf=Error(r(474)),Xu=Error(r(542)),$u={then:function(){}};function ag(t){return t=t.status,t==="fulfilled"||t==="rejected"}function og(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(Gn,Gn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,ug(t),t;default:if(typeof n.status=="string")n.then(Gn,Gn);else{if(t=We,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,ug(t),t}throw Lr=n,Ma}}function kr(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Lr=a,Ma):a}}var Lr=null;function lg(){if(Lr===null)throw Error(r(459));var t=Lr;return Lr=null,t}function ug(t){if(t===Ma||t===Xu)throw Error(r(483))}var Va=null,il=0;function Zu(t){var n=il;return il+=1,Va===null&&(Va=[]),og(Va,t,n)}function sl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Ju(t,n){throw n.$$typeof===M?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function cg(t){function n(k,x){if(t){var U=k.deletions;U===null?(k.deletions=[x],k.flags|=16):U.push(x)}}function a(k,x){if(!t)return null;for(;x!==null;)n(k,x),x=x.sibling;return null}function o(k){for(var x=new Map;k!==null;)k.key!==null?x.set(k.key,k):x.set(k.index,k),k=k.sibling;return x}function h(k,x){return k=ji(k,x),k.index=0,k.sibling=null,k}function f(k,x,U){return k.index=U,t?(U=k.alternate,U!==null?(U=U.index,U<x?(k.flags|=67108866,x):U):(k.flags|=67108866,x)):(k.flags|=1048576,x)}function _(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function E(k,x,U,Q){return x===null||x.tag!==6?(x=sf(U,k.mode,Q),x.return=k,x):(x=h(x,U),x.return=k,x)}function N(k,x,U,Q){var he=U.type;return he===te?F(k,x,U.props.children,Q,U.key):x!==null&&(x.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===w&&kr(he)===x.type)?(x=h(x,U.props),sl(x,U),x.return=k,x):(x=Fu(U.type,U.key,U.props,null,k.mode,Q),sl(x,U),x.return=k,x)}function z(k,x,U,Q){return x===null||x.tag!==4||x.stateNode.containerInfo!==U.containerInfo||x.stateNode.implementation!==U.implementation?(x=rf(U,k.mode,Q),x.return=k,x):(x=h(x,U.children||[]),x.return=k,x)}function F(k,x,U,Q,he){return x===null||x.tag!==7?(x=xr(U,k.mode,Q,he),x.return=k,x):(x=h(x,U),x.return=k,x)}function K(k,x,U){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=sf(""+x,k.mode,U),x.return=k,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case B:return U=Fu(x.type,x.key,x.props,null,k.mode,U),sl(U,x),U.return=k,U;case Z:return x=rf(x,k.mode,U),x.return=k,x;case w:return x=kr(x),K(k,x,U)}if(Dt(x)||L(x))return x=xr(x,k.mode,U,null),x.return=k,x;if(typeof x.then=="function")return K(k,Zu(x),U);if(x.$$typeof===W)return K(k,Ku(k,x),U);Ju(k,x)}return null}function j(k,x,U,Q){var he=x!==null?x.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return he!==null?null:E(k,x,""+U,Q);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case B:return U.key===he?N(k,x,U,Q):null;case Z:return U.key===he?z(k,x,U,Q):null;case w:return U=kr(U),j(k,x,U,Q)}if(Dt(U)||L(U))return he!==null?null:F(k,x,U,Q,null);if(typeof U.then=="function")return j(k,x,Zu(U),Q);if(U.$$typeof===W)return j(k,x,Ku(k,U),Q);Ju(k,U)}return null}function H(k,x,U,Q,he){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return k=k.get(U)||null,E(x,k,""+Q,he);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case B:return k=k.get(Q.key===null?U:Q.key)||null,N(x,k,Q,he);case Z:return k=k.get(Q.key===null?U:Q.key)||null,z(x,k,Q,he);case w:return Q=kr(Q),H(k,x,U,Q,he)}if(Dt(Q)||L(Q))return k=k.get(U)||null,F(x,k,Q,he,null);if(typeof Q.then=="function")return H(k,x,U,Zu(Q),he);if(Q.$$typeof===W)return H(k,x,U,Ku(x,Q),he);Ju(x,Q)}return null}function le(k,x,U,Q){for(var he=null,je=null,ue=x,Ce=x=0,Oe=null;ue!==null&&Ce<U.length;Ce++){ue.index>Ce?(Oe=ue,ue=null):Oe=ue.sibling;var Be=j(k,ue,U[Ce],Q);if(Be===null){ue===null&&(ue=Oe);break}t&&ue&&Be.alternate===null&&n(k,ue),x=f(Be,x,Ce),je===null?he=Be:je.sibling=Be,je=Be,ue=Oe}if(Ce===U.length)return a(k,ue),Le&&Bi(k,Ce),he;if(ue===null){for(;Ce<U.length;Ce++)ue=K(k,U[Ce],Q),ue!==null&&(x=f(ue,x,Ce),je===null?he=ue:je.sibling=ue,je=ue);return Le&&Bi(k,Ce),he}for(ue=o(ue);Ce<U.length;Ce++)Oe=H(ue,k,Ce,U[Ce],Q),Oe!==null&&(t&&Oe.alternate!==null&&ue.delete(Oe.key===null?Ce:Oe.key),x=f(Oe,x,Ce),je===null?he=Oe:je.sibling=Oe,je=Oe);return t&&ue.forEach(function(Fs){return n(k,Fs)}),Le&&Bi(k,Ce),he}function me(k,x,U,Q){if(U==null)throw Error(r(151));for(var he=null,je=null,ue=x,Ce=x=0,Oe=null,Be=U.next();ue!==null&&!Be.done;Ce++,Be=U.next()){ue.index>Ce?(Oe=ue,ue=null):Oe=ue.sibling;var Fs=j(k,ue,Be.value,Q);if(Fs===null){ue===null&&(ue=Oe);break}t&&ue&&Fs.alternate===null&&n(k,ue),x=f(Fs,x,Ce),je===null?he=Fs:je.sibling=Fs,je=Fs,ue=Oe}if(Be.done)return a(k,ue),Le&&Bi(k,Ce),he;if(ue===null){for(;!Be.done;Ce++,Be=U.next())Be=K(k,Be.value,Q),Be!==null&&(x=f(Be,x,Ce),je===null?he=Be:je.sibling=Be,je=Be);return Le&&Bi(k,Ce),he}for(ue=o(ue);!Be.done;Ce++,Be=U.next())Be=H(ue,k,Ce,Be.value,Q),Be!==null&&(t&&Be.alternate!==null&&ue.delete(Be.key===null?Ce:Be.key),x=f(Be,x,Ce),je===null?he=Be:je.sibling=Be,je=Be);return t&&ue.forEach(function(QA){return n(k,QA)}),Le&&Bi(k,Ce),he}function Je(k,x,U,Q){if(typeof U=="object"&&U!==null&&U.type===te&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case B:e:{for(var he=U.key;x!==null;){if(x.key===he){if(he=U.type,he===te){if(x.tag===7){a(k,x.sibling),Q=h(x,U.props.children),Q.return=k,k=Q;break e}}else if(x.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===w&&kr(he)===x.type){a(k,x.sibling),Q=h(x,U.props),sl(Q,U),Q.return=k,k=Q;break e}a(k,x);break}else n(k,x);x=x.sibling}U.type===te?(Q=xr(U.props.children,k.mode,Q,U.key),Q.return=k,k=Q):(Q=Fu(U.type,U.key,U.props,null,k.mode,Q),sl(Q,U),Q.return=k,k=Q)}return _(k);case Z:e:{for(he=U.key;x!==null;){if(x.key===he)if(x.tag===4&&x.stateNode.containerInfo===U.containerInfo&&x.stateNode.implementation===U.implementation){a(k,x.sibling),Q=h(x,U.children||[]),Q.return=k,k=Q;break e}else{a(k,x);break}else n(k,x);x=x.sibling}Q=rf(U,k.mode,Q),Q.return=k,k=Q}return _(k);case w:return U=kr(U),Je(k,x,U,Q)}if(Dt(U))return le(k,x,U,Q);if(L(U)){if(he=L(U),typeof he!="function")throw Error(r(150));return U=he.call(U),me(k,x,U,Q)}if(typeof U.then=="function")return Je(k,x,Zu(U),Q);if(U.$$typeof===W)return Je(k,x,Ku(k,U),Q);Ju(k,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,x!==null&&x.tag===6?(a(k,x.sibling),Q=h(x,U),Q.return=k,k=Q):(a(k,x),Q=sf(U,k.mode,Q),Q.return=k,k=Q),_(k)):a(k,x)}return function(k,x,U,Q){try{il=0;var he=Je(k,x,U,Q);return Va=null,he}catch(ue){if(ue===Ma||ue===Xu)throw ue;var je=yn(29,ue,null,k.mode);return je.lanes=Q,je.return=k,je}finally{}}}var Pr=cg(!0),hg=cg(!1),Cs=!1;function yf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _f(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Is(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ns(t,n,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(He&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Hu(t),Yp(t,null,a),n}return qu(t,o,n,a),Hu(t)}function rl(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,Oo(t,a)}}function vf(t,n){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=_:f=f.next=_,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var Ef=!1;function al(){if(Ef){var t=Oa;if(t!==null)throw t}}function ol(t,n,a,o){Ef=!1;var h=t.updateQueue;Cs=!1;var f=h.firstBaseUpdate,_=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var N=E,z=N.next;N.next=null,_===null?f=z:_.next=z,_=N;var F=t.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==_&&(E===null?F.firstBaseUpdate=z:E.next=z,F.lastBaseUpdate=N))}if(f!==null){var K=h.baseState;_=0,F=z=N=null,E=f;do{var j=E.lane&-536870913,H=j!==E.lane;if(H?(De&j)===j:(o&j)===j){j!==0&&j===Da&&(Ef=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var le=t,me=E;j=n;var Je=a;switch(me.tag){case 1:if(le=me.payload,typeof le=="function"){K=le.call(Je,K,j);break e}K=le;break e;case 3:le.flags=le.flags&-65537|128;case 0:if(le=me.payload,j=typeof le=="function"?le.call(Je,K,j):le,j==null)break e;K=T({},K,j);break e;case 2:Cs=!0}}j=E.callback,j!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[j]:H.push(j))}else H={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(z=F=H,N=K):F=F.next=H,_|=j;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);F===null&&(N=K),h.baseState=N,h.firstBaseUpdate=z,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),Vs|=_,t.lanes=_,t.memoizedState=K}}function fg(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function dg(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)fg(a[t],n)}var ka=O(null),Wu=O(0);function mg(t,n){t=Ji,ie(Wu,t),ie(ka,n),Ji=t|n.baseLanes}function Tf(){ie(Wu,Ji),ie(ka,ka.current)}function Af(){Ji=Wu.current,Y(ka),Y(Wu)}var _n=O(null),kn=null;function xs(t){var n=t.alternate;ie(pt,pt.current&1),ie(_n,t),kn===null&&(n===null||ka.current!==null||n.memoizedState!==null)&&(kn=t)}function Sf(t){ie(pt,pt.current),ie(_n,t),kn===null&&(kn=t)}function pg(t){t.tag===22?(ie(pt,pt.current),ie(_n,t),kn===null&&(kn=t)):Ds()}function Ds(){ie(pt,pt.current),ie(_n,_n.current)}function vn(t){Y(_n),kn===t&&(kn=null),Y(pt)}var pt=O(0);function ec(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Nd(a)||xd(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Fi=0,be=null,$e=null,bt=null,tc=!1,La=!1,Ur=!1,nc=0,ll=0,Pa=null,L1=0;function ht(){throw Error(r(321))}function bf(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!gn(t[a],n[a]))return!1;return!0}function wf(t,n,a,o,h,f){return Fi=f,be=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=t===null||t.memoizedState===null?Jg:jf,Ur=!1,f=a(o,h),Ur=!1,La&&(f=yg(n,a,o,h)),gg(t),f}function gg(t){G.H=hl;var n=$e!==null&&$e.next!==null;if(Fi=0,bt=$e=be=null,tc=!1,ll=0,Pa=null,n)throw Error(r(300));t===null||wt||(t=t.dependencies,t!==null&&Qu(t)&&(wt=!0))}function yg(t,n,a,o){be=t;var h=0;do{if(La&&(Pa=null),ll=0,La=!1,25<=h)throw Error(r(301));if(h+=1,bt=$e=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=Wg,f=n(a,o)}while(La);return f}function P1(){var t=G.H,n=t.useState()[0];return n=typeof n.then=="function"?ul(n):n,t=t.useState()[0],($e!==null?$e.memoizedState:null)!==t&&(be.flags|=1024),n}function Rf(){var t=nc!==0;return nc=0,t}function Cf(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function If(t){if(tc){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}tc=!1}Fi=0,bt=$e=be=null,La=!1,ll=nc=0,Pa=null}function rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?be.memoizedState=bt=t:bt=bt.next=t,bt}function gt(){if($e===null){var t=be.alternate;t=t!==null?t.memoizedState:null}else t=$e.next;var n=bt===null?be.memoizedState:bt.next;if(n!==null)bt=n,$e=t;else{if(t===null)throw be.alternate===null?Error(r(467)):Error(r(310));$e=t,t={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},bt===null?be.memoizedState=bt=t:bt=bt.next=t}return bt}function ic(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ul(t){var n=ll;return ll+=1,Pa===null&&(Pa=[]),t=og(Pa,t,n),n=be,(bt===null?n.memoizedState:bt.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?Jg:jf),t}function sc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ul(t);if(t.$$typeof===W)return Ht(t)}throw Error(r(438,String(t)))}function Nf(t){var n=null,a=be.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=be.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=ic(),be.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),o=0;o<t;o++)a[o]=V;return n.index++,a}function Gi(t,n){return typeof n=="function"?n(t):n}function rc(t){var n=gt();return xf(n,$e,t)}function xf(t,n,a){var o=t.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var _=h.next;h.next=f.next,f.next=_}n.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var E=_=null,N=null,z=n,F=!1;do{var K=z.lane&-536870913;if(K!==z.lane?(De&K)===K:(Fi&K)===K){var j=z.revertLane;if(j===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),K===Da&&(F=!0);else if((Fi&j)===j){z=z.next,j===Da&&(F=!0);continue}else K={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},N===null?(E=N=K,_=f):N=N.next=K,be.lanes|=j,Vs|=j;K=z.action,Ur&&a(f,K),f=z.hasEagerState?z.eagerState:a(f,K)}else j={lane:K,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},N===null?(E=N=j,_=f):N=N.next=j,be.lanes|=K,Vs|=K;z=z.next}while(z!==null&&z!==n);if(N===null?_=f:N.next=E,!gn(f,t.memoizedState)&&(wt=!0,F&&(a=Oa,a!==null)))throw a;t.memoizedState=f,t.baseState=_,t.baseQueue=N,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Df(t){var n=gt(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var o=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do f=t(f,_.action),_=_.next;while(_!==h);gn(f,n.memoizedState)||(wt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,o]}function _g(t,n,a){var o=be,h=gt(),f=Le;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var _=!gn(($e||h).memoizedState,a);if(_&&(h.memoizedState=a,wt=!0),h=h.queue,Vf(Tg.bind(null,o,h,t),[t]),h.getSnapshot!==n||_||bt!==null&&bt.memoizedState.tag&1){if(o.flags|=2048,Ua(9,{destroy:void 0},Eg.bind(null,o,h,a,n),null),We===null)throw Error(r(349));f||(Fi&127)!==0||vg(o,n,a)}return a}function vg(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=be.updateQueue,n===null?(n=ic(),be.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Eg(t,n,a,o){n.value=a,n.getSnapshot=o,Ag(n)&&Sg(t)}function Tg(t,n,a){return a(function(){Ag(n)&&Sg(t)})}function Ag(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!gn(t,a)}catch{return!0}}function Sg(t){var n=Nr(t,2);n!==null&&fn(n,t,2)}function Of(t){var n=rn();if(typeof t=="function"){var a=t;if(t=a(),Ur){wn(!0);try{a()}finally{wn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:t},n}function bg(t,n,a,o){return t.baseState=a,xf(t,$e,typeof o=="function"?o:Gi)}function U1(t,n,a,o,h){if(lc(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){f.listeners.push(_)}};G.T!==null?a(!0):f.isTransition=!1,o(f),a=n.pending,a===null?(f.next=n.pending=f,wg(n,f)):(f.next=a.next,n.pending=a.next=f)}}function wg(t,n){var a=n.action,o=n.payload,h=t.state;if(n.isTransition){var f=G.T,_={};G.T=_;try{var E=a(h,o),N=G.S;N!==null&&N(_,E),Rg(t,n,E)}catch(z){Mf(t,n,z)}finally{f!==null&&_.types!==null&&(f.types=_.types),G.T=f}}else try{f=a(h,o),Rg(t,n,f)}catch(z){Mf(t,n,z)}}function Rg(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Cg(t,n,o)},function(o){return Mf(t,n,o)}):Cg(t,n,a)}function Cg(t,n,a){n.status="fulfilled",n.value=a,Ig(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,wg(t,a)))}function Mf(t,n,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,Ig(n),n=n.next;while(n!==o)}t.action=null}function Ig(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Ng(t,n){return n}function xg(t,n){if(Le){var a=We.formState;if(a!==null){e:{var o=be;if(Le){if(nt){t:{for(var h=nt,f=Vn;h.nodeType!==8;){if(!f){h=null;break t}if(h=Ln(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){nt=Ln(h.nextSibling),o=h.data==="F!";break e}}ws(o)}o=!1}o&&(n=a[0])}}return a=rn(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ng,lastRenderedState:n},a.queue=o,a=Xg.bind(null,be,o),o.dispatch=a,o=Of(!1),f=zf.bind(null,be,!1,o.queue),o=rn(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,a=U1.bind(null,be,h,f,a),h.dispatch=a,o.memoizedState=t,[n,a,!1]}function Dg(t){var n=gt();return Og(n,$e,t)}function Og(t,n,a){if(n=xf(t,n,Ng)[0],t=rc(Gi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=ul(n)}catch(_){throw _===Ma?Xu:_}else o=n;n=gt();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(be.flags|=2048,Ua(9,{destroy:void 0},z1.bind(null,h,a),null)),[o,f,t]}function z1(t,n){t.action=n}function Mg(t){var n=gt(),a=$e;if(a!==null)return Og(n,a,t);gt(),n=n.memoizedState,a=gt();var o=a.queue.dispatch;return a.memoizedState=t,[n,o,!1]}function Ua(t,n,a,o){return t={tag:t,create:a,deps:o,inst:n,next:null},n=be.updateQueue,n===null&&(n=ic(),be.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,n.lastEffect=t),t}function Vg(){return gt().memoizedState}function ac(t,n,a,o){var h=rn();be.flags|=t,h.memoizedState=Ua(1|n,{destroy:void 0},a,o===void 0?null:o)}function oc(t,n,a,o){var h=gt();o=o===void 0?null:o;var f=h.memoizedState.inst;$e!==null&&o!==null&&bf(o,$e.memoizedState.deps)?h.memoizedState=Ua(n,f,a,o):(be.flags|=t,h.memoizedState=Ua(1|n,f,a,o))}function kg(t,n){ac(8390656,8,t,n)}function Vf(t,n){oc(2048,8,t,n)}function j1(t){be.flags|=4;var n=be.updateQueue;if(n===null)n=ic(),be.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function Lg(t){var n=gt().memoizedState;return j1({ref:n,nextImpl:t}),function(){if((He&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function Pg(t,n){return oc(4,2,t,n)}function Ug(t,n){return oc(4,4,t,n)}function zg(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function jg(t,n,a){a=a!=null?a.concat([t]):null,oc(4,4,zg.bind(null,n,t),a)}function kf(){}function Bg(t,n){var a=gt();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&bf(n,o[1])?o[0]:(a.memoizedState=[t,n],t)}function qg(t,n){var a=gt();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&bf(n,o[1]))return o[0];if(o=t(),Ur){wn(!0);try{t()}finally{wn(!1)}}return a.memoizedState=[o,n],o}function Lf(t,n,a){return a===void 0||(Fi&1073741824)!==0&&(De&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=Hy(),be.lanes|=t,Vs|=t,a)}function Hg(t,n,a,o){return gn(a,n)?a:ka.current!==null?(t=Lf(t,a,o),gn(t,n)||(wt=!0),t):(Fi&42)===0||(Fi&1073741824)!==0&&(De&261930)===0?(wt=!0,t.memoizedState=a):(t=Hy(),be.lanes|=t,Vs|=t,n)}function Fg(t,n,a,o,h){var f=ne.p;ne.p=f!==0&&8>f?f:8;var _=G.T,E={};G.T=E,zf(t,!1,n,a);try{var N=h(),z=G.S;if(z!==null&&z(E,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var F=k1(N,o);cl(t,n,F,An(t))}else cl(t,n,o,An(t))}catch(K){cl(t,n,{then:function(){},status:"rejected",reason:K},An())}finally{ne.p=f,_!==null&&E.types!==null&&(_.types=E.types),G.T=_}}function B1(){}function Pf(t,n,a,o){if(t.tag!==5)throw Error(r(476));var h=Gg(t).queue;Fg(t,h,n,de,a===null?B1:function(){return Qg(t),a(o)})}function Gg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:de},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Qg(t){var n=Gg(t);n.next===null&&(n=t.alternate.memoizedState),cl(t,n.next.queue,{},An())}function Uf(){return Ht(Cl)}function Kg(){return gt().memoizedState}function Yg(){return gt().memoizedState}function q1(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=An();t=Is(a);var o=Ns(n,t,a);o!==null&&(fn(o,n,a),rl(o,n,a)),n={cache:df()},t.payload=n;return}n=n.return}}function H1(t,n,a){var o=An();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},lc(t)?$g(n,a):(a=tf(t,n,a,o),a!==null&&(fn(a,t,o),Zg(a,n,o)))}function Xg(t,n,a){var o=An();cl(t,n,a,o)}function cl(t,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(lc(t))$g(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var _=n.lastRenderedState,E=f(_,a);if(h.hasEagerState=!0,h.eagerState=E,gn(E,_))return qu(t,n,h,0),We===null&&Bu(),!1}catch{}finally{}if(a=tf(t,n,h,o),a!==null)return fn(a,t,o),Zg(a,n,o),!0}return!1}function zf(t,n,a,o){if(o={lane:2,revertLane:yd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},lc(t)){if(n)throw Error(r(479))}else n=tf(t,a,o,2),n!==null&&fn(n,t,2)}function lc(t){var n=t.alternate;return t===be||n!==null&&n===be}function $g(t,n){La=tc=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function Zg(t,n,a){if((a&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,Oo(t,a)}}var hl={readContext:Ht,use:sc,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useLayoutEffect:ht,useInsertionEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useSyncExternalStore:ht,useId:ht,useHostTransitionStatus:ht,useFormState:ht,useActionState:ht,useOptimistic:ht,useMemoCache:ht,useCacheRefresh:ht};hl.useEffectEvent=ht;var Jg={readContext:Ht,use:sc,useCallback:function(t,n){return rn().memoizedState=[t,n===void 0?null:n],t},useContext:Ht,useEffect:kg,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,ac(4194308,4,zg.bind(null,n,t),a)},useLayoutEffect:function(t,n){return ac(4194308,4,t,n)},useInsertionEffect:function(t,n){ac(4,2,t,n)},useMemo:function(t,n){var a=rn();n=n===void 0?null:n;var o=t();if(Ur){wn(!0);try{t()}finally{wn(!1)}}return a.memoizedState=[o,n],o},useReducer:function(t,n,a){var o=rn();if(a!==void 0){var h=a(n);if(Ur){wn(!0);try{a(n)}finally{wn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=H1.bind(null,be,t),[o.memoizedState,t]},useRef:function(t){var n=rn();return t={current:t},n.memoizedState=t},useState:function(t){t=Of(t);var n=t.queue,a=Xg.bind(null,be,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:kf,useDeferredValue:function(t,n){var a=rn();return Lf(a,t,n)},useTransition:function(){var t=Of(!1);return t=Fg.bind(null,be,t.queue,!0,!1),rn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var o=be,h=rn();if(Le){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),We===null)throw Error(r(349));(De&127)!==0||vg(o,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,kg(Tg.bind(null,o,f,t),[t]),o.flags|=2048,Ua(9,{destroy:void 0},Eg.bind(null,o,f,a,n),null),a},useId:function(){var t=rn(),n=We.identifierPrefix;if(Le){var a=wi,o=bi;a=(o&~(1<<32-dt(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=nc++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=L1++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Uf,useFormState:xg,useActionState:xg,useOptimistic:function(t){var n=rn();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=zf.bind(null,be,!0,a),a.dispatch=n,[t,n]},useMemoCache:Nf,useCacheRefresh:function(){return rn().memoizedState=q1.bind(null,be)},useEffectEvent:function(t){var n=rn(),a={impl:t};return n.memoizedState=a,function(){if((He&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},jf={readContext:Ht,use:sc,useCallback:Bg,useContext:Ht,useEffect:Vf,useImperativeHandle:jg,useInsertionEffect:Pg,useLayoutEffect:Ug,useMemo:qg,useReducer:rc,useRef:Vg,useState:function(){return rc(Gi)},useDebugValue:kf,useDeferredValue:function(t,n){var a=gt();return Hg(a,$e.memoizedState,t,n)},useTransition:function(){var t=rc(Gi)[0],n=gt().memoizedState;return[typeof t=="boolean"?t:ul(t),n]},useSyncExternalStore:_g,useId:Kg,useHostTransitionStatus:Uf,useFormState:Dg,useActionState:Dg,useOptimistic:function(t,n){var a=gt();return bg(a,$e,t,n)},useMemoCache:Nf,useCacheRefresh:Yg};jf.useEffectEvent=Lg;var Wg={readContext:Ht,use:sc,useCallback:Bg,useContext:Ht,useEffect:Vf,useImperativeHandle:jg,useInsertionEffect:Pg,useLayoutEffect:Ug,useMemo:qg,useReducer:Df,useRef:Vg,useState:function(){return Df(Gi)},useDebugValue:kf,useDeferredValue:function(t,n){var a=gt();return $e===null?Lf(a,t,n):Hg(a,$e.memoizedState,t,n)},useTransition:function(){var t=Df(Gi)[0],n=gt().memoizedState;return[typeof t=="boolean"?t:ul(t),n]},useSyncExternalStore:_g,useId:Kg,useHostTransitionStatus:Uf,useFormState:Mg,useActionState:Mg,useOptimistic:function(t,n){var a=gt();return $e!==null?bg(a,$e,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Nf,useCacheRefresh:Yg};Wg.useEffectEvent=Lg;function Bf(t,n,a,o){n=t.memoizedState,a=a(o,n),a=a==null?n:T({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var qf={enqueueSetState:function(t,n,a){t=t._reactInternals;var o=An(),h=Is(o);h.payload=n,a!=null&&(h.callback=a),n=Ns(t,h,o),n!==null&&(fn(n,t,o),rl(n,t,o))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var o=An(),h=Is(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Ns(t,h,o),n!==null&&(fn(n,t,o),rl(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=An(),o=Is(a);o.tag=2,n!=null&&(o.callback=n),n=Ns(t,o,a),n!==null&&(fn(n,t,a),rl(n,t,a))}};function ey(t,n,a,o,h,f,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,_):n.prototype&&n.prototype.isPureReactComponent?!Zo(a,o)||!Zo(h,f):!0}function ty(t,n,a,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==t&&qf.enqueueReplaceState(n,n.state,null)}function zr(t,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(t=t.defaultProps){a===n&&(a=T({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function ny(t){ju(t)}function iy(t){console.error(t)}function sy(t){ju(t)}function uc(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function ry(t,n,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Hf(t,n,a){return a=Is(a),a.tag=3,a.payload={element:null},a.callback=function(){uc(t,n)},a}function ay(t){return t=Is(t),t.tag=3,t}function oy(t,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){ry(n,a,o)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){ry(n,a,o),typeof h!="function"&&(ks===null?ks=new Set([this]):ks.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function F1(t,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&xa(n,a,h,!0),a=_n.current,a!==null){switch(a.tag){case 31:case 13:return kn===null?Tc():a.alternate===null&&ft===0&&(ft=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===$u?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),md(t,o,h)),!1;case 22:return a.flags|=65536,o===$u?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),md(t,o,h)),!1}throw Error(r(435,a.tag))}return md(t,o,h),Tc(),!1}if(Le)return n=_n.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==lf&&(t=Error(r(422),{cause:o}),el(Dn(t,a)))):(o!==lf&&(n=Error(r(423),{cause:o}),el(Dn(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=Dn(o,a),h=Hf(t.stateNode,o,h),vf(t,h),ft!==4&&(ft=2)),!1;var f=Error(r(520),{cause:o});if(f=Dn(f,a),vl===null?vl=[f]:vl.push(f),ft!==4&&(ft=2),n===null)return!0;o=Dn(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Hf(a.stateNode,o,t),vf(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ks===null||!ks.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=ay(h),oy(h,t,a,o),vf(a,h),!1}a=a.return}while(a!==null);return!1}var Ff=Error(r(461)),wt=!1;function Ft(t,n,a,o){n.child=t===null?hg(n,null,a,o):Pr(n,t.child,a,o)}function ly(t,n,a,o,h){a=a.render;var f=n.ref;if("ref"in o){var _={};for(var E in o)E!=="ref"&&(_[E]=o[E])}else _=o;return Mr(n),o=wf(t,n,a,_,f,h),E=Rf(),t!==null&&!wt?(Cf(t,n,h),Qi(t,n,h)):(Le&&E&&af(n),n.flags|=1,Ft(t,n,o,h),n.child)}function uy(t,n,a,o,h){if(t===null){var f=a.type;return typeof f=="function"&&!nf(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,cy(t,n,f,o,h)):(t=Fu(a.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Jf(t,h)){var _=f.memoizedProps;if(a=a.compare,a=a!==null?a:Zo,a(_,o)&&t.ref===n.ref)return Qi(t,n,h)}return n.flags|=1,t=ji(f,o),t.ref=n.ref,t.return=n,n.child=t}function cy(t,n,a,o,h){if(t!==null){var f=t.memoizedProps;if(Zo(f,o)&&t.ref===n.ref)if(wt=!1,n.pendingProps=o=f,Jf(t,h))(t.flags&131072)!==0&&(wt=!0);else return n.lanes=t.lanes,Qi(t,n,h)}return Gf(t,n,a,o,h)}function hy(t,n,a,o){var h=o.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return fy(t,n,f,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Yu(n,f!==null?f.cachePool:null),f!==null?mg(n,f):Tf(),pg(n);else return o=n.lanes=536870912,fy(t,n,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(Yu(n,f.cachePool),mg(n,f),Ds(),n.memoizedState=null):(t!==null&&Yu(n,null),Tf(),Ds());return Ft(t,n,h,a),n.child}function fl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function fy(t,n,a,o,h){var f=pf();return f=f===null?null:{parent:St._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&Yu(n,null),Tf(),pg(n),t!==null&&xa(t,n,o,!0),n.childLanes=h,null}function cc(t,n){return n=fc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function dy(t,n,a){return Pr(n,t.child,null,a),t=cc(n,n.pendingProps),t.flags|=2,vn(n),n.memoizedState=null,t}function G1(t,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Le){if(o.mode==="hidden")return t=cc(n,o),n.lanes=536870912,fl(null,t);if(Sf(n),(t=nt)?(t=w_(t,Vn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ss!==null?{id:bi,overflow:wi}:null,retryLane:536870912,hydrationErrors:null},a=$p(t),a.return=n,n.child=a,qt=n,nt=null)):t=null,t===null)throw ws(n);return n.lanes=536870912,null}return cc(n,o)}var f=t.memoizedState;if(f!==null){var _=f.dehydrated;if(Sf(n),h)if(n.flags&256)n.flags&=-257,n=dy(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(wt||xa(t,n,a,!1),h=(a&t.childLanes)!==0,wt||h){if(o=We,o!==null&&(_=Mo(o,a),_!==0&&_!==f.retryLane))throw f.retryLane=_,Nr(t,_),fn(o,t,_),Ff;Tc(),n=dy(t,n,a)}else t=f.treeContext,nt=Ln(_.nextSibling),qt=n,Le=!0,bs=null,Vn=!1,t!==null&&Wp(n,t),n=cc(n,o),n.flags|=4096;return n}return t=ji(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function hc(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Gf(t,n,a,o,h){return Mr(n),a=wf(t,n,a,o,void 0,h),o=Rf(),t!==null&&!wt?(Cf(t,n,h),Qi(t,n,h)):(Le&&o&&af(n),n.flags|=1,Ft(t,n,a,h),n.child)}function my(t,n,a,o,h,f){return Mr(n),n.updateQueue=null,a=yg(n,o,a,h),gg(t),o=Rf(),t!==null&&!wt?(Cf(t,n,f),Qi(t,n,f)):(Le&&o&&af(n),n.flags|=1,Ft(t,n,a,f),n.child)}function py(t,n,a,o,h){if(Mr(n),n.stateNode===null){var f=Ra,_=a.contextType;typeof _=="object"&&_!==null&&(f=Ht(_)),f=new a(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=qf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},yf(n),_=a.contextType,f.context=typeof _=="object"&&_!==null?Ht(_):Ra,f.state=n.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Bf(n,a,_,o),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(_=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),_!==f.state&&qf.enqueueReplaceState(f,f.state,null),ol(n,o,f,h),al(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,N=zr(a,E);f.props=N;var z=f.context,F=a.contextType;_=Ra,typeof F=="object"&&F!==null&&(_=Ht(F));var K=a.getDerivedStateFromProps;F=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==_)&&ty(n,f,o,_),Cs=!1;var j=n.memoizedState;f.state=j,ol(n,o,f,h),al(),z=n.memoizedState,E||j!==z||Cs?(typeof K=="function"&&(Bf(n,a,K,o),z=n.memoizedState),(N=Cs||ey(n,a,N,o,j,z,_))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=_,o=N):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,_f(t,n),_=n.memoizedProps,F=zr(a,_),f.props=F,K=n.pendingProps,j=f.context,z=a.contextType,N=Ra,typeof z=="object"&&z!==null&&(N=Ht(z)),E=a.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_!==K||j!==N)&&ty(n,f,o,N),Cs=!1,j=n.memoizedState,f.state=j,ol(n,o,f,h),al();var H=n.memoizedState;_!==K||j!==H||Cs||t!==null&&t.dependencies!==null&&Qu(t.dependencies)?(typeof E=="function"&&(Bf(n,a,E,o),H=n.memoizedState),(F=Cs||ey(n,a,F,o,j,H,N)||t!==null&&t.dependencies!==null&&Qu(t.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,N),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,N)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&j===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&j===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=H),f.props=o,f.state=H,f.context=N,o=F):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&j===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&j===t.memoizedState||(n.flags|=1024),o=!1)}return f=o,hc(t,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&o?(n.child=Pr(n,t.child,null,h),n.child=Pr(n,null,a,h)):Ft(t,n,a,h),n.memoizedState=f.state,t=n.child):t=Qi(t,n,h),t}function gy(t,n,a,o){return Dr(),n.flags|=256,Ft(t,n,a,o),n.child}var Qf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Kf(t){return{baseLanes:t,cachePool:rg()}}function Yf(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=Tn),t}function yy(t,n,a){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,_;if((_=f)||(_=t!==null&&t.memoizedState===null?!1:(pt.current&2)!==0),_&&(h=!0,n.flags&=-129),_=(n.flags&32)!==0,n.flags&=-33,t===null){if(Le){if(h?xs(n):Ds(),(t=nt)?(t=w_(t,Vn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ss!==null?{id:bi,overflow:wi}:null,retryLane:536870912,hydrationErrors:null},a=$p(t),a.return=n,n.child=a,qt=n,nt=null)):t=null,t===null)throw ws(n);return xd(t)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Ds(),h=n.mode,E=fc({mode:"hidden",children:E},h),o=xr(o,h,a,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Kf(a),o.childLanes=Yf(t,_,a),n.memoizedState=Qf,fl(null,o)):(xs(n),Xf(n,E))}var N=t.memoizedState;if(N!==null&&(E=N.dehydrated,E!==null)){if(f)n.flags&256?(xs(n),n.flags&=-257,n=$f(t,n,a)):n.memoizedState!==null?(Ds(),n.child=t.child,n.flags|=128,n=null):(Ds(),E=o.fallback,h=n.mode,o=fc({mode:"visible",children:o.children},h),E=xr(E,h,a,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Pr(n,t.child,null,a),o=n.child,o.memoizedState=Kf(a),o.childLanes=Yf(t,_,a),n.memoizedState=Qf,n=fl(null,o));else if(xs(n),xd(E)){if(_=E.nextSibling&&E.nextSibling.dataset,_)var z=_.dgst;_=z,o=Error(r(419)),o.stack="",o.digest=_,el({value:o,source:null,stack:null}),n=$f(t,n,a)}else if(wt||xa(t,n,a,!1),_=(a&t.childLanes)!==0,wt||_){if(_=We,_!==null&&(o=Mo(_,a),o!==0&&o!==N.retryLane))throw N.retryLane=o,Nr(t,o),fn(_,t,o),Ff;Nd(E)||Tc(),n=$f(t,n,a)}else Nd(E)?(n.flags|=192,n.child=t.child,n=null):(t=N.treeContext,nt=Ln(E.nextSibling),qt=n,Le=!0,bs=null,Vn=!1,t!==null&&Wp(n,t),n=Xf(n,o.children),n.flags|=4096);return n}return h?(Ds(),E=o.fallback,h=n.mode,N=t.child,z=N.sibling,o=ji(N,{mode:"hidden",children:o.children}),o.subtreeFlags=N.subtreeFlags&65011712,z!==null?E=ji(z,E):(E=xr(E,h,a,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,fl(null,o),o=n.child,E=t.child.memoizedState,E===null?E=Kf(a):(h=E.cachePool,h!==null?(N=St._currentValue,h=h.parent!==N?{parent:N,pool:N}:h):h=rg(),E={baseLanes:E.baseLanes|a,cachePool:h}),o.memoizedState=E,o.childLanes=Yf(t,_,a),n.memoizedState=Qf,fl(t.child,o)):(xs(n),a=t.child,t=a.sibling,a=ji(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,t!==null&&(_=n.deletions,_===null?(n.deletions=[t],n.flags|=16):_.push(t)),n.child=a,n.memoizedState=null,a)}function Xf(t,n){return n=fc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function fc(t,n){return t=yn(22,t,null,n),t.lanes=0,t}function $f(t,n,a){return Pr(n,t.child,null,a),t=Xf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function _y(t,n,a){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),hf(t.return,n,a)}function Zf(t,n,a,o,h,f){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(_.isBackwards=n,_.rendering=null,_.renderingStartTime=0,_.last=o,_.tail=a,_.tailMode=h,_.treeForkCount=f)}function vy(t,n,a){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var _=pt.current,E=(_&2)!==0;if(E?(_=_&1|2,n.flags|=128):_&=1,ie(pt,_),Ft(t,n,o,a),o=Le?Wo:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&_y(t,a,n);else if(t.tag===19)_y(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&ec(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),Zf(n,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&ec(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Zf(n,!0,a,null,f,o);break;case"together":Zf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Qi(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Vs|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(xa(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=ji(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=ji(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Jf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Qu(t)))}function Q1(t,n,a){switch(n.tag){case 3:Ot(n,n.stateNode.containerInfo),Rs(n,St,t.memoizedState.cache),Dr();break;case 27:case 5:hr(n);break;case 4:Ot(n,n.stateNode.containerInfo);break;case 10:Rs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Sf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(xs(n),n.flags|=128,null):(a&n.child.childLanes)!==0?yy(t,n,a):(xs(n),t=Qi(t,n,a),t!==null?t.sibling:null);xs(n);break;case 19:var h=(t.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(xa(t,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return vy(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ie(pt,pt.current),o)break;return null;case 22:return n.lanes=0,hy(t,n,a,n.pendingProps);case 24:Rs(n,St,t.memoizedState.cache)}return Qi(t,n,a)}function Ey(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)wt=!0;else{if(!Jf(t,a)&&(n.flags&128)===0)return wt=!1,Q1(t,n,a);wt=(t.flags&131072)!==0}else wt=!1,Le&&(n.flags&1048576)!==0&&Jp(n,Wo,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=kr(n.elementType),n.type=t,typeof t=="function")nf(t)?(o=zr(t,o),n.tag=1,n=py(null,n,t,o,a)):(n.tag=0,n=Gf(null,n,t,o,a));else{if(t!=null){var h=t.$$typeof;if(h===oe){n.tag=11,n=ly(null,n,t,o,a);break e}else if(h===R){n.tag=14,n=uy(null,n,t,o,a);break e}}throw n=rt(t)||t,Error(r(306,n,""))}}return n;case 0:return Gf(t,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=zr(o,n.pendingProps),py(t,n,o,h,a);case 3:e:{if(Ot(n,n.stateNode.containerInfo),t===null)throw Error(r(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,_f(t,n),ol(n,o,null,a);var _=n.memoizedState;if(o=_.cache,Rs(n,St,o),o!==f.cache&&ff(n,[St],a,!0),al(),o=_.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:_.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=gy(t,n,o,a);break e}else if(o!==h){h=Dn(Error(r(424)),n),el(h),n=gy(t,n,o,a);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(nt=Ln(t.firstChild),qt=n,Le=!0,bs=null,Vn=!0,a=hg(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Dr(),o===h){n=Qi(t,n,a);break e}Ft(t,n,o,a)}n=n.child}return n;case 26:return hc(t,n),t===null?(a=D_(n.type,null,n.pendingProps,null))?n.memoizedState=a:Le||(a=n.type,t=n.pendingProps,o=Ic(Re.current).createElement(a),o[Et]=n,o[Lt]=t,Gt(o,a,t),Tt(o),n.stateNode=o):n.memoizedState=D_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return hr(n),t===null&&Le&&(o=n.stateNode=I_(n.type,n.pendingProps,Re.current),qt=n,Vn=!0,h=nt,zs(n.type)?(Dd=h,nt=Ln(o.firstChild)):nt=h),Ft(t,n,n.pendingProps.children,a),hc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Le&&((h=o=nt)&&(o=AA(o,n.type,n.pendingProps,Vn),o!==null?(n.stateNode=o,qt=n,nt=Ln(o.firstChild),Vn=!1,h=!0):h=!1),h||ws(n)),hr(n),h=n.type,f=n.pendingProps,_=t!==null?t.memoizedProps:null,o=f.children,Rd(h,f)?o=null:_!==null&&Rd(h,_)&&(n.flags|=32),n.memoizedState!==null&&(h=wf(t,n,P1,null,null,a),Cl._currentValue=h),hc(t,n),Ft(t,n,o,a),n.child;case 6:return t===null&&Le&&((t=a=nt)&&(a=SA(a,n.pendingProps,Vn),a!==null?(n.stateNode=a,qt=n,nt=null,t=!0):t=!1),t||ws(n)),null;case 13:return yy(t,n,a);case 4:return Ot(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=Pr(n,null,o,a):Ft(t,n,o,a),n.child;case 11:return ly(t,n,n.type,n.pendingProps,a);case 7:return Ft(t,n,n.pendingProps,a),n.child;case 8:return Ft(t,n,n.pendingProps.children,a),n.child;case 12:return Ft(t,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,Rs(n,n.type,o.value),Ft(t,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Mr(n),h=Ht(h),o=o(h),n.flags|=1,Ft(t,n,o,a),n.child;case 14:return uy(t,n,n.type,n.pendingProps,a);case 15:return cy(t,n,n.type,n.pendingProps,a);case 19:return vy(t,n,a);case 31:return G1(t,n,a);case 22:return hy(t,n,a,n.pendingProps);case 24:return Mr(n),o=Ht(St),t===null?(h=pf(),h===null&&(h=We,f=df(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:o,cache:h},yf(n),Rs(n,St,h)):((t.lanes&a)!==0&&(_f(t,n),ol(n,null,null,a),al()),h=t.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Rs(n,St,o)):(o=f.cache,Rs(n,St,o),o!==h.cache&&ff(n,[St],a,!0))),Ft(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Ki(t){t.flags|=4}function Wf(t,n,a,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Ky())t.flags|=8192;else throw Lr=$u,gf}else t.flags&=-16777217}function Ty(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!L_(n))if(Ky())t.flags|=8192;else throw Lr=$u,gf}function dc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?vu():536870912,t.lanes|=n,qa|=n)}function dl(t,n){if(!Le)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function it(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=a,n}function K1(t,n,a){var o=n.pendingProps;switch(of(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(n),null;case 1:return it(n),null;case 3:return a=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Hi(St),at(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Na(n)?Ki(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,uf())),it(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(Ki(n),f!==null?(it(n),Ty(n,f)):(it(n),Wf(n,h,null,o,a))):f?f!==t.memoizedState?(Ki(n),it(n),Ty(n,f)):(it(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&Ki(n),it(n),Wf(n,h,t,o,a)),null;case 27:if(oa(n),a=Re.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&Ki(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return it(n),null}t=ae.current,Na(n)?eg(n):(t=I_(h,o,a),n.stateNode=t,Ki(n))}return it(n),null;case 5:if(oa(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&Ki(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return it(n),null}if(f=ae.current,Na(n))eg(n);else{var _=Ic(Re.current);switch(f){case 1:f=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=_.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?_.createElement("select",{is:o.is}):_.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?_.createElement(h,{is:o.is}):_.createElement(h)}}f[Et]=n,f[Lt]=o;e:for(_=n.child;_!==null;){if(_.tag===5||_.tag===6)f.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===n)break e;for(;_.sibling===null;){if(_.return===null||_.return===n)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}n.stateNode=f;e:switch(Gt(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Ki(n)}}return it(n),Wf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&Ki(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(t=Re.current,Na(n)){if(t=n.stateNode,a=n.memoizedProps,o=null,h=qt,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[Et]=n,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||y_(t.nodeValue,a)),t||ws(n,!0)}else t=Ic(t).createTextNode(o),t[Et]=n,n.stateNode=t}return it(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(o=Na(n),a!==null){if(t===null){if(!o)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[Et]=n}else Dr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;it(n),t=!1}else a=uf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(vn(n),n):(vn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return it(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Na(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Et]=n}else Dr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;it(n),h=!1}else h=uf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(vn(n),n):(vn(n),null)}return vn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),dc(n,n.updateQueue),it(n),null);case 4:return at(),t===null&&Td(n.stateNode.containerInfo),it(n),null;case 10:return Hi(n.type),it(n),null;case 19:if(Y(pt),o=n.memoizedState,o===null)return it(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)dl(o,!1);else{if(ft!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=ec(t),f!==null){for(n.flags|=128,dl(o,!1),t=f.updateQueue,n.updateQueue=t,dc(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)Xp(a,t),a=a.sibling;return ie(pt,pt.current&1|2),Le&&Bi(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&nn()>_c&&(n.flags|=128,h=!0,dl(o,!1),n.lanes=4194304)}else{if(!h)if(t=ec(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,dc(n,t),dl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Le)return it(n),null}else 2*nn()-o.renderingStartTime>_c&&a!==536870912&&(n.flags|=128,h=!0,dl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(t=o.last,t!==null?t.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=nn(),t.sibling=null,a=pt.current,ie(pt,h?a&1|2:a&1),Le&&Bi(n,o.treeForkCount),t):(it(n),null);case 22:case 23:return vn(n),Af(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(it(n),n.subtreeFlags&6&&(n.flags|=8192)):it(n),a=n.updateQueue,a!==null&&dc(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),t!==null&&Y(Vr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Hi(St),it(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function Y1(t,n){switch(of(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Hi(St),at(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return oa(n),null;case 31:if(n.memoizedState!==null){if(vn(n),n.alternate===null)throw Error(r(340));Dr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(vn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Dr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Y(pt),null;case 4:return at(),null;case 10:return Hi(n.type),null;case 22:case 23:return vn(n),Af(),t!==null&&Y(Vr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Hi(St),null;case 25:return null;default:return null}}function Ay(t,n){switch(of(n),n.tag){case 3:Hi(St),at();break;case 26:case 27:case 5:oa(n);break;case 4:at();break;case 31:n.memoizedState!==null&&vn(n);break;case 13:vn(n);break;case 19:Y(pt);break;case 10:Hi(n.type);break;case 22:case 23:vn(n),Af(),t!==null&&Y(Vr);break;case 24:Hi(St)}}function ml(t,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&t)===t){o=void 0;var f=a.create,_=a.inst;o=f(),_.destroy=o}a=a.next}while(a!==h)}}catch(E){Ye(n,n.return,E)}}function Os(t,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var _=o.inst,E=_.destroy;if(E!==void 0){_.destroy=void 0,h=n;var N=a,z=E;try{z()}catch(F){Ye(h,N,F)}}}o=o.next}while(o!==f)}}catch(F){Ye(n,n.return,F)}}function Sy(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{dg(n,a)}catch(o){Ye(t,t.return,o)}}}function by(t,n,a){a.props=zr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){Ye(t,n,o)}}function pl(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(h){Ye(t,n,h)}}function Ri(t,n){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Ye(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Ye(t,n,h)}else a.current=null}function wy(t){var n=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Ye(t,t.return,h)}}function ed(t,n,a){try{var o=t.stateNode;gA(o,t.type,a,n),o[Lt]=n}catch(h){Ye(t,t.return,h)}}function Ry(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&zs(t.type)||t.tag===4}function td(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ry(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&zs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function nd(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Gn));else if(o!==4&&(o===27&&zs(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(nd(t,n,a),t=t.sibling;t!==null;)nd(t,n,a),t=t.sibling}function mc(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(o!==4&&(o===27&&zs(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(mc(t,n,a),t=t.sibling;t!==null;)mc(t,n,a),t=t.sibling}function Cy(t){var n=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Gt(n,o,a),n[Et]=t,n[Lt]=a}catch(f){Ye(t,t.return,f)}}var Yi=!1,Rt=!1,id=!1,Iy=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function X1(t,n){if(t=t.containerInfo,bd=kc,t=jp(t),Xh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var _=0,E=-1,N=-1,z=0,F=0,K=t,j=null;t:for(;;){for(var H;K!==a||h!==0&&K.nodeType!==3||(E=_+h),K!==f||o!==0&&K.nodeType!==3||(N=_+o),K.nodeType===3&&(_+=K.nodeValue.length),(H=K.firstChild)!==null;)j=K,K=H;for(;;){if(K===t)break t;if(j===a&&++z===h&&(E=_),j===f&&++F===o&&(N=_),(H=K.nextSibling)!==null)break;K=j,j=K.parentNode}K=H}a=E===-1||N===-1?null:{start:E,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(wd={focusedElem:t,selectionRange:a},kc=!1,Ut=n;Ut!==null;)if(n=Ut,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Ut=t;else for(;Ut!==null;){switch(n=Ut,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var le=zr(a.type,h);t=o.getSnapshotBeforeUpdate(le,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(me){Ye(a,a.return,me)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Id(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Id(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,Ut=t;break}Ut=n.return}}function Ny(t,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:$i(t,a),o&4&&ml(5,a);break;case 1:if($i(t,a),o&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(_){Ye(a,a.return,_)}else{var h=zr(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Ye(a,a.return,_)}}o&64&&Sy(a),o&512&&pl(a,a.return);break;case 3:if($i(t,a),o&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{dg(t,n)}catch(_){Ye(a,a.return,_)}}break;case 27:n===null&&o&4&&Cy(a);case 26:case 5:$i(t,a),n===null&&o&4&&wy(a),o&512&&pl(a,a.return);break;case 12:$i(t,a);break;case 31:$i(t,a),o&4&&Oy(t,a);break;case 13:$i(t,a),o&4&&My(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=sA.bind(null,a),bA(t,a))));break;case 22:if(o=a.memoizedState!==null||Yi,!o){n=n!==null&&n.memoizedState!==null||Rt,h=Yi;var f=Rt;Yi=o,(Rt=n)&&!f?Zi(t,a,(a.subtreeFlags&8772)!==0):$i(t,a),Yi=h,Rt=f}break;case 30:break;default:$i(t,a)}}function xy(t){var n=t.alternate;n!==null&&(t.alternate=null,xy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&fa(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var lt=null,ln=!1;function Xi(t,n,a){for(a=a.child;a!==null;)Dy(t,n,a),a=a.sibling}function Dy(t,n,a){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(Bn,a)}catch{}switch(a.tag){case 26:Rt||Ri(a,n),Xi(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Rt||Ri(a,n);var o=lt,h=ln;zs(a.type)&&(lt=a.stateNode,ln=!1),Xi(t,n,a),bl(a.stateNode),lt=o,ln=h;break;case 5:Rt||Ri(a,n);case 6:if(o=lt,h=ln,lt=null,Xi(t,n,a),lt=o,ln=h,lt!==null)if(ln)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(a.stateNode)}catch(f){Ye(a,n,f)}else try{lt.removeChild(a.stateNode)}catch(f){Ye(a,n,f)}break;case 18:lt!==null&&(ln?(t=lt,S_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),$a(t)):S_(lt,a.stateNode));break;case 4:o=lt,h=ln,lt=a.stateNode.containerInfo,ln=!0,Xi(t,n,a),lt=o,ln=h;break;case 0:case 11:case 14:case 15:Os(2,a,n),Rt||Os(4,a,n),Xi(t,n,a);break;case 1:Rt||(Ri(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&by(a,n,o)),Xi(t,n,a);break;case 21:Xi(t,n,a);break;case 22:Rt=(o=Rt)||a.memoizedState!==null,Xi(t,n,a),Rt=o;break;default:Xi(t,n,a)}}function Oy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{$a(t)}catch(a){Ye(n,n.return,a)}}}function My(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{$a(t)}catch(a){Ye(n,n.return,a)}}function $1(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Iy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Iy),n;default:throw Error(r(435,t.tag))}}function pc(t,n){var a=$1(t);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=rA.bind(null,t,o);o.then(h,h)}})}function un(t,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=t,_=n,E=_;e:for(;E!==null;){switch(E.tag){case 27:if(zs(E.type)){lt=E.stateNode,ln=!1;break e}break;case 5:lt=E.stateNode,ln=!1;break e;case 3:case 4:lt=E.stateNode.containerInfo,ln=!0;break e}E=E.return}if(lt===null)throw Error(r(160));Dy(f,_,h),lt=null,ln=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Vy(n,t),n=n.sibling}var Zn=null;function Vy(t,n){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:un(n,t),cn(t),o&4&&(Os(3,t,t.return),ml(3,t),Os(5,t,t.return));break;case 1:un(n,t),cn(t),o&512&&(Rt||a===null||Ri(a,a.return)),o&64&&Yi&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Zn;if(un(n,t),cn(t),o&512&&(Rt||a===null||Ri(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[fi]||f[Et]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Gt(f,o,a),f[Et]=t,Tt(f),o=f;break e;case"link":var _=V_("link","href",h).get(o+(a.href||""));if(_){for(var E=0;E<_.length;E++)if(f=_[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(E,1);break t}}f=h.createElement(o),Gt(f,o,a),h.head.appendChild(f);break;case"meta":if(_=V_("meta","content",h).get(o+(a.content||""))){for(E=0;E<_.length;E++)if(f=_[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(E,1);break t}}f=h.createElement(o),Gt(f,o,a),h.head.appendChild(f);break;default:throw Error(r(468,o))}f[Et]=t,Tt(f),o=f}t.stateNode=o}else k_(h,t.type,t.stateNode);else t.stateNode=M_(h,o,t.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?k_(h,t.type,t.stateNode):M_(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&ed(t,t.memoizedProps,a.memoizedProps)}break;case 27:un(n,t),cn(t),o&512&&(Rt||a===null||Ri(a,a.return)),a!==null&&o&4&&ed(t,t.memoizedProps,a.memoizedProps);break;case 5:if(un(n,t),cn(t),o&512&&(Rt||a===null||Ri(a,a.return)),t.flags&32){h=t.stateNode;try{on(h,"")}catch(le){Ye(t,t.return,le)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,ed(t,h,a!==null?a.memoizedProps:h)),o&1024&&(id=!0);break;case 6:if(un(n,t),cn(t),o&4){if(t.stateNode===null)throw Error(r(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(le){Ye(t,t.return,le)}}break;case 3:if(Dc=null,h=Zn,Zn=Nc(n.containerInfo),un(n,t),Zn=h,cn(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{$a(n.containerInfo)}catch(le){Ye(t,t.return,le)}id&&(id=!1,ky(t));break;case 4:o=Zn,Zn=Nc(t.stateNode.containerInfo),un(n,t),cn(t),Zn=o;break;case 12:un(n,t),cn(t);break;case 31:un(n,t),cn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,pc(t,o)));break;case 13:un(n,t),cn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(yc=nn()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,pc(t,o)));break;case 22:h=t.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,z=Yi,F=Rt;if(Yi=z||h,Rt=F||N,un(n,t),Rt=F,Yi=z,cn(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||N||Yi||Rt||jr(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){N=a=n;try{if(f=N.stateNode,h)_=f.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{E=N.stateNode;var K=N.memoizedProps.style,j=K!=null&&K.hasOwnProperty("display")?K.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(le){Ye(N,N.return,le)}}}else if(n.tag===6){if(a===null){N=n;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(le){Ye(N,N.return,le)}}}else if(n.tag===18){if(a===null){N=n;try{var H=N.stateNode;h?b_(H,!0):b_(N.stateNode,!1)}catch(le){Ye(N,N.return,le)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,pc(t,a))));break;case 19:un(n,t),cn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,pc(t,o)));break;case 30:break;case 21:break;default:un(n,t),cn(t)}}function cn(t){var n=t.flags;if(n&2){try{for(var a,o=t.return;o!==null;){if(Ry(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=td(t);mc(t,f,h);break;case 5:var _=a.stateNode;a.flags&32&&(on(_,""),a.flags&=-33);var E=td(t);mc(t,E,_);break;case 3:case 4:var N=a.stateNode.containerInfo,z=td(t);nd(t,z,N);break;default:throw Error(r(161))}}catch(F){Ye(t,t.return,F)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function ky(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;ky(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function $i(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Ny(t,n.alternate,n),n=n.sibling}function jr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Os(4,n,n.return),jr(n);break;case 1:Ri(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&by(n,n.return,a),jr(n);break;case 27:bl(n.stateNode);case 26:case 5:Ri(n,n.return),jr(n);break;case 22:n.memoizedState===null&&jr(n);break;case 30:jr(n);break;default:jr(n)}t=t.sibling}}function Zi(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,f=n,_=f.flags;switch(f.tag){case 0:case 11:case 15:Zi(h,f,a),ml(4,f);break;case 1:if(Zi(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Ye(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)fg(N[h],E)}catch(z){Ye(o,o.return,z)}}a&&_&64&&Sy(f),pl(f,f.return);break;case 27:Cy(f);case 26:case 5:Zi(h,f,a),a&&o===null&&_&4&&wy(f),pl(f,f.return);break;case 12:Zi(h,f,a);break;case 31:Zi(h,f,a),a&&_&4&&Oy(h,f);break;case 13:Zi(h,f,a),a&&_&4&&My(h,f);break;case 22:f.memoizedState===null&&Zi(h,f,a),pl(f,f.return);break;case 30:break;default:Zi(h,f,a)}n=n.sibling}}function sd(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&tl(a))}function rd(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&tl(t))}function Jn(t,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ly(t,n,a,o),n=n.sibling}function Ly(t,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Jn(t,n,a,o),h&2048&&ml(9,n);break;case 1:Jn(t,n,a,o);break;case 3:Jn(t,n,a,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&tl(t)));break;case 12:if(h&2048){Jn(t,n,a,o),t=n.stateNode;try{var f=n.memoizedProps,_=f.id,E=f.onPostCommit;typeof E=="function"&&E(_,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){Ye(n,n.return,N)}}else Jn(t,n,a,o);break;case 31:Jn(t,n,a,o);break;case 13:Jn(t,n,a,o);break;case 23:break;case 22:f=n.stateNode,_=n.alternate,n.memoizedState!==null?f._visibility&2?Jn(t,n,a,o):gl(t,n):f._visibility&2?Jn(t,n,a,o):(f._visibility|=2,za(t,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&sd(_,n);break;case 24:Jn(t,n,a,o),h&2048&&rd(n.alternate,n);break;default:Jn(t,n,a,o)}}function za(t,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,_=n,E=a,N=o,z=_.flags;switch(_.tag){case 0:case 11:case 15:za(f,_,E,N,h),ml(8,_);break;case 23:break;case 22:var F=_.stateNode;_.memoizedState!==null?F._visibility&2?za(f,_,E,N,h):gl(f,_):(F._visibility|=2,za(f,_,E,N,h)),h&&z&2048&&sd(_.alternate,_);break;case 24:za(f,_,E,N,h),h&&z&2048&&rd(_.alternate,_);break;default:za(f,_,E,N,h)}n=n.sibling}}function gl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,o=n,h=o.flags;switch(o.tag){case 22:gl(a,o),h&2048&&sd(o.alternate,o);break;case 24:gl(a,o),h&2048&&rd(o.alternate,o);break;default:gl(a,o)}n=n.sibling}}var yl=8192;function ja(t,n,a){if(t.subtreeFlags&yl)for(t=t.child;t!==null;)Py(t,n,a),t=t.sibling}function Py(t,n,a){switch(t.tag){case 26:ja(t,n,a),t.flags&yl&&t.memoizedState!==null&&LA(a,Zn,t.memoizedState,t.memoizedProps);break;case 5:ja(t,n,a);break;case 3:case 4:var o=Zn;Zn=Nc(t.stateNode.containerInfo),ja(t,n,a),Zn=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=yl,yl=16777216,ja(t,n,a),yl=o):ja(t,n,a));break;default:ja(t,n,a)}}function Uy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function _l(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Ut=o,jy(o,t)}Uy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)zy(t),t=t.sibling}function zy(t){switch(t.tag){case 0:case 11:case 15:_l(t),t.flags&2048&&Os(9,t,t.return);break;case 3:_l(t);break;case 12:_l(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,gc(t)):_l(t);break;default:_l(t)}}function gc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Ut=o,jy(o,t)}Uy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Os(8,n,n.return),gc(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,gc(n));break;default:gc(n)}t=t.sibling}}function jy(t,n){for(;Ut!==null;){var a=Ut;switch(a.tag){case 0:case 11:case 15:Os(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:tl(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Ut=o;else e:for(a=t;Ut!==null;){o=Ut;var h=o.sibling,f=o.return;if(xy(o),o===a){Ut=null;break e}if(h!==null){h.return=f,Ut=h;break e}Ut=f}}}var Z1={getCacheForType:function(t){var n=Ht(St),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return Ht(St).controller.signal}},J1=typeof WeakMap=="function"?WeakMap:Map,He=0,We=null,Ne=null,De=0,Ke=0,En=null,Ms=!1,Ba=!1,ad=!1,Ji=0,ft=0,Vs=0,Br=0,od=0,Tn=0,qa=0,vl=null,hn=null,ld=!1,yc=0,By=0,_c=1/0,vc=null,ks=null,Vt=0,Ls=null,Ha=null,Wi=0,ud=0,cd=null,qy=null,El=0,hd=null;function An(){return(He&2)!==0&&De!==0?De&-De:G.T!==null?yd():Eu()}function Hy(){if(Tn===0)if((De&536870912)===0||Le){var t=mr;mr<<=1,(mr&3932160)===0&&(mr=262144),Tn=t}else Tn=536870912;return t=_n.current,t!==null&&(t.flags|=32),Tn}function fn(t,n,a){(t===We&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)&&(Fa(t,0),Ps(t,De,Tn,!1)),pr(t,a),((He&2)===0||t!==We)&&(t===We&&((He&2)===0&&(Br|=a),ft===4&&Ps(t,De,Tn,!1)),Ci(t))}function Fy(t,n,a){if((He&6)!==0)throw Error(r(327));var o=!a&&(n&127)===0&&(n&t.expiredLanes)===0||qn(t,n),h=o?tA(t,n):dd(t,n,!0),f=o;do{if(h===0){Ba&&!o&&Ps(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!W1(a)){h=dd(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){n=_;e:{var E=t;h=vl;var N=E.current.memoizedState.isDehydrated;if(N&&(Fa(E,_).flags|=256),_=dd(E,_,!1),_!==2){if(ad&&!N){E.errorRecoveryDisabledLanes|=f,Br|=f,h=4;break e}f=hn,hn=h,f!==null&&(hn===null?hn=f:hn.push.apply(hn,f))}h=_}if(f=!1,h!==2)continue}}if(h===1){Fa(t,0),Ps(t,n,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Ps(o,n,Tn,!Ms);break e;case 2:hn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=yc+300-nn(),10<h)){if(Ps(o,n,Tn,!Ms),ui(o,0,!0)!==0)break e;Wi=n,o.timeoutHandle=T_(Gy.bind(null,o,a,hn,vc,ld,n,Tn,Br,qa,Ms,f,"Throttled",-0,0),h);break e}Gy(o,a,hn,vc,ld,n,Tn,Br,qa,Ms,f,null,-0,0)}}break}while(!0);Ci(t)}function Gy(t,n,a,o,h,f,_,E,N,z,F,K,j,H){if(t.timeoutHandle=-1,K=n.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Gn},Py(n,f,K);var le=(f&62914560)===f?yc-nn():(f&4194048)===f?By-nn():0;if(le=PA(K,le),le!==null){Wi=f,t.cancelPendingCommit=le(Wy.bind(null,t,n,f,a,o,h,_,E,N,F,K,null,j,H)),Ps(t,f,_,!z);return}}Wy(t,n,f,a,o,h,_,E,N)}function W1(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!gn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ps(t,n,a,o){n&=~od,n&=~Br,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var f=31-dt(h),_=1<<f;o[f]=-1,h&=~_}a!==0&&gr(t,a,n)}function Ec(){return(He&6)===0?(Tl(0),!1):!0}function fd(){if(Ne!==null){if(Ke===0)var t=Ne.return;else t=Ne,qi=Or=null,If(t),Va=null,il=0,t=Ne;for(;t!==null;)Ay(t.alternate,t),t=t.return;Ne=null}}function Fa(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,vA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Wi=0,fd(),We=t,Ne=a=ji(t.current,null),De=n,Ke=0,En=null,Ms=!1,Ba=qn(t,n),ad=!1,qa=Tn=od=Br=Vs=ft=0,hn=vl=null,ld=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-dt(o),f=1<<h;n|=t[h],o&=~f}return Ji=n,Bu(),a}function Qy(t,n){be=null,G.H=hl,n===Ma||n===Xu?(n=lg(),Ke=3):n===gf?(n=lg(),Ke=4):Ke=n===Ff?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,En=n,Ne===null&&(ft=1,uc(t,Dn(n,t.current)))}function Ky(){var t=_n.current;return t===null?!0:(De&4194048)===De?kn===null:(De&62914560)===De||(De&536870912)!==0?t===kn:!1}function Yy(){var t=G.H;return G.H=hl,t===null?hl:t}function Xy(){var t=G.A;return G.A=Z1,t}function Tc(){ft=4,Ms||(De&4194048)!==De&&_n.current!==null||(Ba=!0),(Vs&134217727)===0&&(Br&134217727)===0||We===null||Ps(We,De,Tn,!1)}function dd(t,n,a){var o=He;He|=2;var h=Yy(),f=Xy();(We!==t||De!==n)&&(vc=null,Fa(t,n)),n=!1;var _=ft;e:do try{if(Ke!==0&&Ne!==null){var E=Ne,N=En;switch(Ke){case 8:fd(),_=6;break e;case 3:case 2:case 9:case 6:_n.current===null&&(n=!0);var z=Ke;if(Ke=0,En=null,Ga(t,E,N,z),a&&Ba){_=0;break e}break;default:z=Ke,Ke=0,En=null,Ga(t,E,N,z)}}eA(),_=ft;break}catch(F){Qy(t,F)}while(!0);return n&&t.shellSuspendCounter++,qi=Or=null,He=o,G.H=h,G.A=f,Ne===null&&(We=null,De=0,Bu()),_}function eA(){for(;Ne!==null;)$y(Ne)}function tA(t,n){var a=He;He|=2;var o=Yy(),h=Xy();We!==t||De!==n?(vc=null,_c=nn()+500,Fa(t,n)):Ba=qn(t,n);e:do try{if(Ke!==0&&Ne!==null){n=Ne;var f=En;t:switch(Ke){case 1:Ke=0,En=null,Ga(t,n,f,1);break;case 2:case 9:if(ag(f)){Ke=0,En=null,Zy(n);break}n=function(){Ke!==2&&Ke!==9||We!==t||(Ke=7),Ci(t)},f.then(n,n);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:ag(f)?(Ke=0,En=null,Zy(n)):(Ke=0,En=null,Ga(t,n,f,7));break;case 5:var _=null;switch(Ne.tag){case 26:_=Ne.memoizedState;case 5:case 27:var E=Ne;if(_?L_(_):E.stateNode.complete){Ke=0,En=null;var N=E.sibling;if(N!==null)Ne=N;else{var z=E.return;z!==null?(Ne=z,Ac(z)):Ne=null}break t}}Ke=0,En=null,Ga(t,n,f,5);break;case 6:Ke=0,En=null,Ga(t,n,f,6);break;case 8:fd(),ft=6;break e;default:throw Error(r(462))}}nA();break}catch(F){Qy(t,F)}while(!0);return qi=Or=null,G.H=o,G.A=h,He=a,Ne!==null?0:(We=null,De=0,Bu(),ft)}function nA(){for(;Ne!==null&&!qh();)$y(Ne)}function $y(t){var n=Ey(t.alternate,t,Ji);t.memoizedProps=t.pendingProps,n===null?Ac(t):Ne=n}function Zy(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=my(a,n,n.pendingProps,n.type,void 0,De);break;case 11:n=my(a,n,n.pendingProps,n.type.render,n.ref,De);break;case 5:If(n);default:Ay(a,n),n=Ne=Xp(n,Ji),n=Ey(a,n,Ji)}t.memoizedProps=t.pendingProps,n===null?Ac(t):Ne=n}function Ga(t,n,a,o){qi=Or=null,If(n),Va=null,il=0;var h=n.return;try{if(F1(t,h,n,a,De)){ft=1,uc(t,Dn(a,t.current)),Ne=null;return}}catch(f){if(h!==null)throw Ne=h,f;ft=1,uc(t,Dn(a,t.current)),Ne=null;return}n.flags&32768?(Le||o===1?t=!0:Ba||(De&536870912)!==0?t=!1:(Ms=t=!0,(o===2||o===9||o===3||o===6)&&(o=_n.current,o!==null&&o.tag===13&&(o.flags|=16384))),Jy(n,t)):Ac(n)}function Ac(t){var n=t;do{if((n.flags&32768)!==0){Jy(n,Ms);return}t=n.return;var a=K1(n.alternate,n,Ji);if(a!==null){Ne=a;return}if(n=n.sibling,n!==null){Ne=n;return}Ne=n=t}while(n!==null);ft===0&&(ft=5)}function Jy(t,n){do{var a=Y1(t.alternate,t);if(a!==null){a.flags&=32767,Ne=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Ne=t;return}Ne=t=a}while(t!==null);ft=6,Ne=null}function Wy(t,n,a,o,h,f,_,E,N){t.cancelPendingCommit=null;do Sc();while(Vt!==0);if((He&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=ef,Gh(t,a,f,_,E,N),t===We&&(Ne=We=null,De=0),Ha=n,Ls=t,Wi=a,ud=f,cd=h,qy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,aA(ds,function(){return s_(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=G.T,G.T=null,h=ne.p,ne.p=2,_=He,He|=4;try{X1(t,n,a)}finally{He=_,ne.p=h,G.T=o}}Vt=1,e_(),t_(),n_()}}function e_(){if(Vt===1){Vt=0;var t=Ls,n=Ha,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var o=ne.p;ne.p=2;var h=He;He|=4;try{Vy(n,t);var f=wd,_=jp(t.containerInfo),E=f.focusedElem,N=f.selectionRange;if(_!==E&&E&&E.ownerDocument&&zp(E.ownerDocument.documentElement,E)){if(N!==null&&Xh(E)){var z=N.start,F=N.end;if(F===void 0&&(F=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(F,E.value.length);else{var K=E.ownerDocument||document,j=K&&K.defaultView||window;if(j.getSelection){var H=j.getSelection(),le=E.textContent.length,me=Math.min(N.start,le),Je=N.end===void 0?me:Math.min(N.end,le);!H.extend&&me>Je&&(_=Je,Je=me,me=_);var k=Up(E,me),x=Up(E,Je);if(k&&x&&(H.rangeCount!==1||H.anchorNode!==k.node||H.anchorOffset!==k.offset||H.focusNode!==x.node||H.focusOffset!==x.offset)){var U=K.createRange();U.setStart(k.node,k.offset),H.removeAllRanges(),me>Je?(H.addRange(U),H.extend(x.node,x.offset)):(U.setEnd(x.node,x.offset),H.addRange(U))}}}}for(K=[],H=E;H=H.parentNode;)H.nodeType===1&&K.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<K.length;E++){var Q=K[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}kc=!!bd,wd=bd=null}finally{He=h,ne.p=o,G.T=a}}t.current=n,Vt=2}}function t_(){if(Vt===2){Vt=0;var t=Ls,n=Ha,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var o=ne.p;ne.p=2;var h=He;He|=4;try{Ny(t,n.alternate,n)}finally{He=h,ne.p=o,G.T=a}}Vt=3}}function n_(){if(Vt===4||Vt===3){Vt=0,du();var t=Ls,n=Ha,a=Wi,o=qy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Vt=5:(Vt=0,Ha=Ls=null,i_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(ks=null),Li(a),n=n.stateNode,jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(Bn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=G.T,h=ne.p,ne.p=2,G.T=null;try{for(var f=t.onRecoverableError,_=0;_<o.length;_++){var E=o[_];f(E.value,{componentStack:E.stack})}}finally{G.T=n,ne.p=h}}(Wi&3)!==0&&Sc(),Ci(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===hd?El++:(El=0,hd=t):El=0,Tl(0)}}function i_(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,tl(n)))}function Sc(){return e_(),t_(),n_(),s_()}function s_(){if(Vt!==5)return!1;var t=Ls,n=ud;ud=0;var a=Li(Wi),o=G.T,h=ne.p;try{ne.p=32>a?32:a,G.T=null,a=cd,cd=null;var f=Ls,_=Wi;if(Vt=0,Ha=Ls=null,Wi=0,(He&6)!==0)throw Error(r(331));var E=He;if(He|=4,zy(f.current),Ly(f,f.current,_,a),He=E,Tl(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(Bn,f)}catch{}return!0}finally{ne.p=h,G.T=o,i_(t,n)}}function r_(t,n,a){n=Dn(a,n),n=Hf(t.stateNode,n,2),t=Ns(t,n,2),t!==null&&(pr(t,2),Ci(t))}function Ye(t,n,a){if(t.tag===3)r_(t,t,a);else for(;n!==null;){if(n.tag===3){r_(n,t,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(ks===null||!ks.has(o))){t=Dn(a,t),a=ay(2),o=Ns(n,a,2),o!==null&&(oy(a,o,n,t),pr(o,2),Ci(o));break}}n=n.return}}function md(t,n,a){var o=t.pingCache;if(o===null){o=t.pingCache=new J1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(ad=!0,h.add(a),t=iA.bind(null,t,n,a),n.then(t,t))}function iA(t,n,a){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,We===t&&(De&a)===a&&(ft===4||ft===3&&(De&62914560)===De&&300>nn()-yc?(He&2)===0&&Fa(t,0):od|=a,qa===De&&(qa=0)),Ci(t)}function a_(t,n){n===0&&(n=vu()),t=Nr(t,n),t!==null&&(pr(t,n),Ci(t))}function sA(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),a_(t,a)}function rA(t,n){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),a_(t,a)}function aA(t,n){return Mt(t,n)}var bc=null,Qa=null,pd=!1,wc=!1,gd=!1,Us=0;function Ci(t){t!==Qa&&t.next===null&&(Qa===null?bc=Qa=t:Qa=Qa.next=t),wc=!0,pd||(pd=!0,lA())}function Tl(t,n){if(!gd&&wc){gd=!0;do for(var a=!1,o=bc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var _=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-dt(42|t)+1)-1,f&=h&~(_&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,c_(o,f))}else f=De,f=ui(o,o===We?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||qn(o,f)||(a=!0,c_(o,f));o=o.next}while(a);gd=!1}}function oA(){o_()}function o_(){wc=pd=!1;var t=0;Us!==0&&_A()&&(t=Us);for(var n=nn(),a=null,o=bc;o!==null;){var h=o.next,f=l_(o,n);f===0?(o.next=null,a===null?bc=h:a.next=h,h===null&&(Qa=a)):(a=o,(t!==0||(f&3)!==0)&&(wc=!0)),o=h}Vt!==0&&Vt!==5||Tl(t),Us!==0&&(Us=0)}function l_(t,n){for(var a=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var _=31-dt(f),E=1<<_,N=h[_];N===-1?((E&a)===0||(E&o)!==0)&&(h[_]=Fh(E,n)):N<=n&&(t.expiredLanes|=E),f&=~E}if(n=We,a=De,a=ui(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===n&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&fs(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||qn(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(o!==null&&fs(o),Li(a)){case 2:case 8:a=Do;break;case 32:a=ds;break;case 268435456:a=mu;break;default:a=ds}return o=u_.bind(null,t),a=Mt(a,o),t.callbackPriority=n,t.callbackNode=a,n}return o!==null&&o!==null&&fs(o),t.callbackPriority=2,t.callbackNode=null,2}function u_(t,n){if(Vt!==0&&Vt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Sc()&&t.callbackNode!==a)return null;var o=De;return o=ui(t,t===We?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Fy(t,o,n),l_(t,nn()),t.callbackNode!=null&&t.callbackNode===a?u_.bind(null,t):null)}function c_(t,n){if(Sc())return null;Fy(t,n,!0)}function lA(){EA(function(){(He&6)!==0?Mt(xo,oA):o_()})}function yd(){if(Us===0){var t=Da;t===0&&(t=oi,oi<<=1,(oi&261888)===0&&(oi=256)),Us=t}return Us}function h_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ga(""+t)}function f_(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function uA(t,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var f=h_((h[Lt]||null).action),_=o.submitter;_&&(n=(n=_[Lt]||null)?h_(n.formAction):_.getAttribute("formAction"),n!==null&&(f=n,_=null));var E=new Ei("action","action",null,o,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Us!==0){var N=_?f_(h,_):new FormData(h);Pf(a,{pending:!0,data:N,method:h.method,action:f},null,N)}}else typeof f=="function"&&(E.preventDefault(),N=_?f_(h,_):new FormData(h),Pf(a,{pending:!0,data:N,method:h.method,action:f},f,N))},currentTarget:h}]})}}for(var _d=0;_d<Wh.length;_d++){var vd=Wh[_d],cA=vd.toLowerCase(),hA=vd[0].toUpperCase()+vd.slice(1);$n(cA,"on"+hA)}$n(Hp,"onAnimationEnd"),$n(Fp,"onAnimationIteration"),$n(Gp,"onAnimationStart"),$n("dblclick","onDoubleClick"),$n("focusin","onFocus"),$n("focusout","onBlur"),$n(C1,"onTransitionRun"),$n(I1,"onTransitionStart"),$n(N1,"onTransitionCancel"),$n(Qp,"onTransitionEnd"),gi("onMouseEnter",["mouseout","mouseover"]),gi("onMouseLeave",["mouseout","mouseover"]),gi("onPointerEnter",["pointerout","pointerover"]),gi("onPointerLeave",["pointerout","pointerover"]),pi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),pi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),pi("onBeforeInput",["compositionend","keypress","textInput","paste"]),pi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),pi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),pi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Al));function d_(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],h=o.event;o=o.listeners;e:{var f=void 0;if(n)for(var _=o.length-1;0<=_;_--){var E=o[_],N=E.instance,z=E.currentTarget;if(E=E.listener,N!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=z;try{f(h)}catch(F){ju(F)}h.currentTarget=null,f=N}else for(_=0;_<o.length;_++){if(E=o[_],N=E.instance,z=E.currentTarget,E=E.listener,N!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=z;try{f(h)}catch(F){ju(F)}h.currentTarget=null,f=N}}}}function xe(t,n){var a=n[ha];a===void 0&&(a=n[ha]=new Set);var o=t+"__bubble";a.has(o)||(m_(n,t,2,!1),a.add(o))}function Ed(t,n,a){var o=0;n&&(o|=4),m_(a,t,o,n)}var Rc="_reactListening"+Math.random().toString(36).slice(2);function Td(t){if(!t[Rc]){t[Rc]=!0,Vo.forEach(function(a){a!=="selectionchange"&&(fA.has(a)||Ed(a,!1,t),Ed(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Rc]||(n[Rc]=!0,Ed("selectionchange",!1,n))}}function m_(t,n,a,o){switch(H_(n)){case 2:var h=jA;break;case 8:h=BA;break;default:h=Ld}a=h.bind(null,n,a,t),h=void 0,!Tr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function Ad(t,n,a,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var _=o.tag;if(_===3||_===4){var E=o.stateNode.containerInfo;if(E===h)break;if(_===4)for(_=o.return;_!==null;){var N=_.tag;if((N===3||N===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;E!==null;){if(_=di(E),_===null)return;if(N=_.tag,N===5||N===6||N===26||N===27){o=f=_;continue e}E=E.parentNode}}o=o.return}vs(function(){var z=f,F=Cn(a),K=[];e:{var j=Kp.get(t);if(j!==void 0){var H=Ei,le=t;switch(t){case"keypress":if(Sr(a)===0)break e;case"keydown":case"keyup":H=Pu;break;case"focusin":le="focus",H=wr;break;case"focusout":le="blur",H=wr;break;case"beforeblur":case"afterblur":H=wr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Ko;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Iu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case Hp:case Fp:case Gp:H=xu;break;case Qp:H=A;break;case"scroll":case"scrollend":H=Qo;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=Du;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=zi;break;case"toggle":case"beforetoggle":H=Se}var me=(n&4)!==0,Je=!me&&(t==="scroll"||t==="scrollend"),k=me?j!==null?j+"Capture":null:j;me=[];for(var x=z,U;x!==null;){var Q=x;if(U=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||U===null||k===null||(Q=Qn(x,k),Q!=null&&me.push(Sl(x,Q,U))),Je)break;x=x.return}0<me.length&&(j=new H(j,le,null,a,F),K.push({event:j,listeners:me}))}}if((n&7)===0){e:{if(j=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",j&&a!==Ho&&(le=a.relatedTarget||a.fromElement)&&(di(le)||le[hi]))break e;if((H||j)&&(j=F.window===F?F:(j=F.ownerDocument)?j.defaultView||j.parentWindow:window,H?(le=a.relatedTarget||a.toElement,H=z,le=le?di(le):null,le!==null&&(Je=c(le),me=le.tag,le!==Je||me!==5&&me!==27&&me!==6)&&(le=null)):(H=null,le=z),H!==le)){if(me=Ko,Q="onMouseLeave",k="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(me=zi,Q="onPointerLeave",k="onPointerEnter",x="pointer"),Je=H==null?j:mn(H),U=le==null?j:mn(le),j=new me(Q,x+"leave",H,a,F),j.target=Je,j.relatedTarget=U,Q=null,di(F)===z&&(me=new me(k,x+"enter",le,a,F),me.target=U,me.relatedTarget=Je,Q=me),Je=Q,H&&le)t:{for(me=dA,k=H,x=le,U=0,Q=k;Q;Q=me(Q))U++;Q=0;for(var he=x;he;he=me(he))Q++;for(;0<U-Q;)k=me(k),U--;for(;0<Q-U;)x=me(x),Q--;for(;U--;){if(k===x||x!==null&&k===x.alternate){me=k;break t}k=me(k),x=me(x)}me=null}else me=null;H!==null&&p_(K,j,H,me,!1),le!==null&&Je!==null&&p_(K,Je,le,me,!0)}}e:{if(j=z?mn(z):window,H=j.nodeName&&j.nodeName.toLowerCase(),H==="select"||H==="input"&&j.type==="file")var je=Op;else if(xp(j))if(Mp)je=b1;else{je=A1;var ue=T1}else H=j.nodeName,!H||H.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&pa(z.elementType)&&(je=Op):je=S1;if(je&&(je=je(t,z))){Dp(K,je,a,F);break e}ue&&ue(t,j,z),t==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&jo(j,"number",j.value)}switch(ue=z?mn(z):window,t){case"focusin":(xp(ue)||ue.contentEditable==="true")&&(Sa=ue,$h=z,Jo=null);break;case"focusout":Jo=$h=Sa=null;break;case"mousedown":Zh=!0;break;case"contextmenu":case"mouseup":case"dragend":Zh=!1,Bp(K,a,F);break;case"selectionchange":if(R1)break;case"keydown":case"keyup":Bp(K,a,F)}var Ce;if(qe)e:{switch(t){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else Aa?Rr(t,a)&&(Oe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Oe="onCompositionStart");Oe&&(Si&&a.locale!=="ko"&&(Aa||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&Aa&&(Ce=Go()):(vi=F,Fo="value"in vi?vi.value:vi.textContent,Aa=!0)),ue=Cc(z,Oe),0<ue.length&&(Oe=new Ai(Oe,t,null,a,F),K.push({event:Oe,listeners:ue}),Ce?Oe.data=Ce:(Ce=Ta(a),Ce!==null&&(Oe.data=Ce)))),(Ce=Nn?y1(t,a):_1(t,a))&&(Oe=Cc(z,"onBeforeInput"),0<Oe.length&&(ue=new Ai("onBeforeInput","beforeinput",null,a,F),K.push({event:ue,listeners:Oe}),ue.data=Ce)),uA(K,t,z,a,F)}d_(K,n)})}function Sl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Cc(t,n){for(var a=n+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Qn(t,a),h!=null&&o.unshift(Sl(t,h,f)),h=Qn(t,n),h!=null&&o.push(Sl(t,h,f))),t.tag===3)return o;t=t.return}return[]}function dA(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function p_(t,n,a,o,h){for(var f=n._reactName,_=[];a!==null&&a!==o;){var E=a,N=E.alternate,z=E.stateNode;if(E=E.tag,N!==null&&N===o)break;E!==5&&E!==26&&E!==27||z===null||(N=z,h?(z=Qn(a,f),z!=null&&_.unshift(Sl(a,z,N))):h||(z=Qn(a,f),z!=null&&_.push(Sl(a,z,N)))),a=a.return}_.length!==0&&t.push({event:n,listeners:_})}var mA=/\r\n?/g,pA=/\u0000|\uFFFD/g;function g_(t){return(typeof t=="string"?t:""+t).replace(mA,`
`).replace(pA,"")}function y_(t,n){return n=g_(n),g_(t)===n}function Ze(t,n,a,o,h,f){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||on(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&on(t,""+o);break;case"className":pn(t,"class",o);break;case"tabIndex":pn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":pn(t,a,o);break;case"style":qo(t,o,f);break;case"data":if(n!=="object"){pn(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=ga(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Ze(t,n,"name",h.name,h,null),Ze(t,n,"formEncType",h.formEncType,h,null),Ze(t,n,"formMethod",h.formMethod,h,null),Ze(t,n,"formTarget",h.formTarget,h,null)):(Ze(t,n,"encType",h.encType,h,null),Ze(t,n,"method",h.method,h,null),Ze(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=ga(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=Gn);break;case"onScroll":o!=null&&xe("scroll",t);break;case"onScrollEnd":o!=null&&xe("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=ga(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":xe("beforetoggle",t),xe("toggle",t),da(t,"popover",o);break;case"xlinkActuate":At(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":At(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":At(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":At(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":At(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":At(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":At(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":At(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":At(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":da(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Cu.get(a)||a,da(t,a,o))}}function Sd(t,n,a,o,h,f){switch(a){case"style":qo(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof o=="string"?on(t,o):(typeof o=="number"||typeof o=="bigint")&&on(t,""+o);break;case"onScroll":o!=null&&xe("scroll",t);break;case"onScrollEnd":o!=null&&xe("scrollend",t);break;case"onClick":o!=null&&(t.onclick=Gn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ko.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=t[Lt]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,o,h);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):da(t,a,o)}}}function Gt(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xe("error",t),xe("load",t);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var _=a[f];if(_!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Ze(t,n,f,_,a,null)}}h&&Ze(t,n,"srcSet",a.srcSet,a,null),o&&Ze(t,n,"src",a.src,a,null);return;case"input":xe("invalid",t);var E=f=_=h=null,N=null,z=null;for(o in a)if(a.hasOwnProperty(o)){var F=a[o];if(F!=null)switch(o){case"name":h=F;break;case"type":_=F;break;case"checked":N=F;break;case"defaultChecked":z=F;break;case"value":f=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,n));break;default:Ze(t,n,o,F,a,null)}}bu(t,f,E,N,z,_,h,!1);return;case"select":xe("invalid",t),o=_=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":_=E;break;case"multiple":o=E;default:Ze(t,n,h,E,a,null)}n=f,a=_,t.multiple=!!o,n!=null?ps(t,!!o,n,!1):a!=null&&ps(t,!!o,a,!0);return;case"textarea":xe("invalid",t),f=h=o=null;for(_ in a)if(a.hasOwnProperty(_)&&(E=a[_],E!=null))switch(_){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:Ze(t,n,_,E,a,null)}gs(t,o,h,f);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(o=a[N],o!=null))switch(N){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Ze(t,n,N,o,a,null)}return;case"dialog":xe("beforetoggle",t),xe("toggle",t),xe("cancel",t),xe("close",t);break;case"iframe":case"object":xe("load",t);break;case"video":case"audio":for(o=0;o<Al.length;o++)xe(Al[o],t);break;case"image":xe("error",t),xe("load",t);break;case"details":xe("toggle",t);break;case"embed":case"source":case"link":xe("error",t),xe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(o=a[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Ze(t,n,z,o,a,null)}return;default:if(pa(n)){for(F in a)a.hasOwnProperty(F)&&(o=a[F],o!==void 0&&Sd(t,n,F,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&Ze(t,n,E,o,a,null))}function gA(t,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,_=null,E=null,N=null,z=null,F=null;for(H in a){var K=a[H];if(a.hasOwnProperty(H)&&K!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":N=K;default:o.hasOwnProperty(H)||Ze(t,n,H,null,o,K)}}for(var j in o){var H=o[j];if(K=a[j],o.hasOwnProperty(j)&&(H!=null||K!=null))switch(j){case"type":f=H;break;case"name":h=H;break;case"checked":z=H;break;case"defaultChecked":F=H;break;case"value":_=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,n));break;default:H!==K&&Ze(t,n,j,H,o,K)}}ma(t,_,E,N,z,F,f,h);return;case"select":H=_=E=j=null;for(f in a)if(N=a[f],a.hasOwnProperty(f)&&N!=null)switch(f){case"value":break;case"multiple":H=N;default:o.hasOwnProperty(f)||Ze(t,n,f,null,o,N)}for(h in o)if(f=o[h],N=a[h],o.hasOwnProperty(h)&&(f!=null||N!=null))switch(h){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":_=f;default:f!==N&&Ze(t,n,h,f,o,N)}n=E,a=_,o=H,j!=null?ps(t,!!a,j,!1):!!o!=!!a&&(n!=null?ps(t,!!a,n,!0):ps(t,!!a,a?[]:"",!1));return;case"textarea":H=j=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Ze(t,n,E,null,o,h)}for(_ in o)if(h=o[_],f=a[_],o.hasOwnProperty(_)&&(h!=null||f!=null))switch(_){case"value":j=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&Ze(t,n,_,h,o,f)}wu(t,j,H);return;case"option":for(var le in a)if(j=a[le],a.hasOwnProperty(le)&&j!=null&&!o.hasOwnProperty(le))switch(le){case"selected":t.selected=!1;break;default:Ze(t,n,le,null,o,j)}for(N in o)if(j=o[N],H=a[N],o.hasOwnProperty(N)&&j!==H&&(j!=null||H!=null))switch(N){case"selected":t.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Ze(t,n,N,j,o,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var me in a)j=a[me],a.hasOwnProperty(me)&&j!=null&&!o.hasOwnProperty(me)&&Ze(t,n,me,null,o,j);for(z in o)if(j=o[z],H=a[z],o.hasOwnProperty(z)&&j!==H&&(j!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(137,n));break;default:Ze(t,n,z,j,o,H)}return;default:if(pa(n)){for(var Je in a)j=a[Je],a.hasOwnProperty(Je)&&j!==void 0&&!o.hasOwnProperty(Je)&&Sd(t,n,Je,void 0,o,j);for(F in o)j=o[F],H=a[F],!o.hasOwnProperty(F)||j===H||j===void 0&&H===void 0||Sd(t,n,F,j,o,H);return}}for(var k in a)j=a[k],a.hasOwnProperty(k)&&j!=null&&!o.hasOwnProperty(k)&&Ze(t,n,k,null,o,j);for(K in o)j=o[K],H=a[K],!o.hasOwnProperty(K)||j===H||j==null&&H==null||Ze(t,n,K,j,o,H)}function __(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function yA(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,_=h.initiatorType,E=h.duration;if(f&&E&&__(_)){for(_=0,E=h.responseEnd,o+=1;o<a.length;o++){var N=a[o],z=N.startTime;if(z>E)break;var F=N.transferSize,K=N.initiatorType;F&&__(K)&&(N=N.responseEnd,_+=F*(N<E?1:(E-z)/(N-z)))}if(--o,n+=8*(f+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var bd=null,wd=null;function Ic(t){return t.nodeType===9?t:t.ownerDocument}function v_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function E_(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Rd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Cd=null;function _A(){var t=window.event;return t&&t.type==="popstate"?t===Cd?!1:(Cd=t,!0):(Cd=null,!1)}var T_=typeof setTimeout=="function"?setTimeout:void 0,vA=typeof clearTimeout=="function"?clearTimeout:void 0,A_=typeof Promise=="function"?Promise:void 0,EA=typeof queueMicrotask=="function"?queueMicrotask:typeof A_<"u"?function(t){return A_.resolve(null).then(t).catch(TA)}:T_;function TA(t){setTimeout(function(){throw t})}function zs(t){return t==="head"}function S_(t,n){var a=n,o=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(h),$a(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")bl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,bl(a);for(var f=a.firstChild;f;){var _=f.nextSibling,E=f.nodeName;f[fi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=_}}else a==="body"&&bl(t.ownerDocument.body);a=h}while(a);$a(n)}function b_(t,n){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function Id(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Id(a),fa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function AA(t,n,a,o){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[fi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Ln(t.nextSibling),t===null)break}return null}function SA(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Ln(t.nextSibling),t===null))return null;return t}function w_(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Ln(t.nextSibling),t===null))return null;return t}function Nd(t){return t.data==="$?"||t.data==="$~"}function xd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function bA(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Ln(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Dd=null;function R_(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return Ln(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function C_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function I_(t,n,a){switch(n=Ic(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function bl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);fa(t)}var Pn=new Map,N_=new Set;function Nc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var es=ne.d;ne.d={f:wA,r:RA,D:CA,C:IA,L:NA,m:xA,X:OA,S:DA,M:MA};function wA(){var t=es.f(),n=Ec();return t||n}function RA(t){var n=Rn(t);n!==null&&n.tag===5&&n.type==="form"?Qg(n):es.r(t)}var Ka=typeof document>"u"?null:document;function x_(t,n,a){var o=Ka;if(o&&typeof n=="string"&&n){var h=an(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),N_.has(h)||(N_.add(h),t={rel:t,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Gt(n,"link",t),Tt(n),o.head.appendChild(n)))}}function CA(t){es.D(t),x_("dns-prefetch",t,null)}function IA(t,n){es.C(t,n),x_("preconnect",t,n)}function NA(t,n,a){es.L(t,n,a);var o=Ka;if(o&&t&&n){var h='link[rel="preload"][as="'+an(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+an(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+an(a.imageSizes)+'"]')):h+='[href="'+an(t)+'"]';var f=h;switch(n){case"style":f=Ya(t);break;case"script":f=Xa(t)}Pn.has(f)||(t=T({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Pn.set(f,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(wl(f))||n==="script"&&o.querySelector(Rl(f))||(n=o.createElement("link"),Gt(n,"link",t),Tt(n),o.head.appendChild(n)))}}function xA(t,n){es.m(t,n);var a=Ka;if(a&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+an(o)+'"][href="'+an(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Xa(t)}if(!Pn.has(f)&&(t=T({rel:"modulepreload",href:t},n),Pn.set(f,t),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Rl(f)))return}o=a.createElement("link"),Gt(o,"link",t),Tt(o),a.head.appendChild(o)}}}function DA(t,n,a){es.S(t,n,a);var o=Ka;if(o&&t){var h=mi(o).hoistableStyles,f=Ya(t);n=n||"default";var _=h.get(f);if(!_){var E={loading:0,preload:null};if(_=o.querySelector(wl(f)))E.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Pn.get(f))&&Od(t,a);var N=_=o.createElement("link");Tt(N),Gt(N,"link",t),N._p=new Promise(function(z,F){N.onload=z,N.onerror=F}),N.addEventListener("load",function(){E.loading|=1}),N.addEventListener("error",function(){E.loading|=2}),E.loading|=4,xc(_,n,o)}_={type:"stylesheet",instance:_,count:1,state:E},h.set(f,_)}}}function OA(t,n){es.X(t,n);var a=Ka;if(a&&t){var o=mi(a).hoistableScripts,h=Xa(t),f=o.get(h);f||(f=a.querySelector(Rl(h)),f||(t=T({src:t,async:!0},n),(n=Pn.get(h))&&Md(t,n),f=a.createElement("script"),Tt(f),Gt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function MA(t,n){es.M(t,n);var a=Ka;if(a&&t){var o=mi(a).hoistableScripts,h=Xa(t),f=o.get(h);f||(f=a.querySelector(Rl(h)),f||(t=T({src:t,async:!0,type:"module"},n),(n=Pn.get(h))&&Md(t,n),f=a.createElement("script"),Tt(f),Gt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function D_(t,n,a,o){var h=(h=Re.current)?Nc(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Ya(a.href),a=mi(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ya(a.href);var f=mi(h).hoistableStyles,_=f.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,_),(f=h.querySelector(wl(t)))&&!f._p&&(_.instance=f,_.state.loading=5),Pn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Pn.set(t,a),f||VA(h,t,a,_.state))),n&&o===null)throw Error(r(528,""));return _}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Xa(a),a=mi(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Ya(t){return'href="'+an(t)+'"'}function wl(t){return'link[rel="stylesheet"]['+t+"]"}function O_(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function VA(t,n,a,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Gt(n,"link",a),Tt(n),t.head.appendChild(n))}function Xa(t){return'[src="'+an(t)+'"]'}function Rl(t){return"script[async]"+t}function M_(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+an(a.href)+'"]');if(o)return n.instance=o,Tt(o),o;var h=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Tt(o),Gt(o,"style",h),xc(o,a.precedence,t),n.instance=o;case"stylesheet":h=Ya(a.href);var f=t.querySelector(wl(h));if(f)return n.state.loading|=4,n.instance=f,Tt(f),f;o=O_(a),(h=Pn.get(h))&&Od(o,h),f=(t.ownerDocument||t).createElement("link"),Tt(f);var _=f;return _._p=new Promise(function(E,N){_.onload=E,_.onerror=N}),Gt(f,"link",o),n.state.loading|=4,xc(f,a.precedence,t),n.instance=f;case"script":return f=Xa(a.src),(h=t.querySelector(Rl(f)))?(n.instance=h,Tt(h),h):(o=a,(h=Pn.get(f))&&(o=T({},a),Md(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),Tt(h),Gt(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,xc(o,a.precedence,t));return n.instance}function xc(t,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,_=0;_<o.length;_++){var E=o[_];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Od(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Md(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Dc=null;function V_(t,n,a){if(Dc===null){var o=new Map,h=Dc=new Map;h.set(a,o)}else h=Dc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[fi]||f[Et]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var _=f.getAttribute(n)||"";_=t+_;var E=o.get(_);E?E.push(f):o.set(_,[f])}}return o}function k_(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function kA(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function L_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function LA(t,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Ya(o.href),f=n.querySelector(wl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Oc.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,Tt(f);return}f=n.ownerDocument||n,o=O_(o),(h=Pn.get(h))&&Od(o,h),f=f.createElement("link"),Tt(f);var _=f;_._p=new Promise(function(E,N){_.onload=E,_.onerror=N}),Gt(f,"link",o),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Oc.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var Vd=0;function PA(t,n){return t.stylesheets&&t.count===0&&Vc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&Vc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Vd===0&&(Vd=62500*yA());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Vc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Vd?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Oc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Vc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Mc=null;function Vc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Mc=new Map,n.forEach(UA,t),Mc=null,Oc.call(t))}function UA(t,n){if(!(n.state.loading&4)){var a=Mc.get(t);if(a)var o=a.get(null);else{a=new Map,Mc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var _=h[f];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),o=_)}o&&a.set(null,o)}h=n.instance,_=h.getAttribute("data-precedence"),f=a.get(_)||o,f===o&&a.set(null,h),a.set(_,h),this.count++,o=Oc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var Cl={$$typeof:W,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function zA(t,n,a,o,h,f,_,E,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ci(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ci(0),this.hiddenUpdates=ci(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function P_(t,n,a,o,h,f,_,E,N,z,F,K){return t=new zA(t,n,a,_,N,z,F,K,E),n=1,f===!0&&(n|=24),f=yn(3,null,null,n),t.current=f,f.stateNode=t,n=df(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:n},yf(f),t}function U_(t){return t?(t=Ra,t):Ra}function z_(t,n,a,o,h,f){h=U_(h),o.context===null?o.context=h:o.pendingContext=h,o=Is(n),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=Ns(t,o,n),a!==null&&(fn(a,t,n),rl(a,t,n))}function j_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function kd(t,n){j_(t,n),(t=t.alternate)&&j_(t,n)}function B_(t){if(t.tag===13||t.tag===31){var n=Nr(t,67108864);n!==null&&fn(n,t,67108864),kd(t,67108864)}}function q_(t){if(t.tag===13||t.tag===31){var n=An();n=yr(n);var a=Nr(t,n);a!==null&&fn(a,t,n),kd(t,n)}}var kc=!0;function jA(t,n,a,o){var h=G.T;G.T=null;var f=ne.p;try{ne.p=2,Ld(t,n,a,o)}finally{ne.p=f,G.T=h}}function BA(t,n,a,o){var h=G.T;G.T=null;var f=ne.p;try{ne.p=8,Ld(t,n,a,o)}finally{ne.p=f,G.T=h}}function Ld(t,n,a,o){if(kc){var h=Pd(o);if(h===null)Ad(t,n,o,Lc,a),F_(t,o);else if(HA(h,t,n,a,o))o.stopPropagation();else if(F_(t,o),n&4&&-1<qA.indexOf(t)){for(;h!==null;){var f=Rn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var _=li(f.pendingLanes);if(_!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;_;){var N=1<<31-dt(_);E.entanglements[1]|=N,_&=~N}Ci(f),(He&6)===0&&(_c=nn()+500,Tl(0))}}break;case 31:case 13:E=Nr(f,2),E!==null&&fn(E,f,2),Ec(),kd(f,2)}if(f=Pd(o),f===null&&Ad(t,n,o,Lc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else Ad(t,n,o,null,a)}}function Pd(t){return t=Cn(t),Ud(t)}var Lc=null;function Ud(t){if(Lc=null,t=di(t),t!==null){var n=c(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=p(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Lc=t,null}function H_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(dr()){case xo:return 2;case Do:return 8;case ds:case Hh:return 32;case mu:return 268435456;default:return 32}default:return 32}}var zd=!1,js=null,Bs=null,qs=null,Il=new Map,Nl=new Map,Hs=[],qA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function F_(t,n){switch(t){case"focusin":case"focusout":js=null;break;case"dragenter":case"dragleave":Bs=null;break;case"mouseover":case"mouseout":qs=null;break;case"pointerover":case"pointerout":Il.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nl.delete(n.pointerId)}}function xl(t,n,a,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Rn(n),n!==null&&B_(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function HA(t,n,a,o,h){switch(n){case"focusin":return js=xl(js,t,n,a,o,h),!0;case"dragenter":return Bs=xl(Bs,t,n,a,o,h),!0;case"mouseover":return qs=xl(qs,t,n,a,o,h),!0;case"pointerover":var f=h.pointerId;return Il.set(f,xl(Il.get(f)||null,t,n,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,Nl.set(f,xl(Nl.get(f)||null,t,n,a,o,h)),!0}return!1}function G_(t){var n=di(t.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,Hn(t.priority,function(){q_(a)});return}}else if(n===31){if(n=p(a),n!==null){t.blockedOn=n,Hn(t.priority,function(){q_(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Pc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Pd(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);Ho=o,a.target.dispatchEvent(o),Ho=null}else return n=Rn(a),n!==null&&B_(n),t.blockedOn=a,!1;n.shift()}return!0}function Q_(t,n,a){Pc(t)&&a.delete(n)}function FA(){zd=!1,js!==null&&Pc(js)&&(js=null),Bs!==null&&Pc(Bs)&&(Bs=null),qs!==null&&Pc(qs)&&(qs=null),Il.forEach(Q_),Nl.forEach(Q_)}function Uc(t,n){t.blockedOn===n&&(t.blockedOn=null,zd||(zd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,FA)))}var zc=null;function K_(t){zc!==t&&(zc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){zc===t&&(zc=null);for(var n=0;n<t.length;n+=3){var a=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(Ud(o||a)===null)continue;break}var f=Rn(a);f!==null&&(t.splice(n,3),n-=3,Pf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function $a(t){function n(N){return Uc(N,t)}js!==null&&Uc(js,t),Bs!==null&&Uc(Bs,t),qs!==null&&Uc(qs,t),Il.forEach(n),Nl.forEach(n);for(var a=0;a<Hs.length;a++){var o=Hs[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Hs.length&&(a=Hs[0],a.blockedOn===null);)G_(a),a.blockedOn===null&&Hs.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],_=h[Lt]||null;if(typeof f=="function")_||K_(a);else if(_){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,_=f[Lt]||null)E=_.formAction;else if(Ud(h)!==null)continue}else E=_.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),K_(a)}}}function Y_(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function jd(t){this._internalRoot=t}jc.prototype.render=jd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,o=An();z_(a,o,t,n,null,null)},jc.prototype.unmount=jd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;z_(t.current,2,null,t,null,null),Ec(),n[hi]=null}};function jc(t){this._internalRoot=t}jc.prototype.unstable_scheduleHydration=function(t){if(t){var n=Eu();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Hs.length&&n!==0&&n<Hs[a].priority;a++);Hs.splice(a,0,t),a===0&&G_(t)}};var X_=e.version;if(X_!=="19.2.0")throw Error(r(527,X_,"19.2.0"));ne.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=y(n),t=t!==null?S(t):null,t=t===null?null:t.stateNode,t};var GA={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bc.isDisabled&&Bc.supportsFiber)try{Bn=Bc.inject(GA),jt=Bc}catch{}}return Ol.createRoot=function(t,n){if(!l(t))throw Error(r(299));var a=!1,o="",h=ny,f=iy,_=sy;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(_=n.onRecoverableError)),n=P_(t,1,!1,null,null,a,o,null,h,f,_,Y_),t[hi]=n.current,Td(t),new jd(n)},Ol.hydrateRoot=function(t,n,a){if(!l(t))throw Error(r(299));var o=!1,h="",f=ny,_=iy,E=sy,N=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),n=P_(t,1,!0,n,a??null,o,h,N,f,_,E,Y_),n.context=U_(null),a=n.current,o=An(),o=yr(o),h=Is(o),h.callback=null,Ns(a,h,o),a=o,n.current.lanes=a,pr(n,a),Ci(n),t[hi]=n.current,Td(t),new jc(n)},Ol.version="19.2.0",Ol}var rv;function tS(){if(rv)return Hd.exports;rv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Hd.exports=eS(),Hd.exports}var nS=tS();const iS=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),sS=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,r)=>r?r.toUpperCase():i.toLowerCase()),av=s=>{const e=sS(s);return e.charAt(0).toUpperCase()+e.slice(1)},U0=(...s)=>s.filter((e,i,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===i).join(" ").trim(),rS=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var aS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const oS=_e.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:l="",children:c,iconNode:d,...p},g)=>_e.createElement("svg",{ref:g,...aS,width:e,height:e,stroke:s,strokeWidth:r?Number(i)*24/Number(e):i,className:U0("lucide",l),...!c&&!rS(p)&&{"aria-hidden":"true"},...p},[...d.map(([y,S])=>_e.createElement(y,S)),...Array.isArray(c)?c:[c]]));const tt=(s,e)=>{const i=_e.forwardRef(({className:r,...l},c)=>_e.createElement(oS,{ref:c,iconNode:e,className:U0(`lucide-${iS(av(s))}`,`lucide-${s}`,r),...l}));return i.displayName=av(s),i};const lS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],uS=tt("arrow-right",lS);const cS=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],z0=tt("briefcase",cS);const hS=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],j0=tt("calendar",hS);const fS=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],B0=tt("chart-column",fS);const dS=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],mS=tt("chevron-right",dS);const pS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],q0=tt("circle-alert",pS);const gS=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Mm=tt("dollar-sign",gS);const yS=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 18v-2",key:"qcmpov"}],["path",{d:"M12 18v-4",key:"q1q25u"}],["path",{d:"M16 18v-6",key:"15y0np"}]],_S=tt("file-chart-column-increasing",yS);const vS=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],H0=tt("file-text",vS);const ES=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],TS=tt("funnel",ES);const AS=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],SS=tt("lock",AS);const bS=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],wS=tt("log-out",bS);const RS=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],CS=tt("mail",RS);const IS=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],NS=tt("menu",IS);const xS=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],F0=tt("package",xS);const DS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ah=tt("plus",DS);const OS=[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]],MS=tt("scissors",OS);const VS=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],kS=tt("search",VS);const LS=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],rm=tt("settings",LS);const PS=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],US=tt("trash-2",PS);const zS=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],jS=tt("trending-down",zS);const BS=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],qS=tt("trending-up",BS);const HS=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Vm=tt("user-plus",HS);const FS=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],GS=tt("user",FS);const QS=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],G0=tt("users",QS);const KS=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Q0=tt("x",KS),YS=()=>{};var ov={};const K0=function(s){const e=[];let i=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},XS=function(s){const e=[];let i=0,r=0;for(;i<s.length;){const l=s[i++];if(l<128)e[r++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];e[r++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],p=s[i++],g=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(g>>10)),e[r++]=String.fromCharCode(56320+(g&1023))}else{const c=s[i++],d=s[i++];e[r++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Y0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,p=d?s[l+1]:0,g=l+2<s.length,y=g?s[l+2]:0,S=c>>2,T=(c&3)<<4|p>>4;let M=(p&15)<<2|y>>6,B=y&63;g||(B=64,d||(M=64)),r.push(i[S],i[T],i[M],i[B])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(K0(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):XS(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],p=l<s.length?i[s.charAt(l)]:0;++l;const y=l<s.length?i[s.charAt(l)]:64;++l;const T=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||p==null||y==null||T==null)throw new $S;const M=c<<2|p>>4;if(r.push(M),y!==64){const B=p<<4&240|y>>2;if(r.push(B),T!==64){const Z=y<<6&192|T;r.push(Z)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class $S extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ZS=function(s){const e=K0(s);return Y0.encodeByteArray(e,!0)},sh=function(s){return ZS(s).replace(/\./g,"")},X0=function(s){try{return Y0.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function JS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const WS=()=>JS().__FIREBASE_DEFAULTS__,eb=()=>{if(typeof process>"u"||typeof ov>"u")return;const s=ov.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},tb=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&X0(s[1]);return e&&JSON.parse(e)},Sh=()=>{try{return YS()||WS()||eb()||tb()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},$0=s=>Sh()?.emulatorHosts?.[s],nb=s=>{const e=$0(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},Z0=()=>Sh()?.config,J0=s=>Sh()?.[`_${s}`];class ib{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}function go(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function W0(s){return(await fetch(s,{credentials:"include"})).ok}function sb(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[sh(JSON.stringify(i)),sh(JSON.stringify(d)),""].join(".")}const zl={};function rb(){const s={prod:[],emulator:[]};for(const e of Object.keys(zl))zl[e]?s.emulator.push(e):s.prod.push(e);return s}function ab(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let lv=!1;function eE(s,e){if(typeof window>"u"||typeof document>"u"||!go(window.location.host)||zl[s]===e||zl[s]||lv)return;zl[s]=e;function i(M){return`__firebase__banner__${M}`}const r="__firebase__banner",c=rb().prod.length>0;function d(){const M=document.getElementById(r);M&&M.remove()}function p(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function g(M,B){M.setAttribute("width","24"),M.setAttribute("id",B),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function y(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{lv=!0,d()},M}function S(M,B){M.setAttribute("id",B),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function T(){const M=ab(r),B=i("text"),Z=document.getElementById(B)||document.createElement("span"),te=i("learnmore"),J=document.getElementById(te)||document.createElement("a"),ce=i("preprendIcon"),ye=document.getElementById(ce)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const W=M.element;p(W),S(J,te);const oe=y();g(ye,ce),W.append(ye,Z,J,oe),document.body.appendChild(W)}c?(Z.innerText="Preview backend disconnected.",ye.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ye.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",B)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ob(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function lb(){const s=Sh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ub(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function cb(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function hb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function fb(){const s=tn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function db(){return!lb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mb(){try{return typeof indexedDB=="object"}catch{return!1}}function pb(){return new Promise((s,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(i){e(i)}})}const gb="FirebaseError";class cs extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=gb,Object.setPrototypeOf(this,cs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nu.prototype.create)}}class nu{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},l=`${this.service}/${e}`,c=this.errors[e],d=c?yb(c,r):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new cs(l,p,r)}}function yb(s,e){return s.replace(_b,(i,r)=>{const l=e[r];return l!=null?String(l):`<${r}?>`})}const _b=/\{\$([^}]+)}/g;function vb(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Kr(s,e){if(s===e)return!0;const i=Object.keys(s),r=Object.keys(e);for(const l of i){if(!r.includes(l))return!1;const c=s[l],d=e[l];if(uv(c)&&uv(d)){if(!Kr(c,d))return!1}else if(c!==d)return!1}for(const l of r)if(!i.includes(l))return!1;return!0}function uv(s){return s!==null&&typeof s=="object"}function iu(s){const e=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ml(s){const e={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[l,c]=r.split("=");e[decodeURIComponent(l)]=decodeURIComponent(c)}}),e}function Vl(s){const e=s.indexOf("?");if(!e)return"";const i=s.indexOf("#",e);return s.substring(e,i>0?i:void 0)}function Eb(s,e){const i=new Tb(s,e);return i.subscribe.bind(i)}class Tb{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,r){let l;if(e===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");Ab(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:r},l.next===void 0&&(l.next=Kd),l.error===void 0&&(l.error=Kd),l.complete===void 0&&(l.complete=Kd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ab(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function Kd(){}function Yt(s){return s&&s._delegate?s._delegate:s}class Yr{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const qr="[DEFAULT]";class Sb{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new ib;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(wb(e))try{this.getOrInitializeService({instanceIdentifier:qr})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});r.resolve(c)}catch{}}}}clearInstance(e=qr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qr){return this.instances.has(e)}getOptions(e=qr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);r===p&&d.resolve(l)}return l}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(r)??new Set;l.add(e),this.onInitCallbacks.set(r,l);const c=this.instances.get(r);return c&&e(c,r),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const l of r)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:bb(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=qr){return this.component?this.component.multipleInstances?e:qr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function bb(s){return s===qr?void 0:s}function wb(s){return s.instantiationMode==="EAGER"}class Rb{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new Sb(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Me;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Me||(Me={}));const Cb={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},Ib=Me.INFO,Nb={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},xb=(s,e,...i)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),l=Nb[e];if(l)console[l](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class km{constructor(e){this.name=e,this._logLevel=Ib,this._logHandler=xb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Cb[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const Db=(s,e)=>e.some(i=>s instanceof i);let cv,hv;function Ob(){return cv||(cv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Mb(){return hv||(hv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const tE=new WeakMap,am=new WeakMap,nE=new WeakMap,Yd=new WeakMap,Lm=new WeakMap;function Vb(s){const e=new Promise((i,r)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i($s(s.result)),l()},d=()=>{r(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&tE.set(i,s)}).catch(()=>{}),Lm.set(e,s),e}function kb(s){if(am.has(s))return;const e=new Promise((i,r)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});am.set(s,e)}let om={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return am.get(s);if(e==="objectStoreNames")return s.objectStoreNames||nE.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return $s(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function Lb(s){om=s(om)}function Pb(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=s.call(Xd(this),e,...i);return nE.set(r,e.sort?e.sort():[e]),$s(r)}:Mb().includes(s)?function(...e){return s.apply(Xd(this),e),$s(tE.get(this))}:function(...e){return $s(s.apply(Xd(this),e))}}function Ub(s){return typeof s=="function"?Pb(s):(s instanceof IDBTransaction&&kb(s),Db(s,Ob())?new Proxy(s,om):s)}function $s(s){if(s instanceof IDBRequest)return Vb(s);if(Yd.has(s))return Yd.get(s);const e=Ub(s);return e!==s&&(Yd.set(s,e),Lm.set(e,s)),e}const Xd=s=>Lm.get(s);function zb(s,e,{blocked:i,upgrade:r,blocking:l,terminated:c}={}){const d=indexedDB.open(s,e),p=$s(d);return r&&d.addEventListener("upgradeneeded",g=>{r($s(d.result),g.oldVersion,g.newVersion,$s(d.transaction),g)}),i&&d.addEventListener("blocked",g=>i(g.oldVersion,g.newVersion,g)),p.then(g=>{c&&g.addEventListener("close",()=>c()),l&&g.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const jb=["get","getKey","getAll","getAllKeys","count"],Bb=["put","add","delete","clear"],$d=new Map;function fv(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if($d.get(e))return $d.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,l=Bb.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(l||jb.includes(i)))return;const c=async function(d,...p){const g=this.transaction(d,l?"readwrite":"readonly");let y=g.store;return r&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),l&&g.done]))[0]};return $d.set(e,c),c}Lb(s=>({...s,get:(e,i,r)=>fv(e,i)||s.get(e,i,r),has:(e,i)=>!!fv(e,i)||s.has(e,i)}));class qb{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(Hb(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function Hb(s){return s.getComponent()?.type==="VERSION"}const lm="@firebase/app",dv="0.14.6";const as=new km("@firebase/app"),Fb="@firebase/app-compat",Gb="@firebase/analytics-compat",Qb="@firebase/analytics",Kb="@firebase/app-check-compat",Yb="@firebase/app-check",Xb="@firebase/auth",$b="@firebase/auth-compat",Zb="@firebase/database",Jb="@firebase/data-connect",Wb="@firebase/database-compat",ew="@firebase/functions",tw="@firebase/functions-compat",nw="@firebase/installations",iw="@firebase/installations-compat",sw="@firebase/messaging",rw="@firebase/messaging-compat",aw="@firebase/performance",ow="@firebase/performance-compat",lw="@firebase/remote-config",uw="@firebase/remote-config-compat",cw="@firebase/storage",hw="@firebase/storage-compat",fw="@firebase/firestore",dw="@firebase/ai",mw="@firebase/firestore-compat",pw="firebase",gw="12.6.0";const um="[DEFAULT]",yw={[lm]:"fire-core",[Fb]:"fire-core-compat",[Qb]:"fire-analytics",[Gb]:"fire-analytics-compat",[Yb]:"fire-app-check",[Kb]:"fire-app-check-compat",[Xb]:"fire-auth",[$b]:"fire-auth-compat",[Zb]:"fire-rtdb",[Jb]:"fire-data-connect",[Wb]:"fire-rtdb-compat",[ew]:"fire-fn",[tw]:"fire-fn-compat",[nw]:"fire-iid",[iw]:"fire-iid-compat",[sw]:"fire-fcm",[rw]:"fire-fcm-compat",[aw]:"fire-perf",[ow]:"fire-perf-compat",[lw]:"fire-rc",[uw]:"fire-rc-compat",[cw]:"fire-gcs",[hw]:"fire-gcs-compat",[fw]:"fire-fst",[mw]:"fire-fst-compat",[dw]:"fire-vertex","fire-js":"fire-js",[pw]:"fire-js-all"};const rh=new Map,_w=new Map,cm=new Map;function mv(s,e){try{s.container.addComponent(e)}catch(i){as.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function ao(s){const e=s.name;if(cm.has(e))return as.debug(`There were multiple attempts to register component ${e}.`),!1;cm.set(e,s);for(const i of rh.values())mv(i,s);for(const i of _w.values())mv(i,s);return!0}function Pm(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function Sn(s){return s==null?!1:s.settings!==void 0}const vw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zs=new nu("app","Firebase",vw);class Ew{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Yr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zs.create("app-deleted",{appName:this._name})}}const yo=gw;function iE(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const r={name:um,automaticDataCollectionEnabled:!0,...e},l=r.name;if(typeof l!="string"||!l)throw Zs.create("bad-app-name",{appName:String(l)});if(i||(i=Z0()),!i)throw Zs.create("no-options");const c=rh.get(l);if(c){if(Kr(i,c.options)&&Kr(r,c.config))return c;throw Zs.create("duplicate-app",{appName:l})}const d=new Rb(l);for(const g of cm.values())d.addComponent(g);const p=new Ew(i,r,d);return rh.set(l,p),p}function sE(s=um){const e=rh.get(s);if(!e&&s===um&&Z0())return iE();if(!e)throw Zs.create("no-app",{appName:s});return e}function Js(s,e,i){let r=yw[s]??s;i&&(r+=`-${i}`);const l=r.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${r}" with version "${e}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),as.warn(d.join(" "));return}ao(new Yr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const Tw="firebase-heartbeat-database",Aw=1,Ql="firebase-heartbeat-store";let Zd=null;function rE(){return Zd||(Zd=zb(Tw,Aw,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Ql)}catch(i){console.warn(i)}}}}).catch(s=>{throw Zs.create("idb-open",{originalErrorMessage:s.message})})),Zd}async function Sw(s){try{const i=(await rE()).transaction(Ql),r=await i.objectStore(Ql).get(aE(s));return await i.done,r}catch(e){if(e instanceof cs)as.warn(e.message);else{const i=Zs.create("idb-get",{originalErrorMessage:e?.message});as.warn(i.message)}}}async function pv(s,e){try{const r=(await rE()).transaction(Ql,"readwrite");await r.objectStore(Ql).put(e,aE(s)),await r.done}catch(i){if(i instanceof cs)as.warn(i.message);else{const r=Zs.create("idb-set",{originalErrorMessage:i?.message});as.warn(r.message)}}}function aE(s){return`${s.name}!${s.options.appId}`}const bw=1024,ww=30;class Rw{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Iw(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=gv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>ww){const l=Nw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){as.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=gv(),{heartbeatsToSend:i,unsentEntries:r}=Cw(this._heartbeatsCache.heartbeats),l=sh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return as.warn(e),""}}}function gv(){return new Date().toISOString().substring(0,10)}function Cw(s,e=bw){const i=[];let r=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),yv(i)>e){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),yv(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class Iw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mb()?pb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Sw(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return pv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return pv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function yv(s){return sh(JSON.stringify({version:2,heartbeats:s})).length}function Nw(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,e=r);return e}function xw(s){ao(new Yr("platform-logger",e=>new qb(e),"PRIVATE")),ao(new Yr("heartbeat",e=>new Rw(e),"PRIVATE")),Js(lm,dv,s),Js(lm,dv,"esm2020"),Js("fire-js","")}xw("");function oE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Dw=oE,lE=new nu("auth","Firebase",oE());const ah=new km("@firebase/auth");function Ow(s,...e){ah.logLevel<=Me.WARN&&ah.warn(`Auth (${yo}): ${s}`,...e)}function Yc(s,...e){ah.logLevel<=Me.ERROR&&ah.error(`Auth (${yo}): ${s}`,...e)}function jn(s,...e){throw zm(s,...e)}function ii(s,...e){return zm(s,...e)}function Um(s,e,i){const r={...Dw(),[e]:i};return new nu("auth","Firebase",r).create(e,{appName:s.name})}function ss(s){return Um(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Mw(s,e,i){const r=i;if(!(e instanceof r))throw r.name!==e.constructor.name&&jn(s,"argument-error"),Um(s,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function zm(s,...e){if(typeof s!="string"){const i=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return lE.create(s,...e)}function pe(s,e,...i){if(!s)throw zm(e,...i)}function ns(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Yc(e),new Error(e)}function os(s,e){s||ns(e)}function hm(){return typeof self<"u"&&self.location?.href||""}function Vw(){return _v()==="http:"||_v()==="https:"}function _v(){return typeof self<"u"&&self.location?.protocol||null}function kw(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Vw()||cb()||"connection"in navigator)?navigator.onLine:!0}function Lw(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class su{constructor(e,i){this.shortDelay=e,this.longDelay=i,os(i>e,"Short delay should be less than long delay!"),this.isMobile=ob()||hb()}get(){return kw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function jm(s,e){os(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class uE{static initialize(e,i,r){this.fetchImpl=e,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ns("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ns("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ns("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Pw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Uw=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],zw=new su(3e4,6e4);function ur(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function hs(s,e,i,r,l={}){return cE(s,l,async()=>{let c={},d={};r&&(e==="GET"?d=r:c={body:JSON.stringify(r)});const p=iu({key:s.config.apiKey,...d}).slice(1),g=await s._getAdditionalHeaders();g["Content-Type"]="application/json",s.languageCode&&(g["X-Firebase-Locale"]=s.languageCode);const y={method:e,headers:g,...c};return ub()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&go(s.emulatorConfig.host)&&(y.credentials="include"),uE.fetch()(await hE(s,s.config.apiHost,i,p),y)})}async function cE(s,e,i){s._canInitEmulator=!1;const r={...Pw,...e};try{const l=new Bw(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw qc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[g,y]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw qc(s,"credential-already-in-use",d);if(g==="EMAIL_EXISTS")throw qc(s,"email-already-in-use",d);if(g==="USER_DISABLED")throw qc(s,"user-disabled",d);const S=r[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Um(s,S,y);jn(s,S)}}catch(l){if(l instanceof cs)throw l;jn(s,"network-request-failed",{message:String(l)})}}async function ru(s,e,i,r,l={}){const c=await hs(s,e,i,r,l);return"mfaPendingCredential"in c&&jn(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function hE(s,e,i,r){const l=`${e}${i}?${r}`,c=s,d=c.config.emulator?jm(s.config,l):`${s.config.apiScheme}://${l}`;return Uw.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function jw(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Bw{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(ii(this.auth,"network-request-failed")),zw.get())})}}function qc(s,e,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const l=ii(s,e,r);return l.customData._tokenResponse=i,l}function vv(s){return s!==void 0&&s.enterprise!==void 0}class qw{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===e)return jw(i.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Hw(s,e){return hs(s,"GET","/v2/recaptchaConfig",ur(s,e))}async function Fw(s,e){return hs(s,"POST","/v1/accounts:delete",e)}async function oh(s,e){return hs(s,"POST","/v1/accounts:lookup",e)}function jl(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Gw(s,e=!1){const i=Yt(s),r=await i.getIdToken(e),l=Bm(r);pe(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:r,authTime:jl(Jd(l.auth_time)),issuedAtTime:jl(Jd(l.iat)),expirationTime:jl(Jd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Jd(s){return Number(s)*1e3}function Bm(s){const[e,i,r]=s.split(".");if(e===void 0||i===void 0||r===void 0)return Yc("JWT malformed, contained fewer than 3 sections"),null;try{const l=X0(i);return l?JSON.parse(l):(Yc("Failed to decode base64 JWT payload"),null)}catch(l){return Yc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function Ev(s){const e=Bm(s);return pe(e,"internal-error"),pe(typeof e.exp<"u","internal-error"),pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function oo(s,e,i=!1){if(i)return e;try{return await e}catch(r){throw r instanceof cs&&Qw(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function Qw({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class Kw{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class fm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=jl(this.lastLoginAt),this.creationTime=jl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function lh(s){const e=s.auth,i=await s.getIdToken(),r=await oo(s,oh(e,{idToken:i}));pe(r?.users.length,e,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?fE(l.providerUserInfo):[],d=Xw(s.providerData,c),p=s.isAnonymous,g=!(s.email&&l.passwordHash)&&!d?.length,y=p?g:!1,S={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new fm(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(s,S)}async function Yw(s){const e=Yt(s);await lh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Xw(s,e){return[...s.filter(r=>!e.some(l=>l.providerId===r.providerId)),...e]}function fE(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function $w(s,e){const i=await cE(s,{},async()=>{const r=iu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await hE(s,l,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:r};return s.emulatorConfig&&go(s.emulatorConfig.host)&&(g.credentials="include"),uE.fetch()(d,g)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function Zw(s,e){return hs(s,"POST","/v2/accounts:revokeToken",ur(s,e))}class to{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){pe(e.idToken,"internal-error"),pe(typeof e.idToken<"u","internal-error"),pe(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ev(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){pe(e.length!==0,"internal-error");const i=Ev(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:r,refreshToken:l,expiresIn:c}=await $w(e,i);this.updateTokensAndExpiration(r,l,Number(c))}updateTokensAndExpiration(e,i,r){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,i){const{refreshToken:r,accessToken:l,expirationTime:c}=i,d=new to;return r&&(pe(typeof r=="string","internal-error",{appName:e}),d.refreshToken=r),l&&(pe(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),c&&(pe(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new to,this.toJSON())}_performRefresh(){return ns("not implemented")}}function Gs(s,e){pe(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class ti{constructor({uid:e,auth:i,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new Kw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new fm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await oo(this,this.stsTokenManager.getToken(this.auth,e));return pe(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return Gw(this,e)}reload(){return Yw(this)}_assign(e){this!==e&&(pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new ti({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),i&&await lh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Sn(this.auth.app))return Promise.reject(ss(this.auth));const e=await this.getIdToken();return await oo(this,Fw(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const r=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,g=i._redirectEventId??void 0,y=i.createdAt??void 0,S=i.lastLoginAt??void 0,{uid:T,emailVerified:M,isAnonymous:B,providerData:Z,stsTokenManager:te}=i;pe(T&&te,e,"internal-error");const J=to.fromJSON(this.name,te);pe(typeof T=="string",e,"internal-error"),Gs(r,e.name),Gs(l,e.name),pe(typeof M=="boolean",e,"internal-error"),pe(typeof B=="boolean",e,"internal-error"),Gs(c,e.name),Gs(d,e.name),Gs(p,e.name),Gs(g,e.name),Gs(y,e.name),Gs(S,e.name);const ce=new ti({uid:T,auth:e,email:l,emailVerified:M,displayName:r,isAnonymous:B,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:J,createdAt:y,lastLoginAt:S});return Z&&Array.isArray(Z)&&(ce.providerData=Z.map(ye=>({...ye}))),g&&(ce._redirectEventId=g),ce}static async _fromIdTokenResponse(e,i,r=!1){const l=new to;l.updateFromServerResponse(i);const c=new ti({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:r});return await lh(c),c}static async _fromGetAccountInfoResponse(e,i,r){const l=i.users[0];pe(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?fE(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new to;p.updateFromIdToken(r);const g=new ti({uid:l.localId,auth:e,stsTokenManager:p,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new fm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(g,y),g}}const Tv=new Map;function is(s){os(s instanceof Function,"Expected a class definition");let e=Tv.get(s);return e?(os(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,Tv.set(s,e),e)}class dE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}dE.type="NONE";const Av=dE;function Xc(s,e,i){return`firebase:${s}:${e}:${i}`}class no{constructor(e,i,r){this.persistence=e,this.auth=i,this.userKey=r;const{config:l,name:c}=this.auth;this.fullUserKey=Xc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Xc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await oh(this.auth,{idToken:e}).catch(()=>{});return i?ti._fromGetAccountInfoResponse(this.auth,i,e):null}return ti._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,r="authUser"){if(!i.length)return new no(is(Av),e,r);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||is(Av);const d=Xc(r,e.config.apiKey,e.name);let p=null;for(const y of i)try{const S=await y._get(d);if(S){let T;if(typeof S=="string"){const M=await oh(e,{idToken:S}).catch(()=>{});if(!M)break;T=await ti._fromGetAccountInfoResponse(e,M,S)}else T=ti._fromJSON(e,S);y!==c&&(p=T),c=y;break}}catch{}const g=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new no(c,e,r):(c=g[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new no(c,e,r))}}function Sv(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(yE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(mE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(vE(e))return"Blackberry";if(EE(e))return"Webos";if(pE(e))return"Safari";if((e.includes("chrome/")||gE(e))&&!e.includes("edge/"))return"Chrome";if(_E(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if(r?.length===2)return r[1]}return"Other"}function mE(s=tn()){return/firefox\//i.test(s)}function pE(s=tn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function gE(s=tn()){return/crios\//i.test(s)}function yE(s=tn()){return/iemobile/i.test(s)}function _E(s=tn()){return/android/i.test(s)}function vE(s=tn()){return/blackberry/i.test(s)}function EE(s=tn()){return/webos/i.test(s)}function qm(s=tn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function Jw(s=tn()){return qm(s)&&!!window.navigator?.standalone}function Ww(){return fb()&&document.documentMode===10}function TE(s=tn()){return qm(s)||_E(s)||EE(s)||vE(s)||/windows phone/i.test(s)||yE(s)}function AE(s,e=[]){let i;switch(s){case"Browser":i=Sv(tn());break;case"Worker":i=`${Sv(tn())}-${s}`;break;default:i=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${yo}/${r}`}class e2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const r=c=>new Promise((d,p)=>{try{const g=e(c);d(g)}catch(g){p(g)}});r.onAbort=i,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const r of this.queue)await r(e),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function t2(s,e={}){return hs(s,"GET","/v2/passwordPolicy",ur(s,e))}const n2=6;class i2{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??n2,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=e.length>=r),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let l=0;l<e.length;l++)r=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,i,r,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class s2{constructor(e,i,r,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new bv(this),this.idTokenSubscription=new bv(this),this.beforeStateQueue=new e2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=is(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await no.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await oh(this,{idToken:e}),r=await ti._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Sn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=r?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&p?.user&&(r=p.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await lh(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Lw()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Sn(this.app))return Promise.reject(ss(this));const i=e?Yt(e):null;return i&&pe(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Sn(this.app)?Promise.reject(ss(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Sn(this.app)?Promise.reject(ss(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(is(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await t2(this),i=new i2(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new nu("auth","Firebase",e())}onAuthStateChanged(e,i,r){return this.registerStateListener(this.authStateSubscription,e,i,r)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,r){return this.registerStateListener(this.idTokenSubscription,e,i,r)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await Zw(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const r=await this.getOrInitRedirectPersistenceManager(i);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&is(e)||this._popupRedirectResolver;pe(i,this,"argument-error"),this.redirectPersistenceManager=await no.create(this,[is(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,r,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(pe(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const g=e.addObserver(i,r,l);return()=>{d=!0,g()}}else{const g=e.addObserver(i);return()=>{d=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=AE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Sn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Ow(`Error while retrieving App Check token: ${e.error}`),e?.token}}function cr(s){return Yt(s)}class bv{constructor(e){this.auth=e,this.observer=null,this.addObserver=Eb(i=>this.observer=i)}get next(){return pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let bh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function r2(s){bh=s}function SE(s){return bh.loadJS(s)}function a2(){return bh.recaptchaEnterpriseScript}function o2(){return bh.gapiScript}function l2(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class u2{constructor(){this.enterprise=new c2}ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}class c2{ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}const h2="recaptcha-enterprise",bE="NO_RECAPTCHA";class f2{constructor(e){this.type=h2,this.auth=cr(e)}async verify(e="verify",i=!1){async function r(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,p)=>{Hw(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new qw(g);return c.tenantId==null?c._agentRecaptchaConfig=y:c._tenantRecaptchaConfigs[c.tenantId]=y,d(y.siteKey)}}).catch(g=>{p(g)})})}function l(c,d,p){const g=window.grecaptcha;vv(g)?g.enterprise.ready(()=>{g.enterprise.execute(c,{action:e}).then(y=>{d(y)}).catch(()=>{d(bE)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new u2().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{r(this.auth).then(p=>{if(!i&&vv(window.grecaptcha))l(p,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let g=a2();g.length!==0&&(g+=p),SE(g).then(()=>{l(p,c,d)}).catch(y=>{d(y)})}}).catch(p=>{d(p)})})}}async function wv(s,e,i,r=!1,l=!1){const c=new f2(s);let d;if(l)d=bE;else try{d=await c.verify(i)}catch{d=await c.verify(i,!0)}const p={...e};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const g=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const g=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return r?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function dm(s,e,i,r,l){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await wv(s,e,i,i==="getOobCode");return r(s,c)}else return r(s,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await wv(s,e,i,i==="getOobCode");return r(s,d)}else return Promise.reject(c)})}function d2(s,e){const i=Pm(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Kr(c,e??{}))return l;jn(l,"already-initialized")}return i.initialize({options:e})}function m2(s,e){const i=e?.persistence||[],r=(Array.isArray(i)?i:[i]).map(is);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e?.popupRedirectResolver)}function p2(s,e,i){const r=cr(s);pe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const l=!1,c=wE(e),{host:d,port:p}=g2(e),g=p===null?"":`:${p}`,y={url:`${c}//${d}${g}/`},S=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){pe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),pe(Kr(y,r.config.emulator)&&Kr(S,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=S,r.settings.appVerificationDisabledForTesting=!0,go(d)?(W0(`${c}//${d}${g}`),eE("Auth",!0)):y2()}function wE(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function g2(s){const e=wE(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const c=l[1];return{host:c,port:Rv(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:Rv(d)}}}function Rv(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function y2(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class Hm{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return ns("not implemented")}_getIdTokenResponse(e){return ns("not implemented")}_linkToIdToken(e,i){return ns("not implemented")}_getReauthenticationResolver(e){return ns("not implemented")}}async function _2(s,e){return hs(s,"POST","/v1/accounts:signUp",e)}async function v2(s,e){return ru(s,"POST","/v1/accounts:signInWithPassword",ur(s,e))}async function E2(s,e){return ru(s,"POST","/v1/accounts:signInWithEmailLink",ur(s,e))}async function T2(s,e){return ru(s,"POST","/v1/accounts:signInWithEmailLink",ur(s,e))}class Kl extends Hm{constructor(e,i,r,l=null){super("password",r),this._email=e,this._password=i,this._tenantId=l}static _fromEmailAndPassword(e,i){return new Kl(e,i,"password")}static _fromEmailAndCode(e,i,r=null){return new Kl(e,i,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dm(e,i,"signInWithPassword",v2);case"emailLink":return E2(e,{email:this._email,oobCode:this._password});default:jn(e,"internal-error")}}async _linkToIdToken(e,i){switch(this.signInMethod){case"password":const r={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dm(e,r,"signUpPassword",_2);case"emailLink":return T2(e,{idToken:i,email:this._email,oobCode:this._password});default:jn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function io(s,e){return ru(s,"POST","/v1/accounts:signInWithIdp",ur(s,e))}const A2="http://localhost";class Xr extends Hm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new Xr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):jn("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:l,...c}=i;if(!r||!l)return null;const d=new Xr(r,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return io(e,i)}_linkToIdToken(e,i){const r=this.buildRequest();return r.idToken=i,io(e,r)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,io(e,i)}buildRequest(){const e={requestUri:A2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=iu(i)}return e}}function S2(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function b2(s){const e=Ml(Vl(s)).link,i=e?Ml(Vl(e)).deep_link_id:null,r=Ml(Vl(s)).deep_link_id;return(r?Ml(Vl(r)).link:null)||r||i||e||s}class Fm{constructor(e){const i=Ml(Vl(e)),r=i.apiKey??null,l=i.oobCode??null,c=S2(i.mode??null);pe(r&&l&&c,"argument-error"),this.apiKey=r,this.operation=c,this.code=l,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(e){const i=b2(e);try{return new Fm(i)}catch{return null}}}class _o{constructor(){this.providerId=_o.PROVIDER_ID}static credential(e,i){return Kl._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){const r=Fm.parseLink(i);return pe(r,"argument-error"),Kl._fromEmailAndCode(e,r.code,r.tenantId)}}_o.PROVIDER_ID="password";_o.EMAIL_PASSWORD_SIGN_IN_METHOD="password";_o.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Gm{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class au extends Gm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Qs extends au{constructor(){super("facebook.com")}static credential(e){return Xr._fromParams({providerId:Qs.PROVIDER_ID,signInMethod:Qs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qs.credentialFromTaggedObject(e)}static credentialFromError(e){return Qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qs.credential(e.oauthAccessToken)}catch{return null}}}Qs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qs.PROVIDER_ID="facebook.com";class ts extends au{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return Xr._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:r}=e;if(!i&&!r)return null;try{return ts.credential(i,r)}catch{return null}}}ts.GOOGLE_SIGN_IN_METHOD="google.com";ts.PROVIDER_ID="google.com";class Ks extends au{constructor(){super("github.com")}static credential(e){return Xr._fromParams({providerId:Ks.PROVIDER_ID,signInMethod:Ks.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ks.credentialFromTaggedObject(e)}static credentialFromError(e){return Ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ks.credential(e.oauthAccessToken)}catch{return null}}}Ks.GITHUB_SIGN_IN_METHOD="github.com";Ks.PROVIDER_ID="github.com";class Ys extends au{constructor(){super("twitter.com")}static credential(e,i){return Xr._fromParams({providerId:Ys.PROVIDER_ID,signInMethod:Ys.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return Ys.credentialFromTaggedObject(e)}static credentialFromError(e){return Ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=e;if(!i||!r)return null;try{return Ys.credential(i,r)}catch{return null}}}Ys.TWITTER_SIGN_IN_METHOD="twitter.com";Ys.PROVIDER_ID="twitter.com";async function w2(s,e){return ru(s,"POST","/v1/accounts:signUp",ur(s,e))}class $r{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,r,l=!1){const c=await ti._fromIdTokenResponse(e,r,l),d=Cv(r);return new $r({user:c,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(e,i,r){await e._updateTokensIfNecessary(r,!0);const l=Cv(r);return new $r({user:e,providerId:l,_tokenResponse:r,operationType:i})}}function Cv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class uh extends cs{constructor(e,i,r,l){super(i.code,i.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,uh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,i,r,l){return new uh(e,i,r,l)}}function RE(s,e,i,r){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?uh._fromErrorAndOperation(s,c,e,r):c})}async function R2(s,e,i=!1){const r=await oo(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return $r._forOperation(s,"link",r)}async function C2(s,e,i=!1){const{auth:r}=s;if(Sn(r.app))return Promise.reject(ss(r));const l="reauthenticate";try{const c=await oo(s,RE(r,l,e,s),i);pe(c.idToken,r,"internal-error");const d=Bm(c.idToken);pe(d,r,"internal-error");const{sub:p}=d;return pe(s.uid===p,r,"user-mismatch"),$r._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&jn(r,"user-mismatch"),c}}async function CE(s,e,i=!1){if(Sn(s.app))return Promise.reject(ss(s));const r="signIn",l=await RE(s,r,e),c=await $r._fromIdTokenResponse(s,r,l);return i||await s._updateCurrentUser(c.user),c}async function I2(s,e){return CE(cr(s),e)}async function IE(s){const e=cr(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function N2(s,e,i){if(Sn(s.app))return Promise.reject(ss(s));const r=cr(s),d=await dm(r,{returnSecureToken:!0,email:e,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",w2).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&IE(s),g}),p=await $r._fromIdTokenResponse(r,"signIn",d);return await r._updateCurrentUser(p.user),p}function x2(s,e,i){return Sn(s.app)?Promise.reject(ss(s)):I2(Yt(s),_o.credential(e,i)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&IE(s),r})}async function D2(s,e){return hs(s,"POST","/v1/accounts:update",e)}async function O2(s,{displayName:e,photoURL:i}){if(e===void 0&&i===void 0)return;const r=Yt(s),c={idToken:await r.getIdToken(),displayName:e,photoUrl:i,returnSecureToken:!0},d=await oo(r,D2(r.auth,c));r.displayName=d.displayName||null,r.photoURL=d.photoUrl||null;const p=r.providerData.find(({providerId:g})=>g==="password");p&&(p.displayName=r.displayName,p.photoURL=r.photoURL),await r._updateTokensIfNecessary(d)}function M2(s,e,i,r){return Yt(s).onIdTokenChanged(e,i,r)}function V2(s,e,i){return Yt(s).beforeAuthStateChanged(e,i)}function k2(s,e,i,r){return Yt(s).onAuthStateChanged(e,i,r)}function L2(s){return Yt(s).signOut()}const ch="__sak";class NE{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(ch,"1"),this.storage.removeItem(ch),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const P2=1e3,U2=10;class xE extends NE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=TE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),l=this.localCache[i];r!==l&&e(i,l,r)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,p,g)=>{this.notifyListeners(d,g)});return}const r=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);Ww()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,U2):l()}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:r}),!0)})},P2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}xE.type="LOCAL";const z2=xE;class DE extends NE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}DE.type="SESSION";const OE=DE;function j2(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class wh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const r=new wh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:r,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const p=Array.from(d).map(async y=>y(i.origin,c)),g=await j2(p);i.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:g})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}wh.receivers=[];function Qm(s="",e=10){let i="";for(let r=0;r<e;r++)i+=Math.floor(Math.random()*10);return s+i}class B2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,g)=>{const y=Qm("",20);l.port1.start();const S=setTimeout(()=>{g(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(T){const M=T;if(M.data.eventId===y)switch(M.data.status){case"ack":clearTimeout(S),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(M.data.response);break;default:clearTimeout(S),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ni(){return window}function q2(s){Ni().location.href=s}function ME(){return typeof Ni().WorkerGlobalScope<"u"&&typeof Ni().importScripts=="function"}async function H2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function F2(){return navigator?.serviceWorker?.controller||null}function G2(){return ME()?self:null}const VE="firebaseLocalStorageDb",Q2=1,hh="firebaseLocalStorage",kE="fbase_key";class ou{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Rh(s,e){return s.transaction([hh],e?"readwrite":"readonly").objectStore(hh)}function K2(){const s=indexedDB.deleteDatabase(VE);return new ou(s).toPromise()}function mm(){const s=indexedDB.open(VE,Q2);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(hh,{keyPath:kE})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(hh)?e(r):(r.close(),await K2(),e(await mm()))})})}async function Iv(s,e,i){const r=Rh(s,!0).put({[kE]:e,value:i});return new ou(r).toPromise()}async function Y2(s,e){const i=Rh(s,!1).get(e),r=await new ou(i).toPromise();return r===void 0?null:r.value}function Nv(s,e){const i=Rh(s,!0).delete(e);return new ou(i).toPromise()}const X2=800,$2=3;class LE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await mm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(i++>$2)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ME()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=wh._getInstance(G2()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await H2(),!this.activeServiceWorker)return;this.sender=new B2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||F2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await mm();return await Iv(e,ch,"1"),await Nv(e,ch),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>Iv(r,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(r=>Y2(r,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>Nv(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=Rh(l,!1).getAll();return new ou(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),X2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}LE.type="LOCAL";const Z2=LE;new su(3e4,6e4);function PE(s,e){return e?is(e):(pe(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Km extends Hm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return io(e,this._buildIdpRequest())}_linkToIdToken(e,i){return io(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return io(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function J2(s){return CE(s.auth,new Km(s),s.bypassAuthState)}function W2(s){const{auth:e,user:i}=s;return pe(i,e,"internal-error"),C2(i,new Km(s),s.bypassAuthState)}async function eR(s){const{auth:e,user:i}=s;return pe(i,e,"internal-error"),R2(i,new Km(s),s.bypassAuthState)}class UE{constructor(e,i,r,l,c=!1){this.auth=e,this.resolver=r,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:r,postBody:l,tenantId:c,error:d,type:p}=e;if(d){this.reject(d);return}const g={auth:this.auth,requestUri:i,sessionId:r,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return J2;case"linkViaPopup":case"linkViaRedirect":return eR;case"reauthViaPopup":case"reauthViaRedirect":return W2;default:jn(this.auth,"internal-error")}}resolve(e){os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const tR=new su(2e3,1e4);async function nR(s,e,i){if(Sn(s.app))return Promise.reject(ii(s,"operation-not-supported-in-this-environment"));const r=cr(s);Mw(s,e,Gm);const l=PE(r,i);return new Hr(r,"signInViaPopup",e,l).executeNotNull()}class Hr extends UE{constructor(e,i,r,l,c){super(e,i,l,c),this.provider=r,this.authWindow=null,this.pollId=null,Hr.currentPopupAction&&Hr.currentPopupAction.cancel(),Hr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return pe(e,this.auth,"internal-error"),e}async onExecution(){os(this.filter.length===1,"Popup operations only handle one event");const e=Qm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(ii(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ii(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Hr.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ii(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,tR.get())};e()}}Hr.currentPopupAction=null;const iR="pendingRedirect",$c=new Map;class sR extends UE{constructor(e,i,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let e=$c.get(this.auth._key());if(!e){try{const r=await rR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(i){e=()=>Promise.reject(i)}$c.set(this.auth._key(),e)}return this.bypassAuthState||$c.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function rR(s,e){const i=lR(e),r=oR(s);if(!await r._isAvailable())return!1;const l=await r._get(i)==="true";return await r._remove(i),l}function aR(s,e){$c.set(s._key(),e)}function oR(s){return is(s._redirectPersistence)}function lR(s){return Xc(iR,s.config.apiKey,s.name)}async function uR(s,e,i=!1){if(Sn(s.app))return Promise.reject(ss(s));const r=cr(s),l=PE(r,e),d=await new sR(r,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,e)),d}const cR=600*1e3;class hR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(i=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!fR(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!zE(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";i.onError(ii(this.auth,r))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const r=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=cR&&this.cachedEventUids.clear(),this.cachedEventUids.has(xv(e))}saveEventToCache(e){this.cachedEventUids.add(xv(e)),this.lastProcessedEventTime=Date.now()}}function xv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function zE({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function fR(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zE(s);default:return!1}}async function dR(s,e={}){return hs(s,"GET","/v1/projects",e)}const mR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pR=/^https?/;async function gR(s){if(s.config.emulator)return;const{authorizedDomains:e}=await dR(s);for(const i of e)try{if(yR(i))return}catch{}jn(s,"unauthorized-domain")}function yR(s){const e=hm(),{protocol:i,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!pR.test(i))return!1;if(mR.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const _R=new su(3e4,6e4);function Dv(){const s=Ni().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function vR(s){return new Promise((e,i)=>{function r(){Dv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Dv(),i(ii(s,"network-request-failed"))},timeout:_R.get()})}if(Ni().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ni().gapi?.load)r();else{const l=l2("iframefcb");return Ni()[l]=()=>{gapi.load?r():i(ii(s,"network-request-failed"))},SE(`${o2()}?onload=${l}`).catch(c=>i(c))}}).catch(e=>{throw Zc=null,e})}let Zc=null;function ER(s){return Zc=Zc||vR(s),Zc}const TR=new su(5e3,15e3),AR="__/auth/iframe",SR="emulator/auth/iframe",bR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function RR(s){const e=s.config;pe(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?jm(e,SR):`https://${s.config.authDomain}/${AR}`,r={apiKey:e.apiKey,appName:s.name,v:yo},l=wR.get(s.config.apiHost);l&&(r.eid=l);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${i}?${iu(r).slice(1)}`}async function CR(s){const e=await ER(s),i=Ni().gapi;return pe(i,s,"internal-error"),e.open({where:document.body,url:RR(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bR,dontclear:!0},r=>new Promise(async(l,c)=>{await r.restyle({setHideOnLeave:!1});const d=ii(s,"network-request-failed"),p=Ni().setTimeout(()=>{c(d)},TR.get());function g(){Ni().clearTimeout(p),l(r)}r.ping(g).then(g,()=>{c(d)})}))}const IR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},NR=500,xR=600,DR="_blank",OR="http://localhost";class Ov{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function MR(s,e,i,r=NR,l=xR){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const g={...IR,width:r.toString(),height:l.toString(),top:c,left:d},y=tn().toLowerCase();i&&(p=gE(y)?DR:i),mE(y)&&(e=e||OR,g.scrollbars="yes");const S=Object.entries(g).reduce((M,[B,Z])=>`${M}${B}=${Z},`,"");if(Jw(y)&&p!=="_self")return VR(e||"",p),new Ov(null);const T=window.open(e||"",p,S);pe(T,s,"popup-blocked");try{T.focus()}catch{}return new Ov(T)}function VR(s,e){const i=document.createElement("a");i.href=s,i.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}const kR="__/auth/handler",LR="emulator/auth/handler",PR=encodeURIComponent("fac");async function Mv(s,e,i,r,l,c){pe(s.config.authDomain,s,"auth-domain-config-required"),pe(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:yo,eventId:l};if(e instanceof Gm){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",vb(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[S,T]of Object.entries({}))d[S]=T}if(e instanceof au){const S=e.getScopes().filter(T=>T!=="");S.length>0&&(d.scopes=S.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const S of Object.keys(p))p[S]===void 0&&delete p[S];const g=await s._getAppCheckToken(),y=g?`#${PR}=${encodeURIComponent(g)}`:"";return`${UR(s)}?${iu(p).slice(1)}${y}`}function UR({config:s}){return s.emulator?jm(s,LR):`https://${s.authDomain}/${kR}`}const Wd="webStorageSupport";class zR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=OE,this._completeRedirectFn=uR,this._overrideRedirectResult=aR}async _openPopup(e,i,r,l){os(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await Mv(e,i,r,hm(),l);return MR(e,c,Qm())}async _openRedirect(e,i,r,l){await this._originValidation(e);const c=await Mv(e,i,r,hm(),l);return q2(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(os(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(e);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(e){const i=await CR(e),r=new hR(e);return i.register("authEvent",l=>(pe(l?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=i,r}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Wd,{type:Wd},l=>{const c=l?.[0]?.[Wd];c!==void 0&&i(!!c),jn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=gR(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return TE()||pE()||qm()}}const jR=zR;var Vv="@firebase/auth",kv="1.11.1";class BR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function qR(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function HR(s){ao(new Yr("auth",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=r.options;pe(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const g={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:AE(s)},y=new s2(r,l,c,g);return m2(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,r)=>{e.getProvider("auth-internal").initialize()})),ao(new Yr("auth-internal",e=>{const i=cr(e.getProvider("auth").getImmediate());return(r=>new BR(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Js(Vv,kv,qR(s)),Js(Vv,kv,"esm2020")}const FR=300,GR=J0("authIdTokenMaxAge")||FR;let Lv=null;const QR=s=>async e=>{const i=e&&await e.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>GR)return;const l=i?.token;Lv!==l&&(Lv=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function KR(s=sE()){const e=Pm(s,"auth");if(e.isInitialized())return e.getImmediate();const i=d2(s,{popupRedirectResolver:jR,persistence:[Z2,z2,OE]}),r=J0("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=QR(c.toString());V2(i,d,()=>d(i.currentUser)),M2(i,p=>d(p))}}const l=$0("auth");return l&&p2(i,`http://${l}`),i}function YR(){return document.getElementsByTagName("head")?.[0]??document}r2({loadJS(s){return new Promise((e,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=l=>{const c=ii("internal-error");c.customData=l,i(c)},r.type="text/javascript",r.charset="UTF-8",YR().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});HR("Browser");var Pv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ws,jE;(function(){var s;function e(R,w){function C(){}C.prototype=w.prototype,R.F=w.prototype,R.prototype=new C,R.prototype.constructor=R,R.D=function(V,D,L){for(var I=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)I[rt-2]=arguments[rt];return w.prototype[D].apply(V,I)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(R,w,C){C||(C=0);const V=Array(16);if(typeof w=="string")for(var D=0;D<16;++D)V[D]=w.charCodeAt(C++)|w.charCodeAt(C++)<<8|w.charCodeAt(C++)<<16|w.charCodeAt(C++)<<24;else for(D=0;D<16;++D)V[D]=w[C++]|w[C++]<<8|w[C++]<<16|w[C++]<<24;w=R.g[0],C=R.g[1],D=R.g[2];let L=R.g[3],I;I=w+(L^C&(D^L))+V[0]+3614090360&4294967295,w=C+(I<<7&4294967295|I>>>25),I=L+(D^w&(C^D))+V[1]+3905402710&4294967295,L=w+(I<<12&4294967295|I>>>20),I=D+(C^L&(w^C))+V[2]+606105819&4294967295,D=L+(I<<17&4294967295|I>>>15),I=C+(w^D&(L^w))+V[3]+3250441966&4294967295,C=D+(I<<22&4294967295|I>>>10),I=w+(L^C&(D^L))+V[4]+4118548399&4294967295,w=C+(I<<7&4294967295|I>>>25),I=L+(D^w&(C^D))+V[5]+1200080426&4294967295,L=w+(I<<12&4294967295|I>>>20),I=D+(C^L&(w^C))+V[6]+2821735955&4294967295,D=L+(I<<17&4294967295|I>>>15),I=C+(w^D&(L^w))+V[7]+4249261313&4294967295,C=D+(I<<22&4294967295|I>>>10),I=w+(L^C&(D^L))+V[8]+1770035416&4294967295,w=C+(I<<7&4294967295|I>>>25),I=L+(D^w&(C^D))+V[9]+2336552879&4294967295,L=w+(I<<12&4294967295|I>>>20),I=D+(C^L&(w^C))+V[10]+4294925233&4294967295,D=L+(I<<17&4294967295|I>>>15),I=C+(w^D&(L^w))+V[11]+2304563134&4294967295,C=D+(I<<22&4294967295|I>>>10),I=w+(L^C&(D^L))+V[12]+1804603682&4294967295,w=C+(I<<7&4294967295|I>>>25),I=L+(D^w&(C^D))+V[13]+4254626195&4294967295,L=w+(I<<12&4294967295|I>>>20),I=D+(C^L&(w^C))+V[14]+2792965006&4294967295,D=L+(I<<17&4294967295|I>>>15),I=C+(w^D&(L^w))+V[15]+1236535329&4294967295,C=D+(I<<22&4294967295|I>>>10),I=w+(D^L&(C^D))+V[1]+4129170786&4294967295,w=C+(I<<5&4294967295|I>>>27),I=L+(C^D&(w^C))+V[6]+3225465664&4294967295,L=w+(I<<9&4294967295|I>>>23),I=D+(w^C&(L^w))+V[11]+643717713&4294967295,D=L+(I<<14&4294967295|I>>>18),I=C+(L^w&(D^L))+V[0]+3921069994&4294967295,C=D+(I<<20&4294967295|I>>>12),I=w+(D^L&(C^D))+V[5]+3593408605&4294967295,w=C+(I<<5&4294967295|I>>>27),I=L+(C^D&(w^C))+V[10]+38016083&4294967295,L=w+(I<<9&4294967295|I>>>23),I=D+(w^C&(L^w))+V[15]+3634488961&4294967295,D=L+(I<<14&4294967295|I>>>18),I=C+(L^w&(D^L))+V[4]+3889429448&4294967295,C=D+(I<<20&4294967295|I>>>12),I=w+(D^L&(C^D))+V[9]+568446438&4294967295,w=C+(I<<5&4294967295|I>>>27),I=L+(C^D&(w^C))+V[14]+3275163606&4294967295,L=w+(I<<9&4294967295|I>>>23),I=D+(w^C&(L^w))+V[3]+4107603335&4294967295,D=L+(I<<14&4294967295|I>>>18),I=C+(L^w&(D^L))+V[8]+1163531501&4294967295,C=D+(I<<20&4294967295|I>>>12),I=w+(D^L&(C^D))+V[13]+2850285829&4294967295,w=C+(I<<5&4294967295|I>>>27),I=L+(C^D&(w^C))+V[2]+4243563512&4294967295,L=w+(I<<9&4294967295|I>>>23),I=D+(w^C&(L^w))+V[7]+1735328473&4294967295,D=L+(I<<14&4294967295|I>>>18),I=C+(L^w&(D^L))+V[12]+2368359562&4294967295,C=D+(I<<20&4294967295|I>>>12),I=w+(C^D^L)+V[5]+4294588738&4294967295,w=C+(I<<4&4294967295|I>>>28),I=L+(w^C^D)+V[8]+2272392833&4294967295,L=w+(I<<11&4294967295|I>>>21),I=D+(L^w^C)+V[11]+1839030562&4294967295,D=L+(I<<16&4294967295|I>>>16),I=C+(D^L^w)+V[14]+4259657740&4294967295,C=D+(I<<23&4294967295|I>>>9),I=w+(C^D^L)+V[1]+2763975236&4294967295,w=C+(I<<4&4294967295|I>>>28),I=L+(w^C^D)+V[4]+1272893353&4294967295,L=w+(I<<11&4294967295|I>>>21),I=D+(L^w^C)+V[7]+4139469664&4294967295,D=L+(I<<16&4294967295|I>>>16),I=C+(D^L^w)+V[10]+3200236656&4294967295,C=D+(I<<23&4294967295|I>>>9),I=w+(C^D^L)+V[13]+681279174&4294967295,w=C+(I<<4&4294967295|I>>>28),I=L+(w^C^D)+V[0]+3936430074&4294967295,L=w+(I<<11&4294967295|I>>>21),I=D+(L^w^C)+V[3]+3572445317&4294967295,D=L+(I<<16&4294967295|I>>>16),I=C+(D^L^w)+V[6]+76029189&4294967295,C=D+(I<<23&4294967295|I>>>9),I=w+(C^D^L)+V[9]+3654602809&4294967295,w=C+(I<<4&4294967295|I>>>28),I=L+(w^C^D)+V[12]+3873151461&4294967295,L=w+(I<<11&4294967295|I>>>21),I=D+(L^w^C)+V[15]+530742520&4294967295,D=L+(I<<16&4294967295|I>>>16),I=C+(D^L^w)+V[2]+3299628645&4294967295,C=D+(I<<23&4294967295|I>>>9),I=w+(D^(C|~L))+V[0]+4096336452&4294967295,w=C+(I<<6&4294967295|I>>>26),I=L+(C^(w|~D))+V[7]+1126891415&4294967295,L=w+(I<<10&4294967295|I>>>22),I=D+(w^(L|~C))+V[14]+2878612391&4294967295,D=L+(I<<15&4294967295|I>>>17),I=C+(L^(D|~w))+V[5]+4237533241&4294967295,C=D+(I<<21&4294967295|I>>>11),I=w+(D^(C|~L))+V[12]+1700485571&4294967295,w=C+(I<<6&4294967295|I>>>26),I=L+(C^(w|~D))+V[3]+2399980690&4294967295,L=w+(I<<10&4294967295|I>>>22),I=D+(w^(L|~C))+V[10]+4293915773&4294967295,D=L+(I<<15&4294967295|I>>>17),I=C+(L^(D|~w))+V[1]+2240044497&4294967295,C=D+(I<<21&4294967295|I>>>11),I=w+(D^(C|~L))+V[8]+1873313359&4294967295,w=C+(I<<6&4294967295|I>>>26),I=L+(C^(w|~D))+V[15]+4264355552&4294967295,L=w+(I<<10&4294967295|I>>>22),I=D+(w^(L|~C))+V[6]+2734768916&4294967295,D=L+(I<<15&4294967295|I>>>17),I=C+(L^(D|~w))+V[13]+1309151649&4294967295,C=D+(I<<21&4294967295|I>>>11),I=w+(D^(C|~L))+V[4]+4149444226&4294967295,w=C+(I<<6&4294967295|I>>>26),I=L+(C^(w|~D))+V[11]+3174756917&4294967295,L=w+(I<<10&4294967295|I>>>22),I=D+(w^(L|~C))+V[2]+718787259&4294967295,D=L+(I<<15&4294967295|I>>>17),I=C+(L^(D|~w))+V[9]+3951481745&4294967295,R.g[0]=R.g[0]+w&4294967295,R.g[1]=R.g[1]+(D+(I<<21&4294967295|I>>>11))&4294967295,R.g[2]=R.g[2]+D&4294967295,R.g[3]=R.g[3]+L&4294967295}r.prototype.v=function(R,w){w===void 0&&(w=R.length);const C=w-this.blockSize,V=this.C;let D=this.h,L=0;for(;L<w;){if(D==0)for(;L<=C;)l(this,R,L),L+=this.blockSize;if(typeof R=="string"){for(;L<w;)if(V[D++]=R.charCodeAt(L++),D==this.blockSize){l(this,V),D=0;break}}else for(;L<w;)if(V[D++]=R[L++],D==this.blockSize){l(this,V),D=0;break}}this.h=D,this.o+=w},r.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var w=1;w<R.length-8;++w)R[w]=0;w=this.o*8;for(var C=R.length-8;C<R.length;++C)R[C]=w&255,w/=256;for(this.v(R),R=Array(16),w=0,C=0;C<4;++C)for(let V=0;V<32;V+=8)R[w++]=this.g[C]>>>V&255;return R};function c(R,w){var C=p;return Object.prototype.hasOwnProperty.call(C,R)?C[R]:C[R]=w(R)}function d(R,w){this.h=w;const C=[];let V=!0;for(let D=R.length-1;D>=0;D--){const L=R[D]|0;V&&L==w||(C[D]=L,V=!1)}this.g=C}var p={};function g(R){return-128<=R&&R<128?c(R,function(w){return new d([w|0],w<0?-1:0)}):new d([R|0],R<0?-1:0)}function y(R){if(isNaN(R)||!isFinite(R))return T;if(R<0)return J(y(-R));const w=[];let C=1;for(let V=0;R>=C;V++)w[V]=R/C|0,C*=4294967296;return new d(w,0)}function S(R,w){if(R.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(R.charAt(0)=="-")return J(S(R.substring(1),w));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=y(Math.pow(w,8));let V=T;for(let L=0;L<R.length;L+=8){var D=Math.min(8,R.length-L);const I=parseInt(R.substring(L,L+D),w);D<8?(D=y(Math.pow(w,D)),V=V.j(D).add(y(I))):(V=V.j(C),V=V.add(y(I)))}return V}var T=g(0),M=g(1),B=g(16777216);s=d.prototype,s.m=function(){if(te(this))return-J(this).m();let R=0,w=1;for(let C=0;C<this.g.length;C++){const V=this.i(C);R+=(V>=0?V:4294967296+V)*w,w*=4294967296}return R},s.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(Z(this))return"0";if(te(this))return"-"+J(this).toString(R);const w=y(Math.pow(R,6));var C=this;let V="";for(;;){const D=oe(C,w).g;C=ce(C,D.j(w));let L=((C.g.length>0?C.g[0]:C.h)>>>0).toString(R);if(C=D,Z(C))return L+V;for(;L.length<6;)L="0"+L;V=L+V}},s.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function Z(R){if(R.h!=0)return!1;for(let w=0;w<R.g.length;w++)if(R.g[w]!=0)return!1;return!0}function te(R){return R.h==-1}s.l=function(R){return R=ce(this,R),te(R)?-1:Z(R)?0:1};function J(R){const w=R.g.length,C=[];for(let V=0;V<w;V++)C[V]=~R.g[V];return new d(C,~R.h).add(M)}s.abs=function(){return te(this)?J(this):this},s.add=function(R){const w=Math.max(this.g.length,R.g.length),C=[];let V=0;for(let D=0;D<=w;D++){let L=V+(this.i(D)&65535)+(R.i(D)&65535),I=(L>>>16)+(this.i(D)>>>16)+(R.i(D)>>>16);V=I>>>16,L&=65535,I&=65535,C[D]=I<<16|L}return new d(C,C[C.length-1]&-2147483648?-1:0)};function ce(R,w){return R.add(J(w))}s.j=function(R){if(Z(this)||Z(R))return T;if(te(this))return te(R)?J(this).j(J(R)):J(J(this).j(R));if(te(R))return J(this.j(J(R)));if(this.l(B)<0&&R.l(B)<0)return y(this.m()*R.m());const w=this.g.length+R.g.length,C=[];for(var V=0;V<2*w;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(let D=0;D<R.g.length;D++){const L=this.i(V)>>>16,I=this.i(V)&65535,rt=R.i(D)>>>16,Dt=R.i(D)&65535;C[2*V+2*D]+=I*Dt,ye(C,2*V+2*D),C[2*V+2*D+1]+=L*Dt,ye(C,2*V+2*D+1),C[2*V+2*D+1]+=I*rt,ye(C,2*V+2*D+1),C[2*V+2*D+2]+=L*rt,ye(C,2*V+2*D+2)}for(R=0;R<w;R++)C[R]=C[2*R+1]<<16|C[2*R];for(R=w;R<2*w;R++)C[R]=0;return new d(C,0)};function ye(R,w){for(;(R[w]&65535)!=R[w];)R[w+1]+=R[w]>>>16,R[w]&=65535,w++}function W(R,w){this.g=R,this.h=w}function oe(R,w){if(Z(w))throw Error("division by zero");if(Z(R))return new W(T,T);if(te(R))return w=oe(J(R),w),new W(J(w.g),J(w.h));if(te(w))return w=oe(R,J(w)),new W(J(w.g),w.h);if(R.g.length>30){if(te(R)||te(w))throw Error("slowDivide_ only works with positive integers.");for(var C=M,V=w;V.l(R)<=0;)C=Ie(C),V=Ie(V);var D=we(C,1),L=we(V,1);for(V=we(V,2),C=we(C,2);!Z(V);){var I=L.add(V);I.l(R)<=0&&(D=D.add(C),L=I),V=we(V,1),C=we(C,1)}return w=ce(R,D.j(w)),new W(D,w)}for(D=T;R.l(w)>=0;){for(C=Math.max(1,Math.floor(R.m()/w.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),L=y(C),I=L.j(w);te(I)||I.l(R)>0;)C-=V,L=y(C),I=L.j(w);Z(L)&&(L=M),D=D.add(L),R=ce(R,I)}return new W(D,R)}s.B=function(R){return oe(this,R).h},s.and=function(R){const w=Math.max(this.g.length,R.g.length),C=[];for(let V=0;V<w;V++)C[V]=this.i(V)&R.i(V);return new d(C,this.h&R.h)},s.or=function(R){const w=Math.max(this.g.length,R.g.length),C=[];for(let V=0;V<w;V++)C[V]=this.i(V)|R.i(V);return new d(C,this.h|R.h)},s.xor=function(R){const w=Math.max(this.g.length,R.g.length),C=[];for(let V=0;V<w;V++)C[V]=this.i(V)^R.i(V);return new d(C,this.h^R.h)};function Ie(R){const w=R.g.length+1,C=[];for(let V=0;V<w;V++)C[V]=R.i(V)<<1|R.i(V-1)>>>31;return new d(C,R.h)}function we(R,w){const C=w>>5;w%=32;const V=R.g.length-C,D=[];for(let L=0;L<V;L++)D[L]=w>0?R.i(L+C)>>>w|R.i(L+C+1)<<32-w:R.i(L+C);return new d(D,R.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,jE=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=S,Ws=d}).apply(typeof Pv<"u"?Pv:typeof self<"u"?self:typeof window<"u"?window:{});var Hc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var BE,kl,qE,Jc,pm,HE,FE,GE;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hc=="object"&&Hc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=i(this);function l(u,m){if(m)e:{var v=r;u=u.split(".");for(var A=0;A<u.length-1;A++){var P=u[A];if(!(P in v))break e;v=v[P]}u=u[u.length-1],A=v[u],m=m(A),m!=A&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],A;for(A in m)Object.prototype.hasOwnProperty.call(m,A)&&v.push([A,m[A]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function g(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=g,y.apply(null,arguments)}function S(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function T(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(A,P,q){for(var ee=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)ee[Se-2]=arguments[Se];return m.prototype[P].apply(A,ee)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function B(u){const m=u.length;if(m>0){const v=Array(m);for(let A=0;A<m;A++)v[A]=u[A];return v}return[]}function Z(u,m){for(let A=1;A<arguments.length;A++){const P=arguments[A];var v=typeof P;if(v=v!="object"?v:P?Array.isArray(P)?"array":v:"null",v=="array"||v=="object"&&typeof P.length=="number"){v=u.length||0;const q=P.length||0;u.length=v+q;for(let ee=0;ee<q;ee++)u[v+ee]=P[ee]}else u.push(P)}}class te{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function J(u){d.setTimeout(()=>{throw u},0)}function ce(){var u=R;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ye{constructor(){this.h=this.g=null}add(m,v){const A=W.get();A.set(m,v),this.h?this.h.next=A:this.g=A,this.h=A}}var W=new te(()=>new oe,u=>u.reset());class oe{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Ie,we=!1,R=new ye,w=()=>{const u=Promise.resolve(void 0);Ie=()=>{u.then(C)}};function C(){for(var u;u=ce();){try{u.h.call(u.g)}catch(v){J(v)}var m=W;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}we=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function I(u){return/^[\s\xa0]*$/.test(u)}function rt(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}T(rt,D),rt.prototype.init=function(u,m){const v=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&rt.Z.h.call(this)},rt.prototype.h=function(){rt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Dt="closure_listenable_"+(Math.random()*1e6|0),G=0;function ne(u,m,v,A,P){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!A,this.ha=P,this.key=++G,this.da=this.fa=!1}function de(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ze(u,m,v){for(const A in u)m.call(v,u[A],A,u)}function Ge(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ie(u,m){let v,A;for(let P=1;P<arguments.length;P++){A=arguments[P];for(v in A)u[v]=A[v];for(let q=0;q<Y.length;q++)v=Y[q],Object.prototype.hasOwnProperty.call(A,v)&&(u[v]=A[v])}}function ae(u){this.src=u,this.g={},this.h=0}ae.prototype.add=function(u,m,v,A,P){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const ee=Re(u,m,A,P);return ee>-1?(m=u[ee],v||(m.fa=!1)):(m=new ne(m,this.src,q,!!A,P),m.fa=v,u.push(m)),m};function ve(u,m){const v=m.type;if(v in u.g){var A=u.g[v],P=Array.prototype.indexOf.call(A,m,void 0),q;(q=P>=0)&&Array.prototype.splice.call(A,P,1),q&&(de(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Re(u,m,v,A){for(let P=0;P<u.length;++P){const q=u[P];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==A)return P}return-1}var Pe="closure_lm_"+(Math.random()*1e6|0),Ot={};function at(u,m,v,A,P){if(Array.isArray(m)){for(let q=0;q<m.length;q++)at(u,m[q],v,A,P);return null}return v=No(v),u&&u[Dt]?u.J(m,v,p(A)?!!A.capture:!1,P):hr(u,m,v,!1,A,P)}function hr(u,m,v,A,P,q){if(!m)throw Error("Invalid event type");const ee=p(P)?!!P.capture:!!P;let Se=fr(u);if(Se||(u[Pe]=Se=new ae(u)),v=Se.add(m,v,A,ee,q),v.proxy)return v;if(A=oa(),v.proxy=A,A.src=u,A.listener=v,u.addEventListener)L||(P=ee),P===void 0&&(P=!1),u.addEventListener(m.toString(),A,P);else if(u.attachEvent)u.attachEvent(ai(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function oa(){function u(v){return m.call(u.src,u.listener,v)}const m=Co;return u}function la(u,m,v,A,P){if(Array.isArray(m))for(var q=0;q<m.length;q++)la(u,m[q],v,A,P);else A=p(A)?!!A.capture:!!A,v=No(v),u&&u[Dt]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],v=Re(m,v,A,P),v>-1&&(de(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=fr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Re(m,v,A,P)),(v=u>-1?m[u]:null)&&ua(v))}function ua(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Dt])ve(m.i,u);else{var v=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(v,A,u.capture):m.detachEvent?m.detachEvent(ai(v),A):m.addListener&&m.removeListener&&m.removeListener(A),(v=fr(m))?(ve(v,u),v.h==0&&(v.src=null,m[Pe]=null)):de(u)}}}function ai(u){return u in Ot?Ot[u]:Ot[u]="on"+u}function Co(u,m){if(u.da)u=!0;else{m=new rt(m,this);const v=u.listener,A=u.ha||u.src;u.fa&&ua(u),u=v.call(A,m)}return u}function fr(u){return u=u[Pe],u instanceof ae?u:null}var Io="__closure_events_fn_"+(Math.random()*1e9>>>0);function No(u){return typeof u=="function"?u:(u[Io]||(u[Io]=function(m){return u.handleEvent(m)}),u[Io])}function _t(){V.call(this),this.i=new ae(this),this.M=this,this.G=null}T(_t,V),_t.prototype[Dt]=!0,_t.prototype.removeEventListener=function(u,m,v,A){la(this,u,m,v,A)};function Mt(u,m){var v,A=u.G;if(A)for(v=[];A;A=A.G)v.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var P=m;m=new D(A,u),ie(m,P)}P=!0;let q,ee;if(v)for(ee=v.length-1;ee>=0;ee--)q=m.g=v[ee],P=fs(q,A,!0,m)&&P;if(q=m.g=u,P=fs(q,A,!0,m)&&P,P=fs(q,A,!1,m)&&P,v)for(ee=0;ee<v.length;ee++)q=m.g=v[ee],P=fs(q,A,!1,m)&&P}_t.prototype.N=function(){if(_t.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let A=0;A<v.length;A++)de(v[A]);delete u.g[m],u.h--}}this.G=null},_t.prototype.J=function(u,m,v,A){return this.i.add(String(u),m,!1,v,A)},_t.prototype.K=function(u,m,v,A){return this.i.add(String(u),m,!0,v,A)};function fs(u,m,v,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let P=!0;for(let q=0;q<m.length;++q){const ee=m[q];if(ee&&!ee.da&&ee.capture==v){const Se=ee.listener,mt=ee.ha||ee.src;ee.fa&&ve(u.i,ee),P=Se.call(mt,A)!==!1&&P}}return P&&!A.defaultPrevented}function qh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function du(u){u.g=qh(()=>{u.g=null,u.i&&(u.i=!1,du(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class nn extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:du(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function dr(u){V.call(this),this.h=u,this.g={}}T(dr,V);var xo=[];function Do(u){ze(u.g,function(m,v){this.g.hasOwnProperty(v)&&ua(m)},u),u.g={}}dr.prototype.N=function(){dr.Z.N.call(this),Do(this)},dr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ds=d.JSON.stringify,Hh=d.JSON.parse,mu=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function pu(){}function gu(){}var Bn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function jt(){D.call(this,"d")}T(jt,D);function wn(){D.call(this,"c")}T(wn,D);var dt={},yu=null;function ca(){return yu=yu||new _t}dt.Ia="serverreachability";function _u(u){D.call(this,dt.Ia,u)}T(_u,D);function oi(u){const m=ca();Mt(m,new _u(m))}dt.STAT_EVENT="statevent";function mr(u,m){D.call(this,dt.STAT_EVENT,u),this.stat=m}T(mr,D);function vt(u){const m=ca();Mt(m,new mr(m,u))}dt.Ja="timingevent";function li(u,m){D.call(this,dt.Ja,u),this.size=m}T(li,D);function ui(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function qn(){this.g=!0}qn.prototype.ua=function(){this.g=!1};function Fh(u,m,v,A,P,q){u.info(function(){if(u.g)if(q){var ee="",Se=q.split("&");for(let qe=0;qe<Se.length;qe++){var mt=Se[qe].split("=");if(mt.length>1){const ot=mt[0];mt=mt[1];const Nn=ot.split("_");ee=Nn.length>=2&&Nn[1]=="type"?ee+(ot+"="+mt+"&"):ee+(ot+"=redacted&")}}}else ee=null;else ee=q;return"XMLHTTP REQ ("+A+") [attempt "+P+"]: "+m+`
`+v+`
`+ee})}function vu(u,m,v,A,P,q,ee){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+P+"]: "+m+`
`+v+`
`+q+" "+ee})}function ci(u,m,v,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Gh(u,v)+(A?" "+A:"")})}function pr(u,m){u.info(function(){return"TIMEOUT: "+m})}qn.prototype.info=function(){};function Gh(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var v=q[u];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var P=A[0];if(P!="noop"&&P!="stop"&&P!="close")for(let ee=1;ee<A.length;ee++)A[ee]=""}}}}return ds(q)}catch{return m}}var gr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Oo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Mo;function yr(){}T(yr,pu),yr.prototype.g=function(){return new XMLHttpRequest},Mo=new yr;function Li(u){return encodeURIComponent(String(u))}function Eu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Hn(u,m,v,A){this.j=u,this.i=m,this.l=v,this.S=A||1,this.V=new dr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Fn}function Fn(){this.i=null,this.g="",this.h=!1}var Et={},Lt={};function hi(u,m,v){u.M=1,u.A=_r(At(m)),u.u=v,u.R=!0,ha(u,null)}function ha(u,m){u.F=Date.now(),fi(u),u.B=At(u.A);var v=u.B,A=u.S;Array.isArray(A)||(A=[String(A)]),pa(v.i,"t",A),u.C=0,v=u.j.L,u.h=new Fn,u.g=ku(u.j,v?m:null,!u.u),u.P>0&&(u.O=new nn(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,A=u.ba;var P="readystatechange";Array.isArray(P)||(P&&(xo[0]=P.toString()),P=xo);for(let q=0;q<P.length;q++){const ee=at(v,P[q],A||m.handleEvent,!1,m.h||m);if(!ee)break;m.g[ee.key]=ee}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),oi(),Fh(u.i,u.v,u.B,u.l,u.S,u.u)}Hn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Kn(u)==3?m.j():this.Y(u)},Hn.prototype.Y=function(u){try{if(u==this.g)e:{const Se=Kn(this.g),mt=this.g.ya(),qe=this.g.ca();if(!(Se<3)&&(Se!=3||this.g&&(this.h.h||this.g.la()||Bt(this.g)))){this.K||Se!=4||mt==7||(mt==8||qe<=0?oi(3):oi(2)),di(this);var m=this.g.ca();this.X=m;var v=Qh(this);if(this.o=m==200,vu(this.i,this.v,this.B,this.l,this.S,Se,m),this.o){if(this.U&&!this.L){t:{if(this.g){var A,P=this.g;if((A=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(A)){var q=A;break t}}q=null}if(u=q)ci(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,mi(this,u);else{this.o=!1,this.m=3,vt(12),mn(this),Rn(this);break e}}if(this.R){u=!0;let ot;for(;!this.K&&this.C<v.length;)if(ot=Au(this,v),ot==Lt){Se==4&&(this.m=4,vt(14),u=!1),ci(this.i,this.l,null,"[Incomplete Response]");break}else if(ot==Et){this.m=4,vt(15),ci(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else ci(this.i,this.l,ot,null),mi(this,ot);if(Tu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Se!=4||v.length!=0||this.h.h||(this.m=1,vt(16),u=!1),this.o=this.o&&u,!u)ci(this.i,this.l,v,"[Invalid Chunked Response]"),mn(this),Rn(this);else if(v.length>0&&!this.W){this.W=!0;var ee=this.j;ee.g==this&&ee.aa&&!ee.P&&(ee.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Yo(ee),ee.P=!0,vt(11))}}else ci(this.i,this.l,v,null),mi(this,v);Se==4&&mn(this),this.o&&!this.K&&(Se==4?Du(this.j,this):(this.o=!1,fi(this)))}else Ui(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,vt(12)):(this.m=0,vt(13)),mn(this),Rn(this)}}}catch{}finally{}};function Qh(u){if(!Tu(u))return u.g.la();const m=Bt(u.g);if(m==="")return"";let v="";const A=m.length,P=Kn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return mn(u),Rn(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<A;q++)u.h.h=!0,v+=u.h.i.decode(m[q],{stream:!(P&&q==A-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function Tu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Au(u,m){var v=u.C,A=m.indexOf(`
`,v);return A==-1?Lt:(v=Number(m.substring(v,A)),isNaN(v)?Et:(A+=1,A+v>m.length?Lt:(m=m.slice(A,A+v),u.C=A+v,m)))}Hn.prototype.cancel=function(){this.K=!0,mn(this)};function fi(u){u.T=Date.now()+u.H,fa(u,u.H)}function fa(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ui(y(u.aa,u),m)}function di(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Hn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(pr(this.i,this.B),this.M!=2&&(oi(),vt(17)),mn(this),this.m=2,Rn(this)):fa(this,this.T-u)};function Rn(u){u.j.I==0||u.K||Du(u.j,u)}function mn(u){di(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Do(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function mi(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||gi(v.h,u))){if(!u.L&&gi(v.h,u)&&v.I==3){try{var A=v.Ba.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var P=A;if(P[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)Ea(v),Ts(v);else break e;wr(v),vt(18)}}else v.xa=P[1],0<v.xa-v.K&&P[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ui(y(v.Va,v),6e3));pi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ai(v,11)}else if((u.L||v.g==u)&&Ea(v),!I(m))for(P=v.Ba.g.parse(m),m=0;m<P.length;m++){let qe=P[m];const ot=qe[0];if(!(ot<=v.K))if(v.K=ot,qe=qe[1],v.I==2)if(qe[0]=="c"){v.M=qe[1],v.ba=qe[2];const Nn=qe[3];Nn!=null&&(v.ka=Nn,v.j.info("VER="+v.ka));const Si=qe[4];Si!=null&&(v.za=Si,v.j.info("SVER="+v.za));const Yn=qe[5];Yn!=null&&typeof Yn=="number"&&Yn>0&&(A=1.5*Yn,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const Xn=u.g;if(Xn){const Rr=Xn.g?Xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Rr){var q=A.h;q.g||Rr.indexOf("spdy")==-1&&Rr.indexOf("quic")==-1&&Rr.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Lo(q,q.h),q.h=null))}if(A.G){const Ta=Xn.g?Xn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ta&&(A.wa=Ta,Qe(A.J,A.G,Ta))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var ee=u;if(A.na=Vu(A,A.L?A.ba:null,A.W),ee.L){Po(A.h,ee);var Se=ee,mt=A.O;mt&&(Se.H=mt),Se.D&&(di(Se),fi(Se)),A.g=ee}else Nu(A);v.i.length>0&&Ti(v)}else qe[0]!="stop"&&qe[0]!="close"||Ai(v,7);else v.I==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?Ai(v,7):Qo(v):qe[0]!="noop"&&v.l&&v.l.qa(qe),v.A=0)}}oi(4)}catch{}}var Tt=class{constructor(u,m){this.g=u,this.map=m}};function Vo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ko(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function pi(u){return u.h?1:u.g?u.g.size:0}function gi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Lo(u,m){u.g?u.g.add(m):u.h=m}function Po(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Vo.prototype.cancel=function(){if(this.i=Uo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Uo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return B(u.i)}var Su=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function da(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const A=u[v].indexOf("=");let P,q=null;A>=0?(P=u[v].substring(0,A),q=u[v].substring(A+1)):P=u[v],m(P,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function pn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof pn?(this.l=u.l,Pt(this,u.j),this.o=u.o,this.g=u.g,ms(this,u.u),this.h=u.h,zo(this,Cu(u.i)),this.m=u.m):u&&(m=String(u).match(Su))?(this.l=!1,Pt(this,m[1]||"",!0),this.o=yi(m[2]||""),this.g=yi(m[3]||"",!0),ms(this,m[4]),this.h=yi(m[5]||"",!0),zo(this,m[6]||"",!0),this.m=yi(m[7]||"")):(this.l=!1,this.i=new gs(null,this.l))}pn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(vr(m,ma,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(vr(m,ma,!0),"@"),u.push(Li(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(vr(v,v.charAt(0)=="/"?jo:bu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",vr(v,wu)),u.join("")},pn.prototype.resolve=function(u){const m=At(this);let v=!!u.j;v?Pt(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var A=u.h;if(v)ms(m,u.u);else if(v=!!u.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var P=m.h.lastIndexOf("/");P!=-1&&(A=m.h.slice(0,P+1)+A)}if(P=A,P==".."||P==".")A="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){A=P.lastIndexOf("/",0)==0,P=P.split("/");const q=[];for(let ee=0;ee<P.length;){const Se=P[ee++];Se=="."?A&&ee==P.length&&q.push(""):Se==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),A&&ee==P.length&&q.push("")):(q.push(Se),A=!0)}A=q.join("/")}else A=P}return v?m.h=A:v=u.i.toString()!=="",v?zo(m,Cu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function At(u){return new pn(u)}function Pt(u,m,v){u.j=v?yi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ms(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function zo(u,m,v){m instanceof gs?(u.i=m,ga(u.i,u.l)):(v||(m=vr(m,ps)),u.i=new gs(m,u.l))}function Qe(u,m,v){u.i.set(m,v)}function _r(u){return Qe(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function yi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function vr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,an),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function an(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ma=/[#\/\?@]/g,bu=/[#\?:]/g,jo=/[#\?]/g,ps=/[#\?@]/g,wu=/#/g;function gs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function on(u){u.g||(u.g=new Map,u.h=0,u.i&&da(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=gs.prototype,s.add=function(u,m){on(this),this.i=null,u=ys(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function Ru(u,m){on(u),m=ys(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Bo(u,m){return on(u),m=ys(u,m),u.g.has(m)}s.forEach=function(u,m){on(this),this.g.forEach(function(v,A){v.forEach(function(P){u.call(m,P,A,this)},this)},this)};function qo(u,m){on(u);let v=[];if(typeof m=="string")Bo(u,m)&&(v=v.concat(u.g.get(ys(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return on(this),this.i=null,u=ys(this,u),Bo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=qo(this,u),u.length>0?String(u[0]):m):m};function pa(u,m,v){Ru(u,m),v.length>0&&(u.i=null,u.g.set(ys(u,m),B(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let A=0;A<m.length;A++){var v=m[A];const P=Li(v);v=qo(this,v);for(let q=0;q<v.length;q++){let ee=P;v[q]!==""&&(ee+="="+Li(v[q])),u.push(ee)}}return this.i=u.join("&")};function Cu(u){const m=new gs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function ys(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ga(u,m){m&&!u.j&&(on(u),u.i=null,u.g.forEach(function(v,A){const P=A.toLowerCase();A!=P&&(Ru(this,A),pa(this,P,v))},u)),u.j=m}function Gn(u,m){const v=new qn;if(d.Image){const A=new Image;A.onload=S(Cn,v,"TestLoadImage: loaded",!0,m,A),A.onerror=S(Cn,v,"TestLoadImage: error",!1,m,A),A.onabort=S(Cn,v,"TestLoadImage: abort",!1,m,A),A.ontimeout=S(Cn,v,"TestLoadImage: timeout",!1,m,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function Ho(u,m){const v=new qn,A=new AbortController,P=setTimeout(()=>{A.abort(),Cn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(q=>{clearTimeout(P),q.ok?Cn(v,"TestPingServer: ok",!0,m):Cn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),Cn(v,"TestPingServer: error",!1,m)})}function Cn(u,m,v,A,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),A(v)}catch{}}function _s(){this.g=new mu}function _i(u){this.i=u.Sb||null,this.h=u.ab||!1}T(_i,pu),_i.prototype.g=function(){return new Er(this.i,this.h)};function Er(u,m){_t.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Er,_t),s=Er.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Qn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,vs(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Qn(this)),this.g&&(this.readyState=3,Qn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ya(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ya(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?vs(this):Qn(this),this.readyState==3&&ya(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,vs(this))},s.Na=function(u){this.g&&(this.response=u,vs(this))},s.ga=function(){this.g&&vs(this)};function vs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Qn(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Qn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Er.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function In(u){let m="";return ze(u,function(v,A){m+=A,m+=":",m+=v,m+=`\r
`}),m}function Tr(u,m,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=In(v),typeof u=="string"?v!=null&&Li(v):Qe(u,m,v))}function Xe(u){_t.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(Xe,_t);var vi=/^https?$/i,Fo=["POST","PUT"];s=Xe.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Mo.g(),this.g.onreadystatechange=M(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){Ar(this,q);return}if(u=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var P in A)v.set(P,A[P]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const q of A.keys())v.set(q,A.get(q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),P=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Fo,m,void 0)>=0)||A||P||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,ee]of v)this.g.setRequestHeader(q,ee);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){Ar(this,q)}};function Ar(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Go(u),Pi(u)}function Go(u){u.A||(u.A=!0,Mt(u,"complete"),Mt(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Mt(this,"complete"),Mt(this,"abort"),Pi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Pi(this,!0)),Xe.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Sr(this):this.Xa())},s.Xa=function(){Sr(this)};function Sr(u){if(u.h&&typeof c<"u"){if(u.v&&Kn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Mt(u,"readystatechange"),Kn(u)==4){u.h=!1;try{const q=u.ca();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var A;if(A=q===0){let ee=String(u.D).match(Su)[1]||null;!ee&&d.self&&d.self.location&&(ee=d.self.location.protocol.slice(0,-1)),A=!vi.test(ee?ee.toLowerCase():"")}v=A}if(v)Mt(u,"complete"),Mt(u,"success");else{u.o=6;try{var P=Kn(u)>2?u.g.statusText:""}catch{P=""}u.l=P+" ["+u.ca()+"]",Go(u)}}finally{Pi(u)}}}}function Pi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Mt(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Kn(u){return u.g?u.g.readyState:0}s.ca=function(){try{return Kn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Hh(m)}};function Bt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ui(u){const m={};u=(u.g&&Kn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(I(u[A]))continue;var v=Eu(u[A]);const P=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[P]||[];m[P]=q,q.push(v)}Ge(m,function(A){return A.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ei(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Es(u){this.za=0,this.i=[],this.j=new qn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ei("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ei("baseRetryDelayMs",5e3,u),this.Za=Ei("retryDelaySeedMs",1e4,u),this.Ta=Ei("forwardChannelMaxRetries",2,u),this.va=Ei("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Vo(u&&u.concurrentRequestLimit),this.Ba=new _s,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Es.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,A){vt(0),this.W=u,this.H=m||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=Vu(this,null,this.W),Ti(this)};function Qo(u){if(_a(u),u.I==3){var m=u.V++,v=At(u.J);if(Qe(v,"SID",u.M),Qe(v,"RID",m),Qe(v,"TYPE","terminate"),br(u,v),m=new Hn(u,u.j,m),m.M=2,m.A=_r(At(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=ku(m.j,null),m.g.ea(m.A)),m.F=Date.now(),fi(m)}Mu(u)}function Ts(u){u.g&&(Yo(u),u.g.cancel(),u.g=null)}function _a(u){Ts(u),u.v&&(d.clearTimeout(u.v),u.v=null),Ea(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ti(u){if(!ko(u.h)&&!u.m){u.m=!0;var m=u.Ea;Ie||w(),we||(Ie(),we=!0),R.add(m,u),u.D=0}}function va(u,m){return pi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ui(y(u.Ea,u,m),Ou(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const P=new Hn(this,this.j,u);let q=this.o;if(this.U&&(q?(q=O(q),ie(q,this.U)):q=this.U),this.u!==null||this.R||(P.J=q,q=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(m+=A,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=Iu(this,P,m),v=At(this.J),Qe(v,"RID",u),Qe(v,"CVER",22),this.G&&Qe(v,"X-HTTP-Session-Id",this.G),br(this,v),q&&(this.R?m="headers="+Li(In(q))+"&"+m:this.u&&Tr(v,this.u,q)),Lo(this.h,P),this.Ra&&Qe(v,"TYPE","init"),this.S?(Qe(v,"$req",m),Qe(v,"SID","null"),P.U=!0,hi(P,v,null)):hi(P,v,m),this.I=2}}else this.I==3&&(u?Ko(this,u):this.i.length==0||ko(this.h)||Ko(this))};function Ko(u,m){var v;m?v=m.l:v=u.V++;const A=At(u.J);Qe(A,"SID",u.M),Qe(A,"RID",v),Qe(A,"AID",u.K),br(u,A),u.u&&u.o&&Tr(A,u.u,u.o),v=new Hn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Iu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Lo(u.h,v),hi(v,A,m)}function br(u,m){u.H&&ze(u.H,function(v,A){Qe(m,A,v)}),u.l&&ze({},function(v,A){Qe(m,A,v)})}function Iu(u,m,v){v=Math.min(u.i.length,v);const A=u.l?y(u.l.Ka,u.l,u):null;e:{var P=u.i;let Se=-1;for(;;){const mt=["count="+v];Se==-1?v>0?(Se=P[0].g,mt.push("ofs="+Se)):Se=0:mt.push("ofs="+Se);let qe=!0;for(let ot=0;ot<v;ot++){var q=P[ot].g;const Nn=P[ot].map;if(q-=Se,q<0)Se=Math.max(0,P[ot].g-100),qe=!1;else try{q="req"+q+"_"||"";try{var ee=Nn instanceof Map?Nn:Object.entries(Nn);for(const[Si,Yn]of ee){let Xn=Yn;p(Yn)&&(Xn=ds(Yn)),mt.push(q+Si+"="+encodeURIComponent(Xn))}}catch(Si){throw mt.push(q+"type="+encodeURIComponent("_badmap")),Si}}catch{A&&A(Nn)}}if(qe){ee=mt.join("&");break e}}ee=void 0}return u=u.i.splice(0,v),m.G=u,ee}function Nu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Ie||w(),we||(Ie(),we=!0),R.add(m,u),u.A=0}}function wr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ui(y(u.Da,u),Ou(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,xu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ui(y(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,vt(10),Ts(this),xu(this))};function Yo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function xu(u){u.g=new Hn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=At(u.na);Qe(m,"RID","rpc"),Qe(m,"SID",u.M),Qe(m,"AID",u.K),Qe(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Qe(m,"TO",u.ia),Qe(m,"TYPE","xmlhttp"),br(u,m),u.u&&u.o&&Tr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=_r(At(m)),v.u=null,v.R=!0,ha(v,u)}s.Va=function(){this.C!=null&&(this.C=null,Ts(this),wr(this),vt(19))};function Ea(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Du(u,m){var v=null;if(u.g==m){Ea(u),Yo(u),u.g=null;var A=2}else if(gi(u.h,m))v=m.G,Po(u.h,m),A=1;else return;if(u.I!=0){if(m.o)if(A==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var P=u.D;A=ca(),Mt(A,new li(A,v)),Ti(u)}else Nu(u);else if(P=m.m,P==3||P==0&&m.X>0||!(A==1&&va(u,m)||A==2&&wr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),P){case 1:Ai(u,5);break;case 4:Ai(u,10);break;case 3:Ai(u,6);break;default:Ai(u,2)}}}function Ou(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Ai(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),A=u.Ua;const P=!A;A=new pn(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Pt(A,"https"),_r(A),P?Gn(A.toString(),v):Ho(A.toString(),v)}else vt(2);u.I=0,u.l&&u.l.pa(m),Mu(u),_a(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function Mu(u){if(u.I=0,u.ja=[],u.l){const m=Uo(u.h);(m.length!=0||u.i.length!=0)&&(Z(u.ja,m),Z(u.ja,u.i),u.h.i.length=0,B(u.i),u.i.length=0),u.l.oa()}}function Vu(u,m,v){var A=v instanceof pn?At(v):new pn(v);if(A.g!="")m&&(A.g=m+"."+A.g),ms(A,A.u);else{var P=d.location;A=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;const q=new pn(null);A&&Pt(q,A),m&&(q.g=m),P&&ms(q,P),v&&(q.h=v),A=q}return v=u.G,m=u.wa,v&&m&&Qe(A,v,m),Qe(A,"VER",u.ka),br(u,A),A}function ku(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Xe(new _i({ab:v})):new Xe(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Lu(){}s=Lu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function As(){}As.prototype.g=function(u,m){return new sn(u,m)};function sn(u,m){_t.call(this),this.g=new Es(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!I(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!I(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new zi(this)}T(sn,_t),sn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){Qo(this.g)},sn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=ds(u),u=v);m.i.push(new Tt(m.Ya++,u)),m.I==3&&Ti(m)},sn.prototype.N=function(){this.g.l=null,delete this.j,Qo(this.g),delete this.g,sn.Z.N.call(this)};function Pu(u){jt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}T(Pu,jt);function Uu(){wn.call(this),this.status=1}T(Uu,wn);function zi(u){this.g=u}T(zi,Lu),zi.prototype.ra=function(){Mt(this.g,"a")},zi.prototype.qa=function(u){Mt(this.g,new Pu(u))},zi.prototype.pa=function(u){Mt(this.g,new Uu)},zi.prototype.oa=function(){Mt(this.g,"b")},As.prototype.createWebChannel=As.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,GE=function(){return new As},FE=function(){return ca()},HE=dt,pm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},gr.NO_ERROR=0,gr.TIMEOUT=8,gr.HTTP_ERROR=6,Jc=gr,Oo.COMPLETE="complete",qE=Oo,gu.EventType=Bn,Bn.OPEN="a",Bn.CLOSE="b",Bn.ERROR="c",Bn.MESSAGE="d",_t.prototype.listen=_t.prototype.J,kl=gu,Xe.prototype.listenOnce=Xe.prototype.K,Xe.prototype.getLastError=Xe.prototype.Ha,Xe.prototype.getLastErrorCode=Xe.prototype.ya,Xe.prototype.getStatus=Xe.prototype.ca,Xe.prototype.getResponseJson=Xe.prototype.La,Xe.prototype.getResponseText=Xe.prototype.la,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Fa,BE=Xe}).apply(typeof Hc<"u"?Hc:typeof self<"u"?self:typeof window<"u"?window:{});const Uv="@firebase/firestore",zv="4.9.2";class Jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");let vo="12.3.0";const Zr=new km("@firebase/firestore");function Za(){return Zr.logLevel}function re(s,...e){if(Zr.logLevel<=Me.DEBUG){const i=e.map(Ym);Zr.debug(`Firestore (${vo}): ${s}`,...i)}}function ls(s,...e){if(Zr.logLevel<=Me.ERROR){const i=e.map(Ym);Zr.error(`Firestore (${vo}): ${s}`,...i)}}function lo(s,...e){if(Zr.logLevel<=Me.WARN){const i=e.map(Ym);Zr.warn(`Firestore (${vo}): ${s}`,...i)}}function Ym(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function ge(s,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,QE(s,r,i)}function QE(s,e,i){let r=`FIRESTORE (${vo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw ls(r),new Error(r)}function Fe(s,e,i,r){let l="Unexpected state";typeof i=="string"?l=i:r=i,s||QE(e,l,r)}function Ae(s,e){return s}const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class se extends cs{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Gr{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class KE{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class XR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Jt.UNAUTHENTICATED)))}shutdown(){}}class $R{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class ZR{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Fe(this.o===void 0,42304);let r=this.i;const l=g=>this.i!==r?(r=this.i,i(g)):Promise.resolve();let c=new Gr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Gr,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const g=c;e.enqueueRetryable((async()=>{await g.promise,await l(this.currentUser)}))},p=g=>{re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(re("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Gr)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Fe(typeof r.accessToken=="string",31837,{l:r}),new KE(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string",2055,{h:e}),new Jt(e)}}class JR{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class WR{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new JR(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Jt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class jv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class eC{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Sn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Fe(this.o===void 0,3512);const r=c=>{c.error!=null&&re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,re("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>r(c)))};const l=c=>{re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new jv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Fe(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new jv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function tC(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}class Xm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=tC(40);for(let c=0;c<l.length;++c)r.length<20&&l[c]<i&&(r+=e.charAt(l[c]%62))}return r}}function Ve(s,e){return s<e?-1:s>e?1:0}function gm(s,e){const i=Math.min(s.length,e.length);for(let r=0;r<i;r++){const l=s.charAt(r),c=e.charAt(r);if(l!==c)return em(l)===em(c)?Ve(l,c):em(l)?1:-1}return Ve(s.length,e.length)}const nC=55296,iC=57343;function em(s){const e=s.charCodeAt(0);return e>=nC&&e<=iC}function uo(s,e,i){return s.length===e.length&&s.every(((r,l)=>i(r,e[l])))}const Bv="__name__";class Ii{constructor(e,i,r){i===void 0?i=0:i>e.length&&ge(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&ge(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return Ii.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Ii?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let l=0;l<r;l++){const c=Ii.compareSegments(e.get(l),i.get(l));if(c!==0)return c}return Ve(e.length,i.length)}static compareSegments(e,i){const r=Ii.isNumericId(e),l=Ii.isNumericId(i);return r&&!l?-1:!r&&l?1:r&&l?Ii.extractNumericId(e).compare(Ii.extractNumericId(i)):gm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ws.fromString(e.substring(4,e.length-2))}}class et extends Ii{construct(e,i,r){return new et(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new se(X.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((l=>l.length>0)))}return new et(i)}static emptyPath(){return new et([])}}const sC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends Ii{construct(e,i,r){return new Kt(e,i,r)}static isValidIdentifier(e){return sC.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Bv}static keyField(){return new Kt([Bv])}static fromServerFormat(e){const i=[];let r="",l=0;const c=()=>{if(r.length===0)throw new se(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;l<e.length;){const p=e[l];if(p==="\\"){if(l+1===e.length)throw new se(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[l+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new se(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=g,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(r+=p,l++):(c(),l++)}if(c(),d)throw new se(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kt(i)}static emptyPath(){return new Kt([])}}class fe{constructor(e){this.path=e}static fromPath(e){return new fe(et.fromString(e))}static fromName(e){return new fe(et.fromString(e).popFirst(5))}static empty(){return new fe(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return et.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new fe(new et(e.slice()))}}function YE(s,e,i){if(!i)throw new se(X.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function rC(s,e,i,r){if(e===!0&&r===!0)throw new se(X.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function qv(s){if(!fe.isDocumentKey(s))throw new se(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Hv(s){if(fe.isDocumentKey(s))throw new se(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function XE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Ch(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":ge(12329,{type:typeof s})}function er(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new se(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Ch(s);throw new se(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function Nt(s,e){const i={typeString:s};return e&&(i.value=e),i}function lu(s,e){if(!XE(s))throw new se(X.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const l=e[r].typeString,c="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(l&&typeof d!==l){i=`JSON field '${r}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${r}' field to equal '${c.value}'`;break}}if(i)throw new se(X.INVALID_ARGUMENT,i);return!0}const Fv=-62135596800,Gv=1e6;class st{static now(){return st.fromMillis(Date.now())}static fromDate(e){return st.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*Gv);return new st(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new se(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new se(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Fv)throw new se(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new se(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Gv}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:st._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(lu(e,st._jsonSchema))return new st(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Fv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}st._jsonSchemaVersion="firestore/timestamp/1.0",st._jsonSchema={type:Nt("string",st._jsonSchemaVersion),seconds:Nt("number"),nanoseconds:Nt("number")};class Ee{static fromTimestamp(e){return new Ee(e)}static min(){return new Ee(new st(0,0))}static max(){return new Ee(new st(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Yl=-1;function aC(s,e){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=Ee.fromTimestamp(r===1e9?new st(i+1,0):new st(i,r));return new nr(l,fe.empty(),e)}function oC(s){return new nr(s.readTime,s.key,Yl)}class nr{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new nr(Ee.min(),fe.empty(),Yl)}static max(){return new nr(Ee.max(),fe.empty(),Yl)}}function lC(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=fe.comparator(s.documentKey,e.documentKey),i!==0?i:Ve(s.largestBatchId,e.largestBatchId))}const uC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Eo(s){if(s.code!==X.FAILED_PRECONDITION||s.message!==uC)throw s;re("LocalStore","Unexpectedly lost primary lease")}class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&ge(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new $(((r,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(r,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):$.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):$.reject(i)}static resolve(e){return new $(((i,r)=>{i(e)}))}static reject(e){return new $(((i,r)=>{r(e)}))}static waitFor(e){return new $(((i,r)=>{let l=0,c=0,d=!1;e.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(g=>r(g)))})),d=!0,c===l&&i()}))}static or(e){let i=$.resolve(!1);for(const r of e)i=i.next((l=>l?$.resolve(l):r()));return i}static forEach(e,i){const r=[];return e.forEach(((l,c)=>{r.push(i.call(this,l,c))})),this.waitFor(r)}static mapArray(e,i){return new $(((r,l)=>{const c=e.length,d=new Array(c);let p=0;for(let g=0;g<c;g++){const y=g;i(e[y]).next((S=>{d[y]=S,++p,p===c&&r(d)}),(S=>l(S)))}}))}static doWhile(e,i){return new $(((r,l)=>{const c=()=>{e()===!0?i().next((()=>{c()}),l):r()};c()}))}}function hC(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function To(s){return s.name==="IndexedDbTransactionError"}class Ih{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ih.ce=-1;const $m=-1;function Nh(s){return s==null}function fh(s){return s===0&&1/s==-1/0}function fC(s){return typeof s=="number"&&Number.isInteger(s)&&!fh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const $E="";function dC(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=Qv(e)),e=mC(s.get(i),e);return Qv(e)}function mC(s,e){let i=e;const r=s.length;for(let l=0;l<r;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case $E:i+="";break;default:i+=c}}return i}function Qv(s){return s+$E+""}function Kv(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function ta(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function ZE(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class ct{constructor(e,i){this.comparator=e,this.root=i||Qt.EMPTY}insert(e,i){return new ct(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(e,r.key);if(l===0)return i+r.left.size;l<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Fc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Fc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Fc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Fc(this.root,e,this.comparator,!0)}}class Fc{constructor(e,i,r,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?r(e.key,i):1,i&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qt{constructor(e,i,r,l,c){this.key=e,this.value=i,this.color=r??Qt.RED,this.left=l??Qt.EMPTY,this.right=c??Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,l,c){return new Qt(e??this.key,i??this.value,r??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let l=this;const c=r(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,i,r),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return Qt.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ge(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ge(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ge(27949);return e+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1;Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw ge(57766)}get value(){throw ge(16141)}get color(){throw ge(16727)}get left(){throw ge(29726)}get right(){throw ge(36894)}copy(e,i,r,l,c){return this}insert(e,i,r){return new Qt(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class kt{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Yv(this.data.getIterator())}getIteratorFrom(e){return new Yv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof kt)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new kt(this.comparator);return i.data=e,i}}class Yv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ni{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new ni([])}unionWith(e){let i=new kt(Kt.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new ni(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return uo(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}class JE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Xt{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new JE("Invalid base64 string: "+c):c}})(e);return new Xt(i)}static fromUint8Array(e){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(e);return new Xt(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let l=0;l<i.length;l++)r[l]=i.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xt.EMPTY_BYTE_STRING=new Xt("");const pC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ir(s){if(Fe(!!s,39018),typeof s=="string"){let e=0;const i=pC.exec(s);if(Fe(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:yt(s.seconds),nanos:yt(s.nanos)}}function yt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function sr(s){return typeof s=="string"?Xt.fromBase64String(s):Xt.fromUint8Array(s)}const WE="server_timestamp",eT="__type__",tT="__previous_value__",nT="__local_write_time__";function Zm(s){return(s?.mapValue?.fields||{})[eT]?.stringValue===WE}function xh(s){const e=s.mapValue.fields[tT];return Zm(e)?xh(e):e}function Xl(s){const e=ir(s.mapValue.fields[nT].timestampValue);return new st(e.seconds,e.nanos)}class gC{constructor(e,i,r,l,c,d,p,g,y,S){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=S}}const dh="(default)";class $l{constructor(e,i){this.projectId=e,this.database=i||dh}static empty(){return new $l("","")}get isDefaultDatabase(){return this.database===dh}isEqual(e){return e instanceof $l&&e.projectId===this.projectId&&e.database===this.database}}const iT="__type__",yC="__max__",Gc={mapValue:{}},sT="__vector__",mh="value";function rr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Zm(s)?4:vC(s)?9007199254740991:_C(s)?10:11:ge(28295,{value:s})}function ki(s,e){if(s===e)return!0;const i=rr(s);if(i!==rr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Xl(s).isEqual(Xl(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=ir(l.timestampValue),p=ir(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(l,c){return sr(l.bytesValue).isEqual(sr(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(l,c){return yt(l.geoPointValue.latitude)===yt(c.geoPointValue.latitude)&&yt(l.geoPointValue.longitude)===yt(c.geoPointValue.longitude)})(s,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return yt(l.integerValue)===yt(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=yt(l.doubleValue),p=yt(c.doubleValue);return d===p?fh(d)===fh(p):isNaN(d)&&isNaN(p)}return!1})(s,e);case 9:return uo(s.arrayValue.values||[],e.arrayValue.values||[],ki);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(Kv(d)!==Kv(p))return!1;for(const g in d)if(d.hasOwnProperty(g)&&(p[g]===void 0||!ki(d[g],p[g])))return!1;return!0})(s,e);default:return ge(52216,{left:s})}}function Zl(s,e){return(s.values||[]).find((i=>ki(i,e)))!==void 0}function co(s,e){if(s===e)return 0;const i=rr(s),r=rr(e);if(i!==r)return Ve(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ve(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const p=yt(c.integerValue||c.doubleValue),g=yt(d.integerValue||d.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(s,e);case 3:return Xv(s.timestampValue,e.timestampValue);case 4:return Xv(Xl(s),Xl(e));case 5:return gm(s.stringValue,e.stringValue);case 6:return(function(c,d){const p=sr(c),g=sr(d);return p.compareTo(g)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const p=c.split("/"),g=d.split("/");for(let y=0;y<p.length&&y<g.length;y++){const S=Ve(p[y],g[y]);if(S!==0)return S}return Ve(p.length,g.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const p=Ve(yt(c.latitude),yt(d.latitude));return p!==0?p:Ve(yt(c.longitude),yt(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return $v(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const p=c.fields||{},g=d.fields||{},y=p[mh]?.arrayValue,S=g[mh]?.arrayValue,T=Ve(y?.values?.length||0,S?.values?.length||0);return T!==0?T:$v(y,S)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Gc.mapValue&&d===Gc.mapValue)return 0;if(c===Gc.mapValue)return 1;if(d===Gc.mapValue)return-1;const p=c.fields||{},g=Object.keys(p),y=d.fields||{},S=Object.keys(y);g.sort(),S.sort();for(let T=0;T<g.length&&T<S.length;++T){const M=gm(g[T],S[T]);if(M!==0)return M;const B=co(p[g[T]],y[S[T]]);if(B!==0)return B}return Ve(g.length,S.length)})(s.mapValue,e.mapValue);default:throw ge(23264,{he:i})}}function Xv(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Ve(s,e);const i=ir(s),r=ir(e),l=Ve(i.seconds,r.seconds);return l!==0?l:Ve(i.nanos,r.nanos)}function $v(s,e){const i=s.values||[],r=e.values||[];for(let l=0;l<i.length&&l<r.length;++l){const c=co(i[l],r[l]);if(c)return c}return Ve(i.length,r.length)}function ho(s){return ym(s)}function ym(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=ir(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return sr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return fe.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",l=!0;for(const c of i.values||[])l?l=!1:r+=",",r+=ym(c);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of r)c?c=!1:l+=",",l+=`${d}:${ym(i.fields[d])}`;return l+"}"})(s.mapValue):ge(61005,{value:s})}function Wc(s){switch(rr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=xh(s);return e?16+Wc(e):16;case 5:return 2*s.stringValue.length;case 6:return sr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,c)=>l+Wc(c)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return ta(r.fields,((c,d)=>{l+=c.length+Wc(d)})),l})(s.mapValue);default:throw ge(13486,{value:s})}}function Zv(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function _m(s){return!!s&&"integerValue"in s}function Jm(s){return!!s&&"arrayValue"in s}function Jv(s){return!!s&&"nullValue"in s}function Wv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function eh(s){return!!s&&"mapValue"in s}function _C(s){return(s?.mapValue?.fields||{})[iT]?.stringValue===sT}function Bl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return ta(s.mapValue.fields,((i,r)=>e.mapValue.fields[i]=Bl(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Bl(s.arrayValue.values[i]);return e}return{...s}}function vC(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===yC}class Un{constructor(e){this.value=e}static empty(){return new Un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!eh(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bl(i)}setAll(e){let i=Kt.emptyPath(),r={},l=[];e.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const g=this.getFieldsMap(i);this.applyChanges(g,r,l),r={},l=[],i=p.popLast()}d?r[p.lastSegment()]=Bl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,r,l)}delete(e){const i=this.field(e.popLast());eh(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ki(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let l=i.mapValue.fields[e.get(r)];eh(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,r){ta(i,((l,c)=>e[l]=c));for(const l of r)delete e[l]}clone(){return new Un(Bl(this.value))}}function rT(s){const e=[];return ta(s.fields,((i,r)=>{const l=new Kt([i]);if(eh(r)){const c=rT(r.mapValue).fields;if(c.length===0)e.push(l);else for(const d of c)e.push(l.child(d))}else e.push(l)})),new ni(e)}class Wt{constructor(e,i,r,l,c,d,p){this.key=e,this.documentType=i,this.version=r,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(e){return new Wt(e,0,Ee.min(),Ee.min(),Ee.min(),Un.empty(),0)}static newFoundDocument(e,i,r,l){return new Wt(e,1,i,Ee.min(),r,l,0)}static newNoDocument(e,i){return new Wt(e,2,i,Ee.min(),Ee.min(),Un.empty(),0)}static newUnknownDocument(e,i){return new Wt(e,3,i,Ee.min(),Ee.min(),Un.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ph{constructor(e,i){this.position=e,this.inclusive=i}}function e0(s,e,i){let r=0;for(let l=0;l<s.position.length;l++){const c=e[l],d=s.position[l];if(c.field.isKeyField()?r=fe.comparator(fe.fromName(d.referenceValue),i.key):r=co(d,i.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function t0(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!ki(s.position[i],e.position[i]))return!1;return!0}class Jl{constructor(e,i="asc"){this.field=e,this.dir=i}}function EC(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class aT{}class It extends aT{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new AC(e,i,r):i==="array-contains"?new wC(e,r):i==="in"?new RC(e,r):i==="not-in"?new CC(e,r):i==="array-contains-any"?new IC(e,r):new It(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new SC(e,r):new bC(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(co(i,this.value)):i!==null&&rr(this.value)===rr(i)&&this.matchesComparison(co(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ge(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ri extends aT{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new ri(e,i)}matches(e){return oT(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function oT(s){return s.op==="and"}function lT(s){return TC(s)&&oT(s)}function TC(s){for(const e of s.filters)if(e instanceof ri)return!1;return!0}function vm(s){if(s instanceof It)return s.field.canonicalString()+s.op.toString()+ho(s.value);if(lT(s))return s.filters.map((e=>vm(e))).join(",");{const e=s.filters.map((i=>vm(i))).join(",");return`${s.op}(${e})`}}function uT(s,e){return s instanceof It?(function(r,l){return l instanceof It&&r.op===l.op&&r.field.isEqual(l.field)&&ki(r.value,l.value)})(s,e):s instanceof ri?(function(r,l){return l instanceof ri&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((c,d,p)=>c&&uT(d,l.filters[p])),!0):!1})(s,e):void ge(19439)}function cT(s){return s instanceof It?(function(i){return`${i.field.canonicalString()} ${i.op} ${ho(i.value)}`})(s):s instanceof ri?(function(i){return i.op.toString()+" {"+i.getFilters().map(cT).join(" ,")+"}"})(s):"Filter"}class AC extends It{constructor(e,i,r){super(e,i,r),this.key=fe.fromName(r.referenceValue)}matches(e){const i=fe.comparator(e.key,this.key);return this.matchesComparison(i)}}class SC extends It{constructor(e,i){super(e,"in",i),this.keys=hT("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class bC extends It{constructor(e,i){super(e,"not-in",i),this.keys=hT("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function hT(s,e){return(e.arrayValue?.values||[]).map((i=>fe.fromName(i.referenceValue)))}class wC extends It{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Jm(i)&&Zl(i.arrayValue,this.value)}}class RC extends It{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Zl(this.value.arrayValue,i)}}class CC extends It{constructor(e,i){super(e,"not-in",i)}matches(e){if(Zl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Zl(this.value.arrayValue,i)}}class IC extends It{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Jm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>Zl(this.value.arrayValue,r)))}}class NC{constructor(e,i=null,r=[],l=[],c=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function n0(s,e=null,i=[],r=[],l=null,c=null,d=null){return new NC(s,e,i,r,l,c,d)}function Wm(s){const e=Ae(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>vm(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),Nh(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>ho(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>ho(r))).join(",")),e.Te=i}return e.Te}function ep(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!EC(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!uT(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!t0(s.startAt,e.startAt)&&t0(s.endAt,e.endAt)}function Em(s){return fe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Ao{constructor(e,i=null,r=[],l=[],c=null,d="F",p=null,g=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function xC(s,e,i,r,l,c,d,p){return new Ao(s,e,i,r,l,c,d,p)}function tp(s){return new Ao(s)}function i0(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function fT(s){return s.collectionGroup!==null}function ql(s){const e=Ae(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new kt(Kt.comparator);return d.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Jl(c,r))})),i.has(Kt.keyField().canonicalString())||e.Ie.push(new Jl(Kt.keyField(),r))}return e.Ie}function xi(s){const e=Ae(s);return e.Ee||(e.Ee=DC(e,ql(s))),e.Ee}function DC(s,e){if(s.limitType==="F")return n0(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Jl(l.field,c)}));const i=s.endAt?new ph(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new ph(s.startAt.position,s.startAt.inclusive):null;return n0(s.path,s.collectionGroup,e,s.filters,s.limit,i,r)}}function Tm(s,e){const i=s.filters.concat([e]);return new Ao(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function Am(s,e,i){return new Ao(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function Dh(s,e){return ep(xi(s),xi(e))&&s.limitType===e.limitType}function dT(s){return`${Wm(xi(s))}|lt:${s.limitType}`}function Ja(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((l=>cT(l))).join(", ")}]`),Nh(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((l=>ho(l))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((l=>ho(l))).join(",")),`Target(${r})`})(xi(s))}; limitType=${s.limitType})`}function Oh(s,e){return e.isFoundDocument()&&(function(r,l){const c=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):fe.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(s,e)&&(function(r,l){for(const c of ql(r))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(r,l){for(const c of r.filters)if(!c.matches(l))return!1;return!0})(s,e)&&(function(r,l){return!(r.startAt&&!(function(d,p,g){const y=e0(d,p,g);return d.inclusive?y<=0:y<0})(r.startAt,ql(r),l)||r.endAt&&!(function(d,p,g){const y=e0(d,p,g);return d.inclusive?y>=0:y>0})(r.endAt,ql(r),l))})(s,e)}function OC(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function mT(s){return(e,i)=>{let r=!1;for(const l of ql(s)){const c=MC(l,e,i);if(c!==0)return c;r=r||l.field.isKeyField()}return 0}}function MC(s,e,i){const r=s.field.isKeyField()?fe.comparator(e.key,i.key):(function(c,d,p){const g=d.data.field(c),y=p.data.field(c);return g!==null&&y!==null?co(g,y):ge(42886)})(s.field,e,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return ge(19790,{direction:s.dir})}}class na{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[l,c]of r)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),l=this.inner[r];if(l===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],e))return r.length===1?delete this.inner[i]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(e){ta(this.inner,((i,r)=>{for(const[l,c]of r)e(l,c)}))}isEmpty(){return ZE(this.inner)}size(){return this.innerSize}}const VC=new ct(fe.comparator);function us(){return VC}const pT=new ct(fe.comparator);function Ll(...s){let e=pT;for(const i of s)e=e.insert(i.key,i);return e}function gT(s){let e=pT;return s.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function Fr(){return Hl()}function yT(){return Hl()}function Hl(){return new na((s=>s.toString()),((s,e)=>s.isEqual(e)))}const kC=new ct(fe.comparator),LC=new kt(fe.comparator);function ke(...s){let e=LC;for(const i of s)e=e.add(i);return e}const PC=new kt(Ve);function UC(){return PC}function np(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fh(e)?"-0":e}}function _T(s){return{integerValue:""+s}}function zC(s,e){return fC(e)?_T(e):np(s,e)}class Mh{constructor(){this._=void 0}}function jC(s,e,i){return s instanceof Wl?(function(l,c){const d={fields:{[eT]:{stringValue:WE},[nT]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Zm(c)&&(c=xh(c)),c&&(d.fields[tT]=c),{mapValue:d}})(i,e):s instanceof eu?ET(s,e):s instanceof tu?TT(s,e):(function(l,c){const d=vT(l,c),p=s0(d)+s0(l.Ae);return _m(d)&&_m(l.Ae)?_T(p):np(l.serializer,p)})(s,e)}function BC(s,e,i){return s instanceof eu?ET(s,e):s instanceof tu?TT(s,e):i}function vT(s,e){return s instanceof gh?(function(r){return _m(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(e)?e:{integerValue:0}:null}class Wl extends Mh{}class eu extends Mh{constructor(e){super(),this.elements=e}}function ET(s,e){const i=AT(e);for(const r of s.elements)i.some((l=>ki(l,r)))||i.push(r);return{arrayValue:{values:i}}}class tu extends Mh{constructor(e){super(),this.elements=e}}function TT(s,e){let i=AT(e);for(const r of s.elements)i=i.filter((l=>!ki(l,r)));return{arrayValue:{values:i}}}class gh extends Mh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function s0(s){return yt(s.integerValue||s.doubleValue)}function AT(s){return Jm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class qC{constructor(e,i){this.field=e,this.transform=i}}function HC(s,e){return s.field.isEqual(e.field)&&(function(r,l){return r instanceof eu&&l instanceof eu||r instanceof tu&&l instanceof tu?uo(r.elements,l.elements,ki):r instanceof gh&&l instanceof gh?ki(r.Ae,l.Ae):r instanceof Wl&&l instanceof Wl})(s.transform,e.transform)}class FC{constructor(e,i){this.version=e,this.transformResults=i}}class si{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new si}static exists(e){return new si(void 0,e)}static updateTime(e){return new si(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function th(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Vh{}function ST(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new ip(s.key,si.none()):new uu(s.key,s.data,si.none());{const i=s.data,r=Un.empty();let l=new kt(Kt.comparator);for(let c of e.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?r.delete(c):r.set(c,d),l=l.add(c)}return new ia(s.key,r,new ni(l.toArray()),si.none())}}function GC(s,e,i){s instanceof uu?(function(l,c,d){const p=l.value.clone(),g=a0(l.fieldTransforms,c,d.transformResults);p.setAll(g),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,e,i):s instanceof ia?(function(l,c,d){if(!th(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=a0(l.fieldTransforms,c,d.transformResults),g=c.data;g.setAll(bT(l)),g.setAll(p),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,e,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Fl(s,e,i,r){return s instanceof uu?(function(c,d,p,g){if(!th(c.precondition,d))return p;const y=c.value.clone(),S=o0(c.fieldTransforms,g,d);return y.setAll(S),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(s,e,i,r):s instanceof ia?(function(c,d,p,g){if(!th(c.precondition,d))return p;const y=o0(c.fieldTransforms,g,d),S=d.data;return S.setAll(bT(c)),S.setAll(y),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((T=>T.field)))})(s,e,i,r):(function(c,d,p){return th(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,e,i)}function QC(s,e){let i=null;for(const r of s.fieldTransforms){const l=e.data.field(r.field),c=vT(r.transform,l||null);c!=null&&(i===null&&(i=Un.empty()),i.set(r.field,c))}return i||null}function r0(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&uo(r,l,((c,d)=>HC(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class uu extends Vh{constructor(e,i,r,l=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class ia extends Vh{constructor(e,i,r,l,c=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function bT(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);e.set(i,r)}})),e}function a0(s,e,i){const r=new Map;Fe(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,p=e.data.field(c.field);r.set(c.field,BC(d,p,i[l]))}return r}function o0(s,e,i){const r=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);r.set(l.field,jC(c,d,e))}return r}class ip extends Vh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class KC extends Vh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class YC{constructor(e,i,r,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&GC(c,e,r[l])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=Fl(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=Fl(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=yT();return this.mutations.forEach((l=>{const c=e.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const g=ST(d,p);g!==null&&r.set(l.key,g),d.isValidDocument()||d.convertToNoDocument(Ee.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),ke())}isEqual(e){return this.batchId===e.batchId&&uo(this.mutations,e.mutations,((i,r)=>r0(i,r)))&&uo(this.baseMutations,e.baseMutations,((i,r)=>r0(i,r)))}}class sp{constructor(e,i,r,l){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=l}static from(e,i,r){Fe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let l=(function(){return kC})();const c=e.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,r[d].version);return new sp(e,i,r,l)}}class XC{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class $C{constructor(e,i){this.count=e,this.unchangedNames=i}}var Ct,Ue;function ZC(s){switch(s){case X.OK:return ge(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return ge(15467,{code:s})}}function wT(s){if(s===void 0)return ls("GRPC error has no .code"),X.UNKNOWN;switch(s){case Ct.OK:return X.OK;case Ct.CANCELLED:return X.CANCELLED;case Ct.UNKNOWN:return X.UNKNOWN;case Ct.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case Ct.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case Ct.INTERNAL:return X.INTERNAL;case Ct.UNAVAILABLE:return X.UNAVAILABLE;case Ct.UNAUTHENTICATED:return X.UNAUTHENTICATED;case Ct.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case Ct.NOT_FOUND:return X.NOT_FOUND;case Ct.ALREADY_EXISTS:return X.ALREADY_EXISTS;case Ct.PERMISSION_DENIED:return X.PERMISSION_DENIED;case Ct.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case Ct.ABORTED:return X.ABORTED;case Ct.OUT_OF_RANGE:return X.OUT_OF_RANGE;case Ct.UNIMPLEMENTED:return X.UNIMPLEMENTED;case Ct.DATA_LOSS:return X.DATA_LOSS;default:return ge(39323,{code:s})}}(Ue=Ct||(Ct={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";function JC(){return new TextEncoder}const WC=new Ws([4294967295,4294967295],0);function l0(s){const e=JC().encode(s),i=new jE;return i.update(e),new Uint8Array(i.digest())}function u0(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Ws([i,r],0),new Ws([l,c],0)]}class rp{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Pl(`Invalid padding: ${i}`);if(r<0)throw new Pl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Pl(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new Pl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Ws.fromNumber(this.ge)}ye(e,i,r){let l=e.add(i.multiply(Ws.fromNumber(r)));return l.compare(WC)===1&&(l=new Ws([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=l0(e),[r,l]=u0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);if(!this.we(d))return!1}return!0}static create(e,i,r){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new rp(c,l,i);return r.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const i=l0(e),[r,l]=u0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);this.Se(d)}}Se(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class Pl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class kh{constructor(e,i,r,l,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const l=new Map;return l.set(e,cu.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new kh(Ee.min(),l,new ct(Ve),us(),ke())}}class cu{constructor(e,i,r,l,c){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new cu(r,i,ke(),ke(),ke())}}class nh{constructor(e,i,r,l){this.be=e,this.removedTargetIds=i,this.key=r,this.De=l}}class RT{constructor(e,i){this.targetId=e,this.Ce=i}}class CT{constructor(e,i,r=Xt.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=l}}class c0{constructor(){this.ve=0,this.Fe=h0(),this.Me=Xt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ke(),i=ke(),r=ke();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:r=r.add(l);break;default:ge(38017,{changeType:c})}})),new cu(this.Me,this.xe,e,i,r)}qe(){this.Oe=!1,this.Fe=h0()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Fe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class eI{constructor(e){this.Ge=e,this.ze=new Map,this.je=us(),this.Je=Qc(),this.He=Qc(),this.Ye=new ct(Ve)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:ge(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,r=e.Ce.count,l=this.ot(i);if(l){const c=l.target;if(Em(c))if(r===0){const d=new fe(c.path);this.et(i,d,Wt.newNoDocument(d,Ee.min()))}else Fe(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const p=this.ut(e),g=p?this.ct(p,e,d):1;if(g!==0){this.it(i);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=sr(r).toUint8Array()}catch(g){if(g instanceof JE)return lo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new rp(d,l,c)}catch(g){return lo(g instanceof Pl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let l=0;return r.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&Em(p.target)){const g=new fe(p.target.path);this.It(g).has(d)||this.Et(d,g)||this.et(d,g,Wt.newNoDocument(g,e))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let r=ke();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const l=new kh(e,i,this.Ye,this.je,r);return this.je=us(),this.Je=Qc(),this.He=Qc(),this.Ye=new ct(Ve),l}Xe(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new c0,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new kt(Ve),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new kt(Ve),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||re("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new c0),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Qc(){return new ct(fe.comparator)}function h0(){return new ct(fe.comparator)}const tI={asc:"ASCENDING",desc:"DESCENDING"},nI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},iI={and:"AND",or:"OR"};class sI{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Sm(s,e){return s.useProto3Json||Nh(e)?e:{value:e}}function yh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function IT(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function rI(s,e){return yh(s,e.toTimestamp())}function Di(s){return Fe(!!s,49232),Ee.fromTimestamp((function(i){const r=ir(i);return new st(r.seconds,r.nanos)})(s))}function ap(s,e){return bm(s,e).canonicalString()}function bm(s,e){const i=(function(l){return new et(["projects",l.projectId,"databases",l.database])})(s).child("documents");return e===void 0?i:i.child(e)}function NT(s){const e=et.fromString(s);return Fe(VT(e),10190,{key:e.toString()}),e}function wm(s,e){return ap(s.databaseId,e.path)}function tm(s,e){const i=NT(e);if(i.get(1)!==s.databaseId.projectId)throw new se(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new se(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new fe(DT(i))}function xT(s,e){return ap(s.databaseId,e)}function aI(s){const e=NT(s);return e.length===4?et.emptyPath():DT(e)}function Rm(s){return new et(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function DT(s){return Fe(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function f0(s,e,i){return{name:wm(s,e),fields:i.value.mapValue.fields}}function oI(s,e){let i;if("targetChange"in e){e.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:ge(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(y,S){return y.useProto3Json?(Fe(S===void 0||typeof S=="string",58123),Xt.fromBase64String(S||"")):(Fe(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),Xt.fromUint8Array(S||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(y){const S=y.code===void 0?X.UNKNOWN:wT(y.code);return new se(S,y.message||"")})(d);i=new CT(r,l,c,p||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const l=tm(s,r.document.name),c=Di(r.document.updateTime),d=r.document.createTime?Di(r.document.createTime):Ee.min(),p=new Un({mapValue:{fields:r.document.fields}}),g=Wt.newFoundDocument(l,c,d,p),y=r.targetIds||[],S=r.removedTargetIds||[];i=new nh(y,S,g.key,g)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const l=tm(s,r.document),c=r.readTime?Di(r.readTime):Ee.min(),d=Wt.newNoDocument(l,c),p=r.removedTargetIds||[];i=new nh([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const l=tm(s,r.document),c=r.removedTargetIds||[];i=new nh([],c,l,null)}else{if(!("filter"in e))return ge(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:l=0,unchangedNames:c}=r,d=new $C(l,c),p=r.targetId;i=new RT(p,d)}}return i}function lI(s,e){let i;if(e instanceof uu)i={update:f0(s,e.key,e.value)};else if(e instanceof ip)i={delete:wm(s,e.key)};else if(e instanceof ia)i={update:f0(s,e.key,e.data),updateMask:yI(e.fieldMask)};else{if(!(e instanceof KC))return ge(16599,{Vt:e.type});i={verify:wm(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((r=>(function(c,d){const p=d.transform;if(p instanceof Wl)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof eu)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof tu)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof gh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw ge(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:rI(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:ge(27497)})(s,e.precondition)),i}function uI(s,e){return s&&s.length>0?(Fe(e!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?Di(l.updateTime):Di(c);return d.isEqual(Ee.min())&&(d=Di(c)),new FC(d,l.transformResults||[])})(i,e)))):[]}function cI(s,e){return{documents:[xT(s,e.path)]}}function hI(s,e){const i={structuredQuery:{}},r=e.path;let l;e.collectionGroup!==null?(l=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=xT(s,l);const c=(function(y){if(y.length!==0)return MT(ri.create(y,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((S=>(function(M){return{field:Wa(M.field),direction:mI(M.dir)}})(S)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=Sm(s,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:i,parent:l}}function fI(s){let e=aI(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let l=null;if(r>0){Fe(r===1,65062);const S=i.from[0];S.allDescendants?l=S.collectionId:e=e.child(S.collectionId)}let c=[];i.where&&(c=(function(T){const M=OT(T);return M instanceof ri&&lT(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(T){return T.map((M=>(function(Z){return new Jl(eo(Z.field),(function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(M)))})(i.orderBy));let p=null;i.limit&&(p=(function(T){let M;return M=typeof T=="object"?T.value:T,Nh(M)?null:M})(i.limit));let g=null;i.startAt&&(g=(function(T){const M=!!T.before,B=T.values||[];return new ph(B,M)})(i.startAt));let y=null;return i.endAt&&(y=(function(T){const M=!T.before,B=T.values||[];return new ph(B,M)})(i.endAt)),xC(e,l,d,c,p,"F",g,y)}function dI(s,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ge(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function OT(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=eo(i.unaryFilter.field);return It.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=eo(i.unaryFilter.field);return It.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=eo(i.unaryFilter.field);return It.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=eo(i.unaryFilter.field);return It.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ge(61313);default:return ge(60726)}})(s):s.fieldFilter!==void 0?(function(i){return It.create(eo(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ge(58110);default:return ge(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return ri.create(i.compositeFilter.filters.map((r=>OT(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return ge(1026)}})(i.compositeFilter.op))})(s):ge(30097,{filter:s})}function mI(s){return tI[s]}function pI(s){return nI[s]}function gI(s){return iI[s]}function Wa(s){return{fieldPath:s.canonicalString()}}function eo(s){return Kt.fromServerFormat(s.fieldPath)}function MT(s){return s instanceof It?(function(i){if(i.op==="=="){if(Wv(i.value))return{unaryFilter:{field:Wa(i.field),op:"IS_NAN"}};if(Jv(i.value))return{unaryFilter:{field:Wa(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Wv(i.value))return{unaryFilter:{field:Wa(i.field),op:"IS_NOT_NAN"}};if(Jv(i.value))return{unaryFilter:{field:Wa(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wa(i.field),op:pI(i.op),value:i.value}}})(s):s instanceof ri?(function(i){const r=i.getFilters().map((l=>MT(l)));return r.length===1?r[0]:{compositeFilter:{op:gI(i.op),filters:r}}})(s):ge(54877,{filter:s})}function yI(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function VT(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class Xs{constructor(e,i,r,l,c=Ee.min(),d=Ee.min(),p=Xt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new Xs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Xs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class _I{constructor(e){this.yt=e}}function vI(s){const e=fI({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Am(e,e.limit,"L"):e}class EI{constructor(){this.Cn=new TI}addToCollectionParentIndex(e,i){return this.Cn.add(i),$.resolve()}getCollectionParents(e,i){return $.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return $.resolve()}deleteFieldIndex(e,i){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,i){return $.resolve()}getDocumentsMatchingTarget(e,i){return $.resolve(null)}getIndexType(e,i){return $.resolve(0)}getFieldIndexes(e,i){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,i){return $.resolve(nr.min())}getMinOffsetFromCollectionGroup(e,i){return $.resolve(nr.min())}updateCollectionGroup(e,i,r){return $.resolve()}updateIndexEntries(e,i){return $.resolve()}}class TI{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),l=this.index[i]||new kt(et.comparator),c=!l.has(r);return this.index[i]=l.add(r),c}has(e){const i=e.lastSegment(),r=e.popLast(),l=this.index[i];return l&&l.has(r)}getEntries(e){return(this.index[e]||new kt(et.comparator)).toArray()}}const d0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},kT=41943040;class dn{static withCacheSize(e){return new dn(e,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}dn.DEFAULT_COLLECTION_PERCENTILE=10,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dn.DEFAULT=new dn(kT,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dn.DISABLED=new dn(-1,0,0);class fo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new fo(0)}static cr(){return new fo(-1)}}const m0="LruGarbageCollector",AI=1048576;function p0([s,e],[i,r]){const l=Ve(s,i);return l===0?Ve(e,r):l}class SI{constructor(e){this.Ir=e,this.buffer=new kt(p0),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();p0(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class bI{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){re(m0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){To(i)?re(m0,"Ignoring IndexedDB error during garbage collection: ",i):await Eo(i)}await this.Vr(3e5)}))}}class wI{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return $.resolve(Ih.ce);const r=new SI(i);return this.mr.forEachTarget(e,(l=>r.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>r.Ar(l))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.mr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(re("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(d0)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(re("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),d0):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let r,l,c,d,p,g,y;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(re("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),l=this.params.maximumSequenceNumbersToCollect):l=T,d=Date.now(),this.nthSequenceNumber(e,l)))).next((T=>(r=T,p=Date.now(),this.removeTargets(e,r,i)))).next((T=>(c=T,g=Date.now(),this.removeOrphanedDocuments(e,r)))).next((T=>(y=Date.now(),Za()<=Me.DEBUG&&re("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(g-p)+`ms
	Removed ${T} documents in `+(y-g)+`ms
Total Duration: ${y-S}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:T}))))}}function RI(s,e){return new wI(s,e)}class CI{constructor(){this.changes=new na((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?$.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class II{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class NI{constructor(e,i,r,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=l}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(r=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(r!==null&&Fl(r.mutation,l,ni.empty(),st.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,ke()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=ke()){const l=Fr();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,r).next((c=>{let d=Ll();return c.forEach(((p,g)=>{d=d.insert(p,g.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const r=Fr();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,ke())))}populateOverlays(e,i,r){const l=[];return r.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(e,i,r,l){let c=us();const d=Hl(),p=(function(){return Hl()})();return i.forEach(((g,y)=>{const S=r.get(y.key);l.has(y.key)&&(S===void 0||S.mutation instanceof ia)?c=c.insert(y.key,y):S!==void 0?(d.set(y.key,S.mutation.getFieldMask()),Fl(S.mutation,y,S.mutation.getFieldMask(),st.now())):d.set(y.key,ni.empty())})),this.recalculateAndSaveOverlays(e,c).next((g=>(g.forEach(((y,S)=>d.set(y,S))),i.forEach(((y,S)=>p.set(y,new II(S,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,i){const r=Hl();let l=new ct(((d,p)=>d-p)),c=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const p of d)p.keys().forEach((g=>{const y=i.get(g);if(y===null)return;let S=r.get(g)||ni.empty();S=p.applyToLocalView(y,S),r.set(g,S);const T=(l.get(p.batchId)||ke()).add(g);l=l.insert(p.batchId,T)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),y=g.key,S=g.value,T=yT();S.forEach((M=>{if(!c.has(M)){const B=ST(i.get(M),r.get(M));B!==null&&T.set(M,B),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,T))}return $.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,l){return(function(d){return fe.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):fT(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,l):this.getDocumentsMatchingCollectionQuery(e,i,r,l)}getNextDocuments(e,i,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,l-c.size):$.resolve(Fr());let p=Yl,g=c;return d.next((y=>$.forEach(y,((S,T)=>(p<T.largestBatchId&&(p=T.largestBatchId),c.get(S)?$.resolve():this.remoteDocumentCache.getEntry(e,S).next((M=>{g=g.insert(S,M)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,g,y,ke()))).next((S=>({batchId:p,changes:gT(S)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new fe(i)).next((r=>{let l=Ll();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,l){const c=i.collectionGroup;let d=Ll();return this.indexManager.getCollectionParents(e,c).next((p=>$.forEach(p,(g=>{const y=(function(T,M){return new Ao(M,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(i,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,r,l).next((S=>{S.forEach(((T,M)=>{d=d.insert(T,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,r,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,c,l)))).next((d=>{c.forEach(((g,y)=>{const S=y.getKey();d.get(S)===null&&(d=d.insert(S,Wt.newInvalidDocument(S)))}));let p=Ll();return d.forEach(((g,y)=>{const S=c.get(g);S!==void 0&&Fl(S.mutation,y,ni.empty(),st.now()),Oh(i,y)&&(p=p.insert(g,y))})),p}))}}class xI{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return $.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Di(l.createTime)}})(i)),$.resolve()}getNamedQuery(e,i){return $.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:vI(l.bundledQuery),readTime:Di(l.readTime)}})(i)),$.resolve()}}class DI{constructor(){this.overlays=new ct(fe.comparator),this.qr=new Map}getOverlay(e,i){return $.resolve(this.overlays.get(i))}getOverlays(e,i){const r=Fr();return $.forEach(i,(l=>this.getOverlay(e,l).next((c=>{c!==null&&r.set(l,c)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((l,c)=>{this.St(e,i,c)})),$.resolve()}removeOverlaysForBatchId(e,i,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(r)),$.resolve()}getOverlaysForCollection(e,i,r){const l=Fr(),c=i.length+1,d=new fe(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const g=p.getNext().value,y=g.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&g.largestBatchId>r&&l.set(g.getKey(),g)}return $.resolve(l)}getOverlaysForCollectionGroup(e,i,r,l){let c=new ct(((y,S)=>y-S));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>r){let S=c.get(y.largestBatchId);S===null&&(S=Fr(),c=c.insert(y.largestBatchId,S)),S.set(y.getKey(),y)}}const p=Fr(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,S)=>p.set(y,S))),!(p.size()>=l)););return $.resolve(p)}St(e,i,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new XC(i,r));let c=this.qr.get(i);c===void 0&&(c=ke(),this.qr.set(i,c)),this.qr.set(i,c.add(r.key))}}class OI{constructor(){this.sessionToken=Xt.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,$.resolve()}}class op{constructor(){this.Qr=new kt(zt.$r),this.Ur=new kt(zt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const r=new zt(e,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Gr(new zt(e,i))}zr(e,i){e.forEach((r=>this.removeReference(r,i)))}jr(e){const i=new fe(new et([])),r=new zt(i,e),l=new zt(i,e+1),c=[];return this.Ur.forEachInRange([r,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new fe(new et([])),r=new zt(i,e),l=new zt(i,e+1);let c=ke();return this.Ur.forEachInRange([r,l],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new zt(e,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class zt{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return fe.comparator(e.key,i.key)||Ve(e.Yr,i.Yr)}static Kr(e,i){return Ve(e.Yr,i.Yr)||fe.comparator(e.key,i.key)}}class MI{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new kt(zt.$r)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new YC(c,i,r,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new zt(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return $.resolve(d)}lookupMutationBatch(e,i){return $.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,l=this.ei(r),c=l<0?0:l;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?$m:this.tr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new zt(i,0),l=new zt(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([r,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new kt(Ve);return i.forEach((l=>{const c=new zt(l,0),d=new zt(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{r=r.add(p.Yr)}))})),$.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,l=r.length+1;let c=r;fe.isDocumentKey(c)||(c=c.child(""));const d=new zt(new fe(c),0);let p=new kt(Ve);return this.Zr.forEachWhile((g=>{const y=g.key.path;return!!r.isPrefixOf(y)&&(y.length===l&&(p=p.add(g.Yr)),!0)}),d),$.resolve(this.ti(p))}ti(e){const i=[];return e.forEach((r=>{const l=this.Xr(r);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){Fe(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return $.forEach(i.mutations,(l=>{const c=new zt(l.key,i.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,i){const r=new zt(i,0),l=this.Zr.firstAfterOrEqual(r);return $.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class VI{constructor(e){this.ri=e,this.docs=(function(){return new ct(fe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,l=this.docs.get(r),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return $.resolve(r?r.document.mutableCopy():Wt.newInvalidDocument(i))}getEntries(e,i){let r=us();return i.forEach((l=>{const c=this.docs.get(l);r=r.insert(l,c?c.document.mutableCopy():Wt.newInvalidDocument(l))})),$.resolve(r)}getDocumentsMatchingQuery(e,i,r,l){let c=us();const d=i.path,p=new fe(d.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:y,value:{document:S}}=g.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||lC(oC(S),r)<=0||(l.has(S.key)||Oh(i,S))&&(c=c.insert(S.key,S.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(e,i,r,l){ge(9500)}ii(e,i){return $.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new kI(this)}getSize(e){return $.resolve(this.size)}}class kI extends CI{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(r)})),$.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class LI{constructor(e){this.persistence=e,this.si=new na((i=>Wm(i)),ep),this.lastRemoteSnapshotVersion=Ee.min(),this.highestTargetId=0,this.oi=0,this._i=new op,this.targetCount=0,this.ai=fo.ur()}forEachTarget(e,i){return this.si.forEach(((r,l)=>i(l))),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),$.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new fo(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,$.resolve()}updateTargetData(e,i){return this.Pr(i),$.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,i,r){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&r.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),l++)})),$.waitFor(c).next((()=>l))}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,i){const r=this.si.get(i)||null;return $.resolve(r)}addMatchingKeys(e,i,r){return this._i.Wr(i,r),$.resolve()}removeMatchingKeys(e,i,r){this._i.zr(i,r);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(e,d))})),$.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),$.resolve()}getMatchingKeysForTargetId(e,i){const r=this._i.Hr(i);return $.resolve(r)}containsKey(e,i){return $.resolve(this._i.containsKey(i))}}class LT{constructor(e,i){this.ui={},this.overlays={},this.ci=new Ih(0),this.li=!1,this.li=!0,this.hi=new OI,this.referenceDelegate=e(this),this.Pi=new LI(this),this.indexManager=new EI,this.remoteDocumentCache=(function(l){return new VI(l)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new _I(i),this.Ii=new xI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new DI,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this.ui[e.toKey()];return r||(r=new MI(i,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,r){re("MemoryPersistence","Starting transaction:",e);const l=new PI(this.ci.next());return this.referenceDelegate.Ei(),r(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(e,i){return $.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,i))))}}class PI extends cC{constructor(e){super(),this.currentSequenceNumber=e}}class lp{constructor(e){this.persistence=e,this.Ri=new op,this.Vi=null}static mi(e){return new lp(e)}get fi(){if(this.Vi)return this.Vi;throw ge(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),$.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),$.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>r.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,(r=>{const l=fe.fromPath(r);return this.gi(e,l).next((c=>{c||i.removeEntry(l,Ee.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class _h{constructor(e,i){this.persistence=e,this.pi=new na((r=>dC(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=RI(this,i)}static mi(e,i){return new _h(e,i)}Ei(){}di(e){return $.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((l=>r+l))))}wr(e){let i=0;return this.pr(e,(r=>{i++})).next((()=>i))}pr(e,i){return $.forEach(this.pi,((r,l)=>this.br(e,r,l).next((c=>c?$.resolve():i(l)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(e,(d=>this.br(e,d,i).next((p=>{p||(r++,c.removeEntry(d,Ee.min()))})))).next((()=>c.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),$.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),$.resolve()}removeReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),$.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Wc(e.data.value)),i}br(e,i,r){return $.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.pi.get(i);return $.resolve(l!==void 0&&l>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class up{constructor(e,i,r,l){this.targetId=e,this.fromCache=i,this.Es=r,this.ds=l}static As(e,i){let r=ke(),l=ke();for(const c of i.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new up(e,i.fromCache,r,l)}}class UI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class zI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return db()?8:hC(tn())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,l){const c={result:null};return this.ys(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,i,l,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new UI;return this.Ss(e,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(e,i,d,p.size)}))})).next((()=>c.result))}bs(e,i,r,l){return r.documentReadCount<this.fs?(Za()<=Me.DEBUG&&re("QueryEngine","SDK will not create cache indexes for query:",Ja(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(Za()<=Me.DEBUG&&re("QueryEngine","Query:",Ja(i),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?(Za()<=Me.DEBUG&&re("QueryEngine","The SDK decides to create cache indexes for query:",Ja(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xi(i))):$.resolve())}ys(e,i){if(i0(i))return $.resolve(null);let r=xi(i);return this.indexManager.getIndexType(e,r).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Am(i,null,"F"),r=xi(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((c=>{const d=ke(...c);return this.ps.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,r).next((g=>{const y=this.Ds(i,p);return this.Cs(i,y,d,g.readTime)?this.ys(e,Am(i,null,"F")):this.vs(e,y,i,g)}))))})))))}ws(e,i,r,l){return i0(i)||l.isEqual(Ee.min())?$.resolve(null):this.ps.getDocuments(e,r).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,r,l)?$.resolve(null):(Za()<=Me.DEBUG&&re("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ja(i)),this.vs(e,d,i,aC(l,Yl)).next((p=>p)))}))}Ds(e,i){let r=new kt(mT(e));return i.forEach(((l,c)=>{Oh(e,c)&&(r=r.add(c))})),r}Cs(e,i,r,l){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(e,i,r){return Za()<=Me.DEBUG&&re("QueryEngine","Using full collection scan to execute query:",Ja(i)),this.ps.getDocumentsMatchingQuery(e,i,nr.min(),r)}vs(e,i,r,l){return this.ps.getDocumentsMatchingQuery(e,r,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const cp="LocalStore",jI=3e8;class BI{constructor(e,i,r,l){this.persistence=e,this.Fs=i,this.serializer=l,this.Ms=new ct(Ve),this.xs=new na((c=>Wm(c)),ep),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new NI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function qI(s,e,i,r){return new BI(s,e,i,r)}async function PT(s,e){const i=Ae(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return i.mutationQueue.getAllMutationBatches(r).next((c=>(l=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],p=[];let g=ke();for(const y of l){d.push(y.batchId);for(const S of y.mutations)g=g.add(S.key)}for(const y of c){p.push(y.batchId);for(const S of y.mutations)g=g.add(S.key)}return i.localDocuments.getDocuments(r,g).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function HI(s,e){const i=Ae(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,g,y,S){const T=y.batch,M=T.keys();let B=$.resolve();return M.forEach((Z=>{B=B.next((()=>S.getEntry(g,Z))).next((te=>{const J=y.docVersions.get(Z);Fe(J!==null,48541),te.version.compareTo(J)<0&&(T.applyToRemoteDocument(te,y),te.isValidDocument()&&(te.setReadTime(y.commitVersion),S.addEntry(te)))}))})),B.next((()=>p.mutationQueue.removeMutationBatch(g,T)))})(i,r,e,c).next((()=>c.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let g=ke();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(g=g.add(p.batch.mutations[y].key));return g})(e)))).next((()=>i.localDocuments.getDocuments(r,l)))}))}function UT(s){const e=Ae(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function FI(s,e){const i=Ae(s),r=e.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];e.targetChanges.forEach(((S,T)=>{const M=l.get(T);if(!M)return;p.push(i.Pi.removeMatchingKeys(c,S.removedDocuments,T).next((()=>i.Pi.addMatchingKeys(c,S.addedDocuments,T))));let B=M.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(T)!==null?B=B.withResumeToken(Xt.EMPTY_BYTE_STRING,Ee.min()).withLastLimboFreeSnapshotVersion(Ee.min()):S.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(S.resumeToken,r)),l=l.insert(T,B),(function(te,J,ce){return te.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-te.snapshotVersion.toMicroseconds()>=jI?!0:ce.addedDocuments.size+ce.modifiedDocuments.size+ce.removedDocuments.size>0})(M,B,S)&&p.push(i.Pi.updateTargetData(c,B))}));let g=us(),y=ke();if(e.documentUpdates.forEach((S=>{e.resolvedLimboDocuments.has(S)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,S))})),p.push(GI(c,d,e.documentUpdates).next((S=>{g=S.ks,y=S.qs}))),!r.isEqual(Ee.min())){const S=i.Pi.getLastRemoteSnapshotVersion(c).next((T=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,r)));p.push(S)}return $.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,g,y))).next((()=>g))})).then((c=>(i.Ms=l,c)))}function GI(s,e,i){let r=ke(),l=ke();return i.forEach((c=>r=r.add(c))),e.getEntries(s,r).next((c=>{let d=us();return i.forEach(((p,g)=>{const y=c.get(p);g.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),g.isNoDocument()&&g.version.isEqual(Ee.min())?(e.removeEntry(p,g.readTime),d=d.insert(p,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),d=d.insert(p,g)):re(cp,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",g.version)})),{ks:d,qs:l}}))}function QI(s,e){const i=Ae(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=$m),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function KI(s,e){const i=Ae(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return i.Pi.getTargetData(r,e).next((c=>c?(l=c,$.resolve(l)):i.Pi.allocateTargetId(r).next((d=>(l=new Xs(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=i.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(e,r.targetId)),r}))}async function Cm(s,e,i){const r=Ae(s),l=r.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!To(d))throw d;re(cp,`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ms=r.Ms.remove(e),r.xs.delete(l.target)}function g0(s,e,i){const r=Ae(s);let l=Ee.min(),c=ke();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(g,y,S){const T=Ae(g),M=T.xs.get(S);return M!==void 0?$.resolve(T.Ms.get(M)):T.Pi.getTargetData(y,S)})(r,d,xi(e)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,p.targetId).next((g=>{c=g}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,e,i?l:Ee.min(),i?c:ke()))).next((p=>(YI(r,OC(e),p),{documents:p,Qs:c})))))}function YI(s,e,i){let r=s.Os.get(e)||Ee.min();i.forEach(((l,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),s.Os.set(e,r)}class y0{constructor(){this.activeTargetIds=UC()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class XI{constructor(){this.Mo=new y0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,r){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new y0,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class $I{Oo(e){}shutdown(){}}const _0="ConnectivityMonitor";class v0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){re(_0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){re(_0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Kc=null;function Im(){return Kc===null?Kc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Kc++,"0x"+Kc.toString(16)}const nm="RestConnection",ZI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class JI{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===dh?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(e,i,r,l,c){const d=Im(),p=this.zo(e,i.toUriEncodedString());re(nm,`Sending RPC '${e}' ${d}:`,p,r);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,l,c);const{host:y}=new URL(p),S=go(y);return this.Jo(e,p,g,r,S).then((T=>(re(nm,`Received RPC '${e}' ${d}: `,T),T)),(T=>{throw lo(nm,`RPC '${e}' ${d} failed with error: `,T,"url: ",p,"request:",r),T}))}Ho(e,i,r,l,c,d){return this.Go(e,i,r,l,c)}jo(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+vo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>e[c]=l)),r&&r.headers.forEach(((l,c)=>e[c]=l))}zo(e,i){const r=ZI[e];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}class WI{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Zt="WebChannelConnection";class eN extends JI{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,r,l,c){const d=Im();return new Promise(((p,g)=>{const y=new BE;y.setWithCredentials(!0),y.listenOnce(qE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Jc.NO_ERROR:const T=y.getResponseJson();re(Zt,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(T)),p(T);break;case Jc.TIMEOUT:re(Zt,`RPC '${e}' ${d} timed out`),g(new se(X.DEADLINE_EXCEEDED,"Request time out"));break;case Jc.HTTP_ERROR:const M=y.getStatus();if(re(Zt,`RPC '${e}' ${d} failed with status:`,M,"response text:",y.getResponseText()),M>0){let B=y.getResponseJson();Array.isArray(B)&&(B=B[0]);const Z=B?.error;if(Z&&Z.status&&Z.message){const te=(function(ce){const ye=ce.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(ye)>=0?ye:X.UNKNOWN})(Z.status);g(new se(te,Z.message))}else g(new se(X.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new se(X.UNAVAILABLE,"Connection failed."));break;default:ge(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{re(Zt,`RPC '${e}' ${d} completed.`)}}));const S=JSON.stringify(l);re(Zt,`RPC '${e}' ${d} sending request:`,l),y.send(i,"POST",S,r,15)}))}T_(e,i,r){const l=Im(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=GE(),p=FE(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,i,r),g.encodeInitMessageHeaders=!0;const S=c.join("");re(Zt,`Creating RPC '${e}' stream ${l}: ${S}`,g);const T=d.createWebChannel(S,g);this.I_(T);let M=!1,B=!1;const Z=new WI({Yo:J=>{B?re(Zt,`Not sending because RPC '${e}' stream ${l} is closed:`,J):(M||(re(Zt,`Opening RPC '${e}' stream ${l} transport.`),T.open(),M=!0),re(Zt,`RPC '${e}' stream ${l} sending:`,J),T.send(J))},Zo:()=>T.close()}),te=(J,ce,ye)=>{J.listen(ce,(W=>{try{ye(W)}catch(oe){setTimeout((()=>{throw oe}),0)}}))};return te(T,kl.EventType.OPEN,(()=>{B||(re(Zt,`RPC '${e}' stream ${l} transport opened.`),Z.o_())})),te(T,kl.EventType.CLOSE,(()=>{B||(B=!0,re(Zt,`RPC '${e}' stream ${l} transport closed`),Z.a_(),this.E_(T))})),te(T,kl.EventType.ERROR,(J=>{B||(B=!0,lo(Zt,`RPC '${e}' stream ${l} transport errored. Name:`,J.name,"Message:",J.message),Z.a_(new se(X.UNAVAILABLE,"The operation could not be completed")))})),te(T,kl.EventType.MESSAGE,(J=>{if(!B){const ce=J.data[0];Fe(!!ce,16349);const ye=ce,W=ye?.error||ye[0]?.error;if(W){re(Zt,`RPC '${e}' stream ${l} received error:`,W);const oe=W.status;let Ie=(function(w){const C=Ct[w];if(C!==void 0)return wT(C)})(oe),we=W.message;Ie===void 0&&(Ie=X.INTERNAL,we="Unknown error status: "+oe+" with message "+W.message),B=!0,Z.a_(new se(Ie,we)),T.close()}else re(Zt,`RPC '${e}' stream ${l} received:`,ce),Z.u_(ce)}})),te(p,HE.STAT_EVENT,(J=>{J.stat===pm.PROXY?re(Zt,`RPC '${e}' stream ${l} detected buffering proxy`):J.stat===pm.NOPROXY&&re(Zt,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{Z.__()}),0),Z}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function im(){return typeof document<"u"?document:null}function Lh(s){return new sI(s,!0)}class zT{constructor(e,i,r=1e3,l=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=r,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-r);l>0&&re("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const E0="PersistentStream";class jT{constructor(e,i,r,l,c,d,p,g){this.Mi=e,this.S_=r,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new zT(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===X.RESOURCE_EXHAUSTED?(ls(i.toString()),ls("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===i&&this.G_(r,l)}),(r=>{e((()=>{const l=new se(X.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(e,i){const r=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return re(E0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(re(E0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class tN extends jT{constructor(e,i,r,l,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=oI(this.serializer,e),r=(function(c){if(!("targetChange"in c))return Ee.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Ee.min():d.readTime?Di(d.readTime):Ee.min()})(e);return this.listener.H_(i,r)}Y_(e){const i={};i.database=Rm(this.serializer),i.addTarget=(function(c,d){let p;const g=d.target;if(p=Em(g)?{documents:cI(c,g)}:{query:hI(c,g).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=IT(c,d.resumeToken);const y=Sm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(Ee.min())>0){p.readTime=yh(c,d.snapshotVersion.toTimestamp());const y=Sm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const r=dI(this.serializer,e);r&&(i.labels=r),this.q_(i)}Z_(e){const i={};i.database=Rm(this.serializer),i.removeTarget=e,this.q_(i)}}class nN extends jT{constructor(e,i,r,l,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return Fe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Fe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=uI(e.writeResults,e.commitTime),r=Di(e.commitTime);return this.listener.na(r,i)}ra(){const e={};e.database=Rm(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((r=>lI(this.serializer,r)))};this.q_(i)}}class iN{}class sN extends iN{constructor(e,i,r,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new se(X.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,bm(i,r),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new se(X.UNKNOWN,c.toString())}))}Ho(e,i,r,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(e,bm(i,r),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new se(X.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class rN{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ls(i),this.aa=!1):re("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Jr="RemoteStore";class aN{constructor(e,i,r,l,c){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{sa(this)&&(re(Jr,"Restarting streams for network reachability change."),await(async function(g){const y=Ae(g);y.Ea.add(4),await hu(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Ph(y)})(this))}))})),this.Ra=new rN(r,l)}}async function Ph(s){if(sa(s))for(const e of s.da)await e(!0)}async function hu(s){for(const e of s.da)await e(!1)}function BT(s,e){const i=Ae(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),mp(i)?dp(i):So(i).O_()&&fp(i,e))}function hp(s,e){const i=Ae(s),r=So(i);i.Ia.delete(e),r.O_()&&qT(i,e),i.Ia.size===0&&(r.O_()?r.L_():sa(i)&&i.Ra.set("Unknown"))}function fp(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ee.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}So(s).Y_(e)}function qT(s,e){s.Va.Ue(e),So(s).Z_(e)}function dp(s){s.Va=new eI({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),So(s).start(),s.Ra.ua()}function mp(s){return sa(s)&&!So(s).x_()&&s.Ia.size>0}function sa(s){return Ae(s).Ea.size===0}function HT(s){s.Va=void 0}async function oN(s){s.Ra.set("Online")}async function lN(s){s.Ia.forEach(((e,i)=>{fp(s,e)}))}async function uN(s,e){HT(s),mp(s)?(s.Ra.ha(e),dp(s)):s.Ra.set("Unknown")}async function cN(s,e,i){if(s.Ra.set("Online"),e instanceof CT&&e.state===2&&e.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(s,e)}catch(r){re(Jr,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await vh(s,r)}else if(e instanceof nh?s.Va.Ze(e):e instanceof RT?s.Va.st(e):s.Va.tt(e),!i.isEqual(Ee.min()))try{const r=await UT(s.localStore);i.compareTo(r)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const S=c.Ia.get(y);S&&c.Ia.set(y,S.withResumeToken(g.resumeToken,d))}})),p.targetMismatches.forEach(((g,y)=>{const S=c.Ia.get(g);if(!S)return;c.Ia.set(g,S.withResumeToken(Xt.EMPTY_BYTE_STRING,S.snapshotVersion)),qT(c,g);const T=new Xs(S.target,g,y,S.sequenceNumber);fp(c,T)})),c.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(r){re(Jr,"Failed to raise snapshot:",r),await vh(s,r)}}async function vh(s,e,i){if(!To(e))throw e;s.Ea.add(1),await hu(s),s.Ra.set("Offline"),i||(i=()=>UT(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{re(Jr,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Ph(s)}))}function FT(s,e){return e().catch((i=>vh(s,i,e)))}async function Uh(s){const e=Ae(s),i=ar(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:$m;for(;hN(e);)try{const l=await QI(e.localStore,r);if(l===null){e.Ta.length===0&&i.L_();break}r=l.batchId,fN(e,l)}catch(l){await vh(e,l)}GT(e)&&QT(e)}function hN(s){return sa(s)&&s.Ta.length<10}function fN(s,e){s.Ta.push(e);const i=ar(s);i.O_()&&i.X_&&i.ea(e.mutations)}function GT(s){return sa(s)&&!ar(s).x_()&&s.Ta.length>0}function QT(s){ar(s).start()}async function dN(s){ar(s).ra()}async function mN(s){const e=ar(s);for(const i of s.Ta)e.ea(i.mutations)}async function pN(s,e,i){const r=s.Ta.shift(),l=sp.from(r,e,i);await FT(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Uh(s)}async function gN(s,e){e&&ar(s).X_&&await(async function(r,l){if((function(d){return ZC(d)&&d!==X.ABORTED})(l.code)){const c=r.Ta.shift();ar(r).B_(),await FT(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Uh(r)}})(s,e),GT(s)&&QT(s)}async function T0(s,e){const i=Ae(s);i.asyncQueue.verifyOperationInProgress(),re(Jr,"RemoteStore received new credentials");const r=sa(i);i.Ea.add(3),await hu(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Ph(i)}async function yN(s,e){const i=Ae(s);e?(i.Ea.delete(2),await Ph(i)):e||(i.Ea.add(2),await hu(i),i.Ra.set("Unknown"))}function So(s){return s.ma||(s.ma=(function(i,r,l){const c=Ae(i);return c.sa(),new tN(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:oN.bind(null,s),t_:lN.bind(null,s),r_:uN.bind(null,s),H_:cN.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),mp(s)?dp(s):s.Ra.set("Unknown")):(await s.ma.stop(),HT(s))}))),s.ma}function ar(s){return s.fa||(s.fa=(function(i,r,l){const c=Ae(i);return c.sa(),new nN(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:dN.bind(null,s),r_:gN.bind(null,s),ta:mN.bind(null,s),na:pN.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await Uh(s)):(await s.fa.stop(),s.Ta.length>0&&(re(Jr,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class pp{constructor(e,i,r,l,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=l,this.removalCallback=c,this.deferred=new Gr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,l,c){const d=Date.now()+r,p=new pp(e,i,d,l,c);return p.start(r),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new se(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gp(s,e){if(ls("AsyncQueue",`${e}: ${s}`),To(s))return new se(X.UNAVAILABLE,`${e}: ${s}`);throw s}class so{static emptySet(e){return new so(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||fe.comparator(i.key,r.key):(i,r)=>fe.comparator(i.key,r.key),this.keyedMap=Ll(),this.sortedSet=new ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof so)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new so;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}class A0{constructor(){this.ga=new ct(fe.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):ge(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class mo{constructor(e,i,r,l,c,d,p,g,y){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,i,r,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new mo(e,i,so.emptySet(i),d,r,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Dh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==r[l].type||!i[l].doc.isEqual(r[l].doc))return!1;return!0}}class _N{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class vN{constructor(){this.queries=S0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const l=Ae(i),c=l.queries;l.queries=S0(),c.forEach(((d,p)=>{for(const g of p.Sa)g.onError(r)}))})(this,new se(X.ABORTED,"Firestore shutting down"))}}function S0(){return new na((s=>dT(s)),Dh)}async function EN(s,e){const i=Ae(s);let r=3;const l=e.query;let c=i.queries.get(l);c?!c.ba()&&e.Da()&&(r=2):(c=new _N,r=e.Da()?0:1);try{switch(r){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=gp(d,`Initialization of query '${Ja(e.query)}' failed`);return void e.onError(p)}i.queries.set(l,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&yp(i)}async function TN(s,e){const i=Ae(s),r=e.query;let l=3;const c=i.queries.get(r);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=e.Da()?0:1:!c.ba()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function AN(s,e){const i=Ae(s);let r=!1;for(const l of e){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(r=!0);d.wa=l}}r&&yp(i)}function SN(s,e,i){const r=Ae(s),l=r.queries.get(e);if(l)for(const c of l.Sa)c.onError(i);r.queries.delete(e)}function yp(s){s.Ca.forEach((e=>{e.next()}))}var Nm,b0;(b0=Nm||(Nm={})).Ma="default",b0.Cache="cache";class bN{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const l of e.docChanges)l.type!==3&&r.push(l);e=new mo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=mo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Nm.Cache}}class KT{constructor(e){this.key=e}}class YT{constructor(e){this.key=e}}class wN{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ke(),this.mutatedKeys=ke(),this.eu=mT(e),this.tu=new so(this.eu)}get nu(){return this.Ya}ru(e,i){const r=i?i.iu:new A0,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const g=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((S,T)=>{const M=l.get(S),B=Oh(this.query,T)?T:null,Z=!!M&&this.mutatedKeys.has(M.key),te=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let J=!1;M&&B?M.data.isEqual(B.data)?Z!==te&&(r.track({type:3,doc:B}),J=!0):this.su(M,B)||(r.track({type:2,doc:B}),J=!0,(g&&this.eu(B,g)>0||y&&this.eu(B,y)<0)&&(p=!0)):!M&&B?(r.track({type:0,doc:B}),J=!0):M&&!B&&(r.track({type:1,doc:M}),J=!0,(g||y)&&(p=!0)),J&&(B?(d=d.add(B),c=te?c.add(S):c.delete(S)):(d=d.delete(S),c=c.delete(S)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),c=c.delete(S.key),r.track({type:1,doc:S})}return{tu:d,iu:r,Cs:p,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((S,T)=>(function(B,Z){const te=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ge(20277,{Rt:J})}};return te(B)-te(Z)})(S.type,T.type)||this.eu(S.doc,T.doc))),this.ou(r),l=l??!1;const p=i&&!l?this._u():[],g=this.Xa.size===0&&this.current&&!l?1:0,y=g!==this.Za;return this.Za=g,d.length!==0||y?{snapshot:new mo(this.query,e.tu,c,d,e.mutatedKeys,g===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new A0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ke(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return e.forEach((r=>{this.Xa.has(r)||i.push(new YT(r))})),this.Xa.forEach((r=>{e.has(r)||i.push(new KT(r))})),i}cu(e){this.Ya=e.Qs,this.Xa=ke();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return mo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const _p="SyncEngine";class RN{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class CN{constructor(e){this.key=e,this.hu=!1}}class IN{constructor(e,i,r,l,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new na((p=>dT(p)),Dh),this.Iu=new Map,this.Eu=new Set,this.du=new ct(fe.comparator),this.Au=new Map,this.Ru=new op,this.Vu={},this.mu=new Map,this.fu=fo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function NN(s,e,i=!0){const r=e1(s);let l;const c=r.Tu.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await XT(r,e,i,!0),l}async function xN(s,e){const i=e1(s);await XT(i,e,!0,!1)}async function XT(s,e,i,r){const l=await KI(s.localStore,xi(e)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let p;return r&&(p=await DN(s,e,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&BT(s.remoteStore,l),p}async function DN(s,e,i,r,l){s.pu=(T,M,B)=>(async function(te,J,ce,ye){let W=J.view.ru(ce);W.Cs&&(W=await g0(te.localStore,J.query,!1).then((({documents:R})=>J.view.ru(R,W))));const oe=ye&&ye.targetChanges.get(J.targetId),Ie=ye&&ye.targetMismatches.get(J.targetId)!=null,we=J.view.applyChanges(W,te.isPrimaryClient,oe,Ie);return R0(te,J.targetId,we.au),we.snapshot})(s,T,M,B);const c=await g0(s.localStore,e,!0),d=new wN(e,c.Qs),p=d.ru(c.documents),g=cu.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",l),y=d.applyChanges(p,s.isPrimaryClient,g);R0(s,i,y.au);const S=new RN(e,i,d);return s.Tu.set(e,S),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),y.snapshot}async function ON(s,e,i){const r=Ae(s),l=r.Tu.get(e),c=r.Iu.get(l.targetId);if(c.length>1)return r.Iu.set(l.targetId,c.filter((d=>!Dh(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await Cm(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),i&&hp(r.remoteStore,l.targetId),xm(r,l.targetId)})).catch(Eo)):(xm(r,l.targetId),await Cm(r.localStore,l.targetId,!0))}async function MN(s,e){const i=Ae(s),r=i.Tu.get(e),l=i.Iu.get(r.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),hp(i.remoteStore,r.targetId))}async function VN(s,e,i){const r=BN(s);try{const l=await(function(d,p){const g=Ae(d),y=st.now(),S=p.reduce(((B,Z)=>B.add(Z.key)),ke());let T,M;return g.persistence.runTransaction("Locally write mutations","readwrite",(B=>{let Z=us(),te=ke();return g.Ns.getEntries(B,S).next((J=>{Z=J,Z.forEach(((ce,ye)=>{ye.isValidDocument()||(te=te.add(ce))}))})).next((()=>g.localDocuments.getOverlayedDocuments(B,Z))).next((J=>{T=J;const ce=[];for(const ye of p){const W=QC(ye,T.get(ye.key).overlayedDocument);W!=null&&ce.push(new ia(ye.key,W,rT(W.value.mapValue),si.exists(!0)))}return g.mutationQueue.addMutationBatch(B,y,ce,p)})).next((J=>{M=J;const ce=J.applyToLocalDocumentSet(T,te);return g.documentOverlayCache.saveOverlays(B,J.batchId,ce)}))})).then((()=>({batchId:M.batchId,changes:gT(T)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(l.batchId),(function(d,p,g){let y=d.Vu[d.currentUser.toKey()];y||(y=new ct(Ve)),y=y.insert(p,g),d.Vu[d.currentUser.toKey()]=y})(r,l.batchId,i),await fu(r,l.changes),await Uh(r.remoteStore)}catch(l){const c=gp(l,"Failed to persist write");i.reject(c)}}async function $T(s,e){const i=Ae(s);try{const r=await FI(i.localStore,e);e.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Fe(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Fe(d.hu,14607):l.removedDocuments.size>0&&(Fe(d.hu,42227),d.hu=!1))})),await fu(i,r,e)}catch(r){await Eo(r)}}function w0(s,e,i){const r=Ae(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const l=[];r.Tu.forEach(((c,d)=>{const p=d.view.va(e);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const g=Ae(d);g.onlineState=p;let y=!1;g.queries.forEach(((S,T)=>{for(const M of T.Sa)M.va(p)&&(y=!0)})),y&&yp(g)})(r.eventManager,e),l.length&&r.Pu.H_(l),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function kN(s,e,i){const r=Ae(s);r.sharedClientState.updateQueryState(e,"rejected",i);const l=r.Au.get(e),c=l&&l.key;if(c){let d=new ct(fe.comparator);d=d.insert(c,Wt.newNoDocument(c,Ee.min()));const p=ke().add(c),g=new kh(Ee.min(),new Map,new ct(Ve),d,p);await $T(r,g),r.du=r.du.remove(c),r.Au.delete(e),vp(r)}else await Cm(r.localStore,e,!1).then((()=>xm(r,e,i))).catch(Eo)}async function LN(s,e){const i=Ae(s),r=e.batch.batchId;try{const l=await HI(i.localStore,e);JT(i,r,null),ZT(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await fu(i,l)}catch(l){await Eo(l)}}async function PN(s,e,i){const r=Ae(s);try{const l=await(function(d,p){const g=Ae(d);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let S;return g.mutationQueue.lookupMutationBatch(y,p).next((T=>(Fe(T!==null,37113),S=T.keys(),g.mutationQueue.removeMutationBatch(y,T)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,S,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,S))).next((()=>g.localDocuments.getDocuments(y,S)))}))})(r.localStore,e);JT(r,e,i),ZT(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await fu(r,l)}catch(l){await Eo(l)}}function ZT(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function JT(s,e,i){const r=Ae(s);let l=r.Vu[r.currentUser.toKey()];if(l){const c=l.get(e);c&&(i?c.reject(i):c.resolve(),l=l.remove(e)),r.Vu[r.currentUser.toKey()]=l}}function xm(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((r=>{s.Ru.containsKey(r)||WT(s,r)}))}function WT(s,e){s.Eu.delete(e.path.canonicalString());const i=s.du.get(e);i!==null&&(hp(s.remoteStore,i),s.du=s.du.remove(e),s.Au.delete(i),vp(s))}function R0(s,e,i){for(const r of i)r instanceof KT?(s.Ru.addReference(r.key,e),UN(s,r)):r instanceof YT?(re(_p,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,e),s.Ru.containsKey(r.key)||WT(s,r.key)):ge(19791,{wu:r})}function UN(s,e){const i=e.key,r=i.path.canonicalString();s.du.get(i)||s.Eu.has(r)||(re(_p,"New document in limbo: "+i),s.Eu.add(r),vp(s))}function vp(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new fe(et.fromString(e)),r=s.fu.next();s.Au.set(r,new CN(i)),s.du=s.du.insert(i,r),BT(s.remoteStore,new Xs(xi(tp(i.path)),r,"TargetPurposeLimboResolution",Ih.ce))}}async function fu(s,e,i){const r=Ae(s),l=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,g)=>{d.push(r.pu(g,e,i).then((y=>{if((y||i)&&r.isPrimaryClient){const S=y?!y.fromCache:i?.targetChanges.get(g.targetId)?.current;r.sharedClientState.updateQueryState(g.targetId,S?"current":"not-current")}if(y){l.push(y);const S=up.As(g.targetId,y);c.push(S)}})))})),await Promise.all(d),r.Pu.H_(l),await(async function(g,y){const S=Ae(g);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>$.forEach(y,(M=>$.forEach(M.Es,(B=>S.persistence.referenceDelegate.addReference(T,M.targetId,B))).next((()=>$.forEach(M.ds,(B=>S.persistence.referenceDelegate.removeReference(T,M.targetId,B)))))))))}catch(T){if(!To(T))throw T;re(cp,"Failed to update sequence numbers: "+T)}for(const T of y){const M=T.targetId;if(!T.fromCache){const B=S.Ms.get(M),Z=B.snapshotVersion,te=B.withLastLimboFreeSnapshotVersion(Z);S.Ms=S.Ms.insert(M,te)}}})(r.localStore,c))}async function zN(s,e){const i=Ae(s);if(!i.currentUser.isEqual(e)){re(_p,"User change. New user:",e.toKey());const r=await PT(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((p=>{p.forEach((g=>{g.reject(new se(X.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await fu(i,r.Ls)}}function jN(s,e){const i=Ae(s),r=i.Au.get(e);if(r&&r.hu)return ke().add(r.key);{let l=ke();const c=i.Iu.get(e);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function e1(s){const e=Ae(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=$T.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=jN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kN.bind(null,e),e.Pu.H_=AN.bind(null,e.eventManager),e.Pu.yu=SN.bind(null,e.eventManager),e}function BN(s){const e=Ae(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=LN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=PN.bind(null,e),e}class Eh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Lh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return qI(this.persistence,new zI,e.initialUser,this.serializer)}Cu(e){return new LT(lp.mi,this.serializer)}Du(e){return new XI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Eh.provider={build:()=>new Eh};class qN extends Eh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Fe(this.persistence.referenceDelegate instanceof _h,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new bI(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?dn.withCacheSize(this.cacheSizeBytes):dn.DEFAULT;return new LT((r=>_h.mi(r,i)),this.serializer)}}class Dm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>w0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=zN.bind(null,this.syncEngine),await yN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new vN})()}createDatastore(e){const i=Lh(e.databaseInfo.databaseId),r=(function(c){return new eN(c)})(e.databaseInfo);return(function(c,d,p,g){return new sN(c,d,p,g)})(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,l,c,d,p){return new aN(r,l,c,d,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>w0(this.syncEngine,i,0)),(function(){return v0.v()?new v0:new $I})())}createSyncEngine(e,i){return(function(l,c,d,p,g,y,S){const T=new IN(l,c,d,p,g,y);return S&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=Ae(i);re(Jr,"RemoteStore shutting down."),r.Ea.add(5),await hu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Dm.provider={build:()=>new Dm};class HN{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ls("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const or="FirestoreClient";class FN{constructor(e,i,r,l,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=l,this.user=Jt.UNAUTHENTICATED,this.clientId=Xm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{re(or,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(re(or,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Gr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=gp(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function sm(s,e){s.asyncQueue.verifyOperationInProgress(),re(or,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await PT(e.localStore,l),r=l)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function C0(s,e){s.asyncQueue.verifyOperationInProgress();const i=await GN(s);re(or,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((r=>T0(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>T0(e.remoteStore,l))),s._onlineComponents=e}async function GN(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){re(or,"Using user provided OfflineComponentProvider");try{await sm(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===X.FAILED_PRECONDITION||l.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;lo("Error using user provided cache. Falling back to memory cache: "+i),await sm(s,new Eh)}}else re(or,"Using default OfflineComponentProvider"),await sm(s,new qN(void 0));return s._offlineComponents}async function t1(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(re(or,"Using user provided OnlineComponentProvider"),await C0(s,s._uninitializedComponentsProvider._online)):(re(or,"Using default OnlineComponentProvider"),await C0(s,new Dm))),s._onlineComponents}function QN(s){return t1(s).then((e=>e.syncEngine))}async function I0(s){const e=await t1(s),i=e.eventManager;return i.onListen=NN.bind(null,e.syncEngine),i.onUnlisten=ON.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=xN.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=MN.bind(null,e.syncEngine),i}function n1(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const N0=new Map;const i1="firestore.googleapis.com",x0=!0;class D0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new se(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=i1,this.ssl=x0}else this.host=e.host,this.ssl=e.ssl??x0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=kT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<AI)throw new se(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}rC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=n1(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new se(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new se(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new se(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zh{constructor(e,i,r,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new D0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new se(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new se(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new D0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new XR;switch(r.type){case"firstParty":return new WR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new se(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=N0.get(i);r&&(re("ComponentProvider","Removing Datastore"),N0.delete(i),r.terminate())})(this),Promise.resolve()}}function KN(s,e,i,r={}){s=er(s,zh);const l=go(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},p=`${e}:${i}`;l&&(W0(`https://${p}`),eE("Firestore",!0)),c.host!==i1&&c.host!==p&&lo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:p,ssl:l,emulatorOptions:r};if(!Kr(g,d)&&(s._setSettings(g),r.mockUserToken)){let y,S;if(typeof r.mockUserToken=="string")y=r.mockUserToken,S=Jt.MOCK_USER;else{y=sb(r.mockUserToken,s._app?.options.projectId);const T=r.mockUserToken.sub||r.mockUserToken.user_id;if(!T)throw new se(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new Jt(T)}s._authCredentials=new $R(new KE(y,S))}}class ra{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ra(this.firestore,e,this._query)}}class xt{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new tr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xt(this.firestore,e,this._key)}toJSON(){return{type:xt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(lu(i,xt._jsonSchema))return new xt(e,r||null,new fe(et.fromString(i.referencePath)))}}xt._jsonSchemaVersion="firestore/documentReference/1.0",xt._jsonSchema={type:Nt("string",xt._jsonSchemaVersion),referencePath:Nt("string")};class tr extends ra{constructor(e,i,r){super(e,i,tp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xt(this.firestore,null,new fe(e))}withConverter(e){return new tr(this.firestore,e,this._path)}}function bn(s,e,...i){if(s=Yt(s),YE("collection","path",e),s instanceof zh){const r=et.fromString(e,...i);return Hv(r),new tr(s,null,r)}{if(!(s instanceof xt||s instanceof tr))throw new se(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(et.fromString(e,...i));return Hv(r),new tr(s.firestore,null,r)}}function rs(s,e,...i){if(s=Yt(s),arguments.length===1&&(e=Xm.newId()),YE("doc","path",e),s instanceof zh){const r=et.fromString(e,...i);return qv(r),new xt(s,null,new fe(r))}{if(!(s instanceof xt||s instanceof tr))throw new se(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(et.fromString(e,...i));return qv(r),new xt(s.firestore,s instanceof tr?s.converter:null,new fe(r))}}const O0="AsyncQueue";class M0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new zT(this,"async_queue_retry"),this._c=()=>{const r=im();r&&re(O0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=im();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=im();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Gr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!To(e))throw e;re(O0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ls("INTERNAL UNHANDLED ERROR: ",V0(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=pp.createAndSchedule(this,e,i,r,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&ge(47125,{Pc:V0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function V0(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}function k0(s){return(function(i,r){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of r)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class po extends zh{constructor(e,i,r,l){super(e,i,r,l),this.type="firestore",this._queue=new M0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new M0(e),this._firestoreClient=void 0,await e}}}function YN(s,e){const i=typeof s=="object"?s:sE(),r=typeof s=="string"?s:dh,l=Pm(i,"firestore").getImmediate({identifier:r});if(!l._initialized){const c=nb("firestore");c&&KN(l,...c)}return l}function s1(s){if(s._terminated)throw new se(X.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||XN(s),s._firestoreClient}function XN(s){const e=s._freezeSettings(),i=(function(l,c,d,p){return new gC(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,n1(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new FN(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class zn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zn(Xt.fromBase64String(e))}catch(i){throw new se(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new zn(Xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(lu(e,zn._jsonSchema))return zn.fromBase64String(e.bytes)}}zn._jsonSchemaVersion="firestore/bytes/1.0",zn._jsonSchema={type:Nt("string",zn._jsonSchemaVersion),bytes:Nt("string")};class Ep{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new se(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Tp{constructor(e){this._methodName=e}}class Oi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new se(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new se(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Oi._jsonSchemaVersion}}static fromJSON(e){if(lu(e,Oi._jsonSchema))return new Oi(e.latitude,e.longitude)}}Oi._jsonSchemaVersion="firestore/geoPoint/1.0",Oi._jsonSchema={type:Nt("string",Oi._jsonSchemaVersion),latitude:Nt("number"),longitude:Nt("number")};class Mi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,l){if(r.length!==l.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Mi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(lu(e,Mi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Mi(e.vectorValues);throw new se(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Mi._jsonSchemaVersion="firestore/vectorValue/1.0",Mi._jsonSchema={type:Nt("string",Mi._jsonSchemaVersion),vectorValues:Nt("object")};const $N=/^__.*__$/;class ZN{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new ia(e,this.data,this.fieldMask,i,this.fieldTransforms):new uu(e,this.data,i,this.fieldTransforms)}}function r1(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ge(40011,{Ac:s})}}class Ap{constructor(e,i,r,l,c,d){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Ap({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.gc(e),r}yc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Th(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(r1(this.Ac)&&$N.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class JN{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||Lh(e)}Cc(e,i,r,l=!1){return new Ap({Ac:e,methodName:i,Dc:r,path:Kt.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Sp(s){const e=s._freezeSettings(),i=Lh(s._databaseId);return new JN(s._databaseId,!!e.ignoreUndefinedProperties,i)}function a1(s,e,i,r,l,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,e,i,l);u1("Data must be an object, but it was:",d,r);const p=o1(r,d);let g,y;if(c.merge)g=new ni(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const S=[];for(const T of c.mergeFields){const M=ex(e,T,i);if(!d.contains(M))throw new se(X.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);nx(S,M)||S.push(M)}g=new ni(S),y=d.fieldTransforms.filter((T=>g.covers(T.field)))}else g=null,y=d.fieldTransforms;return new ZN(new Un(p),g,y)}class bp extends Tp{_toFieldTransform(e){return new qC(e.path,new Wl)}isEqual(e){return e instanceof bp}}function WN(s,e,i,r=!1){return wp(i,s.Cc(r?4:3,e))}function wp(s,e){if(l1(s=Yt(s)))return u1("Unsupported field value:",e,s),o1(s,e);if(s instanceof Tp)return(function(r,l){if(!r1(l.Ac))throw l.Sc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,l){const c=[];let d=0;for(const p of r){let g=wp(p,l.wc(d));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),d++}return{arrayValue:{values:c}}})(s,e)}return(function(r,l){if((r=Yt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return zC(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=st.fromDate(r);return{timestampValue:yh(l.serializer,c)}}if(r instanceof st){const c=new st(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:yh(l.serializer,c)}}if(r instanceof Oi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof zn)return{bytesValue:IT(l.serializer,r._byteString)};if(r instanceof xt){const c=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:ap(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof Mi)return(function(d,p){return{mapValue:{fields:{[iT]:{stringValue:sT},[mh]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return np(p.serializer,y)}))}}}}}})(r,l);throw l.Sc(`Unsupported field value: ${Ch(r)}`)})(s,e)}function o1(s,e){const i={};return ZE(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ta(s,((r,l)=>{const c=wp(l,e.mc(r));c!=null&&(i[r]=c)})),{mapValue:{fields:i}}}function l1(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof st||s instanceof Oi||s instanceof zn||s instanceof xt||s instanceof Tp||s instanceof Mi)}function u1(s,e,i){if(!l1(i)||!XE(i)){const r=Ch(i);throw r==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+r)}}function ex(s,e,i){if((e=Yt(e))instanceof Ep)return e._internalPath;if(typeof e=="string")return c1(s,e);throw Th("Field path arguments must be of type string or ",s,!1,void 0,i)}const tx=new RegExp("[~\\*/\\[\\]]");function c1(s,e,i){if(e.search(tx)>=0)throw Th(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Ep(...e.split("."))._internalPath}catch{throw Th(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Th(s,e,i,r,l){const c=r&&!r.isEmpty(),d=l!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(c||d)&&(g+=" (found",c&&(g+=` in field ${r}`),d&&(g+=` in document ${l}`),g+=")"),new se(X.INVALID_ARGUMENT,p+s+g)}function nx(s,e){return s.some((i=>i.isEqual(e)))}class h1{constructor(e,i,r,l,c){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new xt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ix(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(jh("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class ix extends h1{data(){return super.data()}}function jh(s,e){return typeof e=="string"?c1(s,e):e instanceof Ep?e._internalPath:e._delegate._internalPath}function sx(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new se(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Rp{}class f1 extends Rp{}function Wr(s,e,...i){let r=[];e instanceof Rp&&r.push(e),r=r.concat(i),(function(c){const d=c.filter((g=>g instanceof Cp)).length,p=c.filter((g=>g instanceof Bh)).length;if(d>1||d>0&&p>0)throw new se(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const l of r)s=l._apply(s);return s}class Bh extends f1{constructor(e,i,r){super(),this._field=e,this._op=i,this._value=r,this.type="where"}static _create(e,i,r){return new Bh(e,i,r)}_apply(e){const i=this._parse(e);return d1(e._query,i),new ra(e.firestore,e.converter,Tm(e._query,i))}_parse(e){const i=Sp(e.firestore);return(function(c,d,p,g,y,S,T){let M;if(y.isKeyField()){if(S==="array-contains"||S==="array-contains-any")throw new se(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${S}' queries on documentId().`);if(S==="in"||S==="not-in"){P0(T,S);const Z=[];for(const te of T)Z.push(L0(g,c,te));M={arrayValue:{values:Z}}}else M=L0(g,c,T)}else S!=="in"&&S!=="not-in"&&S!=="array-contains-any"||P0(T,S),M=WN(p,d,T,S==="in"||S==="not-in");return It.create(y,S,M)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function rx(s,e,i){const r=e,l=jh("where",s);return Bh._create(l,r,i)}class Cp extends Rp{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new Cp(e,i)}_parse(e){const i=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:ri.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(l,c){let d=l;const p=c.getFlattenedFilters();for(const g of p)d1(d,g),d=Tm(d,g)})(e._query,i),new ra(e.firestore,e.converter,Tm(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ip extends f1{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new Ip(e,i)}_apply(e){const i=(function(l,c,d){if(l.startAt!==null)throw new se(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new se(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Jl(c,d)})(e._query,this._field,this._direction);return new ra(e.firestore,e.converter,(function(l,c){const d=l.explicitOrderBy.concat([c]);return new Ao(l.path,l.collectionGroup,d,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(e._query,i))}}function ea(s,e="asc"){const i=e,r=jh("orderBy",s);return Ip._create(r,i)}function L0(s,e,i){if(typeof(i=Yt(i))=="string"){if(i==="")throw new se(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!fT(e)&&i.indexOf("/")!==-1)throw new se(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=e.path.child(et.fromString(i));if(!fe.isDocumentKey(r))throw new se(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Zv(s,new fe(r))}if(i instanceof xt)return Zv(s,i._key);throw new se(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ch(i)}.`)}function P0(s,e){if(!Array.isArray(s)||s.length===0)throw new se(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function d1(s,e){const i=(function(l,c){for(const d of l)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new se(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new se(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class ax{convertValue(e,i="none"){switch(rr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(sr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw ge(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return ta(e,((l,c)=>{r[l]=this.convertValue(c,i)})),r}convertVectorValue(e){const i=e.fields?.[mh].arrayValue?.values?.map((r=>yt(r.doubleValue)));return new Mi(i)}convertGeoPoint(e){return new Oi(yt(e.latitude),yt(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=xh(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Xl(e));default:return null}}convertTimestamp(e){const i=ir(e);return new st(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=et.fromString(e);Fe(VT(r),9688,{name:e});const l=new $l(r.get(1),r.get(3)),c=new fe(r.popFirst(5));return l.isEqual(i)||ls(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function m1(s,e,i){let r;return r=s?i&&(i.merge||i.mergeFields)?s.toFirestore(e,i):s.toFirestore(e):e,r}class Ul{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Qr extends h1{constructor(e,i,r,l,c,d){super(e,i,r,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new ih(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(jh("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new se(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Qr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Qr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Qr._jsonSchema={type:Nt("string",Qr._jsonSchemaVersion),bundleSource:Nt("string","DocumentSnapshot"),bundleName:Nt("string"),bundle:Nt("string")};class ih extends Qr{data(e={}){return super.data(e)}}class ro{constructor(e,i,r,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new Ul(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new ih(this._firestore,this._userDataWriter,r.key,r,new Ul(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new se(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const g=new ih(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Ul(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const g=new ih(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Ul(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,S=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),S=d.indexOf(p.doc.key)),{type:ox(p.type),doc:g,oldIndex:y,newIndex:S}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new se(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ro._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Xm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function ox(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ge(61501,{type:s})}}ro._jsonSchemaVersion="firestore/querySnapshot/1.0",ro._jsonSchema={type:Nt("string",ro._jsonSchemaVersion),bundleSource:Nt("string","QuerySnapshot"),bundleName:Nt("string"),bundle:Nt("string")};class p1 extends ax{constructor(e){super(),this.firestore=e}convertBytes(e){return new zn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new xt(this.firestore,null,i)}}function lx(s,e,i){s=er(s,xt);const r=er(s.firestore,po),l=m1(s.converter,e,i);return Np(r,[a1(Sp(r),"setDoc",s._key,l,s.converter!==null,i).toMutation(s._key,si.none())])}function bo(s){return Np(er(s.firestore,po),[new ip(s._key,si.none())])}function wo(s,e){const i=er(s.firestore,po),r=rs(s),l=m1(s.converter,e);return Np(i,[a1(Sp(s.firestore),"addDoc",r._key,l,s.converter!==null,{}).toMutation(r._key,si.exists(!1))]).then((()=>r))}function lr(s,...e){s=Yt(s);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||k0(e[r])||(i=e[r++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(k0(e[r])){const g=e[r];e[r]=g.next?.bind(g),e[r+1]=g.error?.bind(g),e[r+2]=g.complete?.bind(g)}let c,d,p;if(s instanceof xt)d=er(s.firestore,po),p=tp(s._key.path),c={next:g=>{e[r]&&e[r](ux(d,s,g))},error:e[r+1],complete:e[r+2]};else{const g=er(s,ra);d=er(g.firestore,po),p=g._query;const y=new p1(d);c={next:S=>{e[r]&&e[r](new ro(d,y,g,S))},error:e[r+1],complete:e[r+2]},sx(s._query)}return(function(y,S,T,M){const B=new HN(M),Z=new bN(S,B,T);return y.asyncQueue.enqueueAndForget((async()=>EN(await I0(y),Z))),()=>{B.Nu(),y.asyncQueue.enqueueAndForget((async()=>TN(await I0(y),Z)))}})(s1(d),p,l,c)}function Np(s,e){return(function(r,l){const c=new Gr;return r.asyncQueue.enqueueAndForget((async()=>VN(await QN(r),l,c))),c.promise})(s1(s),e)}function ux(s,e,i){const r=i.docs.get(e._key),l=new p1(s);return new Qr(s,l,e._key,r,new Ul(i.hasPendingWrites,i.fromCache),e.converter)}function cx(){return new bp("serverTimestamp")}(function(e,i=!0){(function(l){vo=l})(yo),ao(new Yr("firestore",((r,{instanceIdentifier:l,options:c})=>{const d=r.getProvider("app").getImmediate(),p=new po(new ZR(r.getProvider("auth-internal")),new eC(d,r.getProvider("app-check-internal")),(function(y,S){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new se(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $l(y.options.projectId,S)})(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Js(Uv,zv,e),Js(Uv,zv,"esm2020")})();var hx="firebase",fx="12.6.0";Js(hx,fx,"app");const dx={apiKey:"AIzaSyCcP5qt0G2VQT2JLj6po_rLXpQ2Hp5ZFBY",authDomain:"gestor-25758.firebaseapp.com",projectId:"gestor-25758",storageBucket:"gestor-25758.firebasestorage.app",messagingSenderId:"318964628366",appId:"1:318964628366:web:719222f154d026db2682df",measurementId:"G-G8LYNL0BG4"},g1=iE(dx),Gl=KR(g1),Wn=YN(g1),mx=new ts,ei="gearle-app-production",en=({children:s,onClick:e,variant:i="primary",className:r="",icon:l,type:c="button",disabled:d=!1})=>{const p="px-4 py-2 rounded-lg font-medium flex items-center justify-center gap-2 transition-all active:scale-95 text-sm disabled:opacity-50 disabled:cursor-not-allowed",g={primary:"bg-azuri-600 text-white hover:bg-azuri-700 shadow-md shadow-azuri-200",secondary:"bg-white text-azuri-600 border border-azuri-100 hover:bg-azuri-50",danger:"bg-red-50 text-red-600 hover:bg-red-100",ghost:"bg-transparent text-gray-600 hover:bg-gray-100",google:"bg-gray-900 text-white border border-gray-900 hover:bg-gray-800"};return b.jsxs("button",{onClick:e,type:c,disabled:d,className:`${p} ${g[i]} ${r}`,children:[l&&b.jsx(l,{size:16}),s]})},Vi=({children:s,className:e=""})=>b.jsx("div",{className:`bg-white rounded-xl shadow-sm border border-gray-100 p-4 ${e}`,children:s}),ut=({label:s,error:e,...i})=>b.jsxs("div",{className:"flex flex-col gap-1 mb-3",children:[s&&b.jsx("label",{className:"text-xs font-semibold text-gray-500 uppercase",children:s}),b.jsx("input",{className:`w-full p-3 rounded-lg border focus:ring-2 outline-none transition-all text-sm disabled:bg-gray-50 disabled:text-gray-500 ${e?"border-red-300 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-azuri-500 focus:ring-azuri-100"}`,...i}),e&&b.jsxs("span",{className:"text-xs text-red-500 flex items-center gap-1",children:[b.jsx(q0,{size:10})," ",e]})]}),aa=({title:s,onClose:e,children:i})=>b.jsx("div",{className:"fixed inset-0 bg-black/50 z-[100] flex items-center justify-center p-4 backdrop-blur-sm animate-in fade-in duration-200",onClick:e,children:b.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md max-h-[90vh] overflow-y-auto shadow-2xl animate-in zoom-in-95 duration-200 relative",onClick:r=>r.stopPropagation(),children:[b.jsxs("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center sticky top-0 bg-white z-10",children:[b.jsx("h3",{className:"font-bold text-lg text-gray-800",children:s}),b.jsx("button",{onClick:e,className:"p-2 hover:bg-red-50 hover:text-red-500 text-gray-400 rounded-full transition-colors",children:b.jsx(Q0,{size:20})})]}),b.jsx("div",{className:"p-4",children:i})]})}),Ro=({columns:s,data:e,onDelete:i})=>b.jsx("div",{className:"overflow-x-auto",children:b.jsxs("table",{className:"w-full text-left border-collapse",children:[b.jsx("thead",{children:b.jsxs("tr",{className:"border-b border-gray-100",children:[s.map((r,l)=>b.jsx("th",{className:"py-3 px-4 text-xs font-bold text-gray-500 uppercase bg-gray-50 first:rounded-l-lg last:rounded-r-lg",children:r.header},l)),b.jsx("th",{className:"py-3 px-4 bg-gray-50 rounded-r-lg"})]})}),b.jsx("tbody",{children:e.length===0?b.jsx("tr",{children:b.jsx("td",{colSpan:s.length+1,className:"py-8 text-center text-gray-400 text-sm",children:"Nenhum registro encontrado."})}):e.map(r=>b.jsxs("tr",{className:"border-b border-gray-50 hover:bg-azuri-50/50 transition-colors group",children:[s.map((l,c)=>b.jsx("td",{className:"py-3 px-4 text-sm text-gray-700",children:l.render?l.render(r):r[l.accessor]},c)),b.jsx("td",{className:"py-3 px-4 text-right",children:b.jsx("button",{onClick:()=>i&&i(r.id),className:"text-gray-300 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity",children:b.jsx(Q0,{size:16})})})]},r.id))})]})}),px=({size:s=20})=>b.jsxs("svg",{width:s,height:s,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[b.jsx("path",{d:"M23.52 12.29C23.52 11.44 23.44 10.62 23.3 9.82H12V14.45H18.46C18.18 15.93 17.33 17.18 16.06 18.03V21.01H19.93C22.19 18.93 23.52 15.87 23.52 12.29Z",fill:"#4285F4"}),b.jsx("path",{d:"M12 24C15.24 24 17.96 22.93 19.93 21.01L16.06 18.03C14.99 18.75 13.62 19.18 12 19.18C8.87 19.18 6.22 17.07 5.27 14.23H1.27V17.33C3.26 21.28 7.33 24 12 24Z",fill:"#34A853"}),b.jsx("path",{d:"M5.27 14.23C5.03 13.51 4.9 12.76 4.9 12C4.9 11.24 5.03 10.49 5.27 9.77V6.67H1.27C0.46 8.28 0 10.09 0 12C0 13.91 0.46 15.72 1.27 17.33L5.27 14.23Z",fill:"#FBBC05"}),b.jsx("path",{d:"M12 4.82C13.76 4.82 15.34 5.43 16.58 6.62L20.02 3.18C17.96 1.26 15.24 0 12 0C7.33 0 3.26 2.72 1.27 6.67L5.27 9.77C6.22 6.93 8.87 4.82 12 4.82Z",fill:"#EA4335"})]}),gx=()=>{const[s,e]=_e.useState(!1),[i,r]=_e.useState(!1),[l,c]=_e.useState(""),[d,p]=_e.useState({email:"",password:"",name:""}),g=async()=>{r(!0),c("");try{await nR(Gl,mx)}catch(S){c("Erro ao conectar com Google. Tente novamente."),console.error(S)}finally{r(!1)}},y=async S=>{if(S.preventDefault(),r(!0),c(""),!d.email||!d.password){c("Preencha todos os campos."),r(!1);return}try{if(s){const T=await N2(Gl,d.email,d.password);d.name&&await O2(T.user,{displayName:d.name})}else await x2(Gl,d.email,d.password)}catch(T){console.error(T),T.code==="auth/invalid-credential"||T.code==="auth/user-not-found"||T.code==="auth/wrong-password"?c("E-mail ou senha incorretos."):T.code==="auth/email-already-in-use"?c("Este e-mail j est cadastrado."):T.code==="auth/weak-password"?c("A senha deve ter pelo menos 6 caracteres."):c("Ocorreu um erro. Tente novamente.")}finally{r(!1)}};return b.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-azuri-600 to-indigo-700 p-4 font-sans",children:b.jsxs("div",{className:"bg-white w-full max-w-md rounded-2xl shadow-2xl overflow-hidden animate-in fade-in zoom-in-95 duration-500",children:[b.jsxs("div",{className:"p-8",children:[b.jsxs("div",{className:"flex flex-col items-center mb-6",children:[b.jsx("div",{className:"bg-azuri-100 p-3 rounded-full mb-4 text-azuri-600",children:b.jsx(rm,{size:32})}),b.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Gestor"}),b.jsx("p",{className:"text-gray-500 text-sm text-center mt-1",children:s?"Crie sua conta e gerencie seu negcio":"Bem-vindo de volta!"})]}),l&&b.jsxs("div",{className:"bg-red-50 text-red-600 text-sm p-3 rounded-lg mb-4 flex items-center gap-2",children:[b.jsx(q0,{size:16}),l]}),b.jsxs("form",{onSubmit:y,className:"space-y-4",children:[s&&b.jsx(ut,{label:"Nome da Empresa / Seu Nome",placeholder:"Ex: Barbearia do Gearle",value:d.name,onChange:S=>p({...d,name:S.target.value}),icon:GS}),b.jsx(ut,{label:"E-mail",type:"email",placeholder:"seu@email.com",value:d.email,onChange:S=>p({...d,email:S.target.value}),icon:CS}),b.jsx(ut,{label:"Senha",type:"password",placeholder:"",value:d.password,onChange:S=>p({...d,password:S.target.value}),icon:SS}),b.jsx(en,{type:"submit",className:"w-full py-3 text-base",disabled:i,icon:i?null:uS,children:i?"Carregando...":s?"Criar Conta Grtis":"Entrar"})]}),b.jsxs("div",{className:"flex items-center my-6",children:[b.jsx("div",{className:"flex-1 border-t border-gray-200"}),b.jsx("span",{className:"px-4 text-gray-400 text-sm font-medium",children:"ou continue com"}),b.jsx("div",{className:"flex-1 border-t border-gray-200"})]}),b.jsx(en,{variant:"google",className:"w-full py-3",onClick:g,disabled:i,icon:px,children:"Google"})]}),b.jsx("div",{className:"bg-gray-50 p-4 text-center border-t border-gray-100",children:b.jsxs("p",{className:"text-sm text-gray-600",children:[s?"J tem uma conta?":"No tem uma conta?",b.jsx("button",{onClick:()=>e(!s),className:"ml-1 text-azuri-600 font-bold hover:underline focus:outline-none",children:s?"Fazer Login":"Criar agora"})]})})]})})},yx=({transactions:s,onNavigate:e})=>{const i=_e.useMemo(()=>{let c=0,d=0;return s.forEach(p=>{const g=parseFloat(p.amount||0);p.type==="income"?c+=g:d+=g}),{receita:c,despesa:d,lucro:c-d}},[s]),r=c=>{typeof e=="function"?e(c):console.warn(`Navegando para: ${c}`)},l=[{label:"Novo Agendamento",icon:j0,action:()=>r("agenda")},{label:"Lanar Venda",icon:Mm,action:()=>r("financial")},{label:"Novo Cliente",icon:Vm,action:()=>r("clients")},{label:"Relatrio Dirio",icon:H0,action:()=>r("reports")}];return b.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[b.jsxs("header",{className:"flex justify-between items-center",children:[b.jsxs("div",{children:[b.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Dashboard"}),b.jsx("p",{className:"text-gray-500 text-sm",children:"Viso geral do seu negcio hoje"})]}),b.jsx("div",{className:"bg-azuri-100 text-azuri-700 px-3 py-1 rounded-full text-xs font-bold",children:"Ms Atual"})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[b.jsxs(Vi,{className:"border-l-4 border-l-green-500",children:[b.jsx("p",{className:"text-gray-500 text-xs font-bold uppercase",children:"Receitas"}),b.jsxs("h3",{className:"text-2xl font-bold text-gray-800 mt-1",children:["R$ ",i.receita.toFixed(2)]})]}),b.jsxs(Vi,{className:"border-l-4 border-l-red-500",children:[b.jsx("p",{className:"text-gray-500 text-xs font-bold uppercase",children:"Despesas"}),b.jsxs("h3",{className:"text-2xl font-bold text-gray-800 mt-1",children:["R$ ",i.despesa.toFixed(2)]})]}),b.jsxs(Vi,{className:"border-l-4 border-l-azuri-500 bg-azuri-50",children:[b.jsx("p",{className:"text-azuri-600 text-xs font-bold uppercase",children:"Lucro Lquido"}),b.jsxs("h3",{className:"text-2xl font-bold text-azuri-900 mt-1",children:["R$ ",i.lucro.toFixed(2)]})]})]}),b.jsx("h3",{className:"font-bold text-gray-800 mt-4",children:"Acesso Rpido"}),b.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:l.map((c,d)=>b.jsxs("button",{onClick:c.action,className:"p-4 bg-white border hover:border-azuri-300 rounded-xl flex flex-col items-center justify-center gap-2 text-sm font-medium text-gray-700 shadow-sm hover:shadow-md transition-all active:scale-95 cursor-pointer",children:[b.jsx("div",{className:"bg-azuri-50 p-2 rounded-full text-azuri-600",children:b.jsx(c.icon,{size:20})}),c.label]},d))})]})},_x=({transactions:s,onAddTransaction:e,onDeleteTransaction:i,searchTerm:r})=>{const[l,c]=_e.useState(!1),[d,p]=_e.useState({description:"",amount:"",type:"income",date:new Date().toISOString().split("T")[0]}),g=y=>{y.preventDefault(),e({...d,amount:parseFloat(d.amount),createdAt:cx()}),c(!1),p({description:"",amount:"",type:"income",date:new Date().toISOString().split("T")[0]})};return b.jsxs("div",{className:"space-y-4 h-full flex flex-col",children:[b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Fluxo de Caixa"}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx(en,{variant:"secondary",icon:TS,children:"Filtrar"}),b.jsx(en,{onClick:()=>c(!0),icon:Ah,children:"Lanar"})]})]}),b.jsx(Vi,{className:"flex-1 overflow-hidden flex flex-col p-0",children:b.jsx(Ro,{columns:[{header:"Tipo",accessor:"type",render:y=>b.jsx("div",{className:`p-1.5 w-fit rounded-full ${y.type==="income"?"bg-green-100 text-green-600":"bg-red-100 text-red-600"}`,children:y.type==="income"?b.jsx(qS,{size:14}):b.jsx(jS,{size:14})})},{header:"Descrio",accessor:"description",render:y=>b.jsx("span",{className:"font-bold text-gray-700",children:y.description})},{header:"Data",accessor:"date",render:y=>b.jsx("span",{className:"text-xs text-gray-500",children:new Date(y.date).toLocaleDateString("pt-BR")})},{header:"Valor",accessor:"amount",render:y=>b.jsxs("span",{className:`font-bold ${y.type==="income"?"text-green-600":"text-red-600"}`,children:[y.type==="income"?"+":"-"," R$ ",parseFloat(y.amount).toFixed(2)]})}],data:s.filter(y=>y.description?.toLowerCase().includes(r?.toLowerCase()||"")),onDelete:i})}),l&&b.jsx(aa,{title:"Novo Lanamento",onClose:()=>c(!1),children:b.jsxs("form",{onSubmit:g,className:"space-y-4",children:[b.jsxs("div",{className:"flex gap-2 p-1 bg-gray-100 rounded-lg",children:[b.jsx("button",{type:"button",onClick:()=>p({...d,type:"income"}),className:`flex-1 py-2 text-sm font-bold rounded-md transition-all ${d.type==="income"?"bg-white text-green-600 shadow-sm":"text-gray-500"}`,children:"Receita"}),b.jsx("button",{type:"button",onClick:()=>p({...d,type:"expense"}),className:`flex-1 py-2 text-sm font-bold rounded-md transition-all ${d.type==="expense"?"bg-white text-red-600 shadow-sm":"text-gray-500"}`,children:"Despesa"})]}),b.jsx(ut,{label:"Descrio",value:d.description,onChange:y=>p({...d,description:y.target.value}),required:!0}),b.jsx(ut,{label:"Valor (R$)",type:"number",step:"0.01",value:d.amount,onChange:y=>p({...d,amount:y.target.value}),required:!0}),b.jsx(ut,{label:"Data",type:"date",value:d.date,onChange:y=>p({...d,date:y.target.value}),required:!0}),b.jsx(en,{className:"w-full",type:"submit",children:"Salvar"})]})})]})},vx=({db:s,user:e,appId:i,searchTerm:r})=>{const[l,c]=_e.useState([]),[d,p]=_e.useState(!1),[g,y]=_e.useState({name:"",phone:"",address:""});_e.useEffect(()=>{if(!e)return;const T=Wr(bn(s,"artifacts",i,"users",e.uid,"clients"),ea("name")),M=lr(T,B=>c(B.docs.map(Z=>({id:Z.id,...Z.data()}))));return()=>M()},[e,s,i]);const S=async T=>{T.preventDefault(),await wo(bn(s,"artifacts",i,"users",e.uid,"clients"),g),p(!1),y({name:"",phone:"",address:""})};return b.jsxs("div",{className:"space-y-4 h-full flex flex-col",children:[b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Meus Clientes"}),b.jsx(en,{onClick:()=>p(!0),icon:Vm,children:"Adicionar Cliente"})]}),b.jsx(Vi,{className:"flex-1 overflow-hidden flex flex-col p-0",children:b.jsx(Ro,{columns:[{header:"Nome",accessor:"name",render:T=>b.jsx("span",{className:"font-bold",children:T.name})},{header:"Telefone",accessor:"phone"},{header:"Endereo",accessor:"address"}],data:l.filter(T=>T.name?.toLowerCase().includes(r?.toLowerCase()||"")||T.phone?.includes(r||"")),onDelete:async T=>await bo(rs(s,"artifacts",i,"users",e.uid,"clients",T))})}),d&&b.jsx(aa,{title:"Novo Cliente",onClose:()=>p(!1),children:b.jsxs("form",{onSubmit:S,className:"space-y-4",children:[b.jsx(ut,{label:"Nome Completo",value:g.name,onChange:T=>y({...g,name:T.target.value}),required:!0}),b.jsx(ut,{label:"Telefone",value:g.phone,onChange:T=>y({...g,phone:T.target.value})}),b.jsx(ut,{label:"Endereo",value:g.address,onChange:T=>y({...g,address:T.target.value})}),b.jsx(en,{className:"w-full",type:"submit",children:"Salvar Cliente"})]})})]})},Ex=({db:s,user:e,appId:i,searchTerm:r})=>{const[l,c]=_e.useState("services"),[d,p]=_e.useState([]),[g,y]=_e.useState(!1),[S,T]=_e.useState({name:"",price:"",duration:""});_e.useEffect(()=>{if(!e)return;const B=l==="services"?"services":"packages",Z=Wr(bn(s,"artifacts",i,"users",e.uid,B),ea("name")),te=lr(Z,J=>p(J.docs.map(ce=>({id:ce.id,...ce.data()}))));return()=>te()},[e,l,s,i]);const M=async B=>{B.preventDefault();const Z=l==="services"?"services":"packages";await wo(bn(s,"artifacts",i,"users",e.uid,Z),S),y(!1),T({name:"",price:"",duration:""})};return b.jsxs("div",{className:"space-y-4 h-full flex flex-col",children:[b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Catlogo"}),b.jsxs(en,{onClick:()=>y(!0),icon:Ah,children:["Novo ",l==="services"?"Servio":"Pacote"]})]}),b.jsxs("div",{className:"flex gap-4 border-b border-gray-200",children:[b.jsx("button",{onClick:()=>c("services"),className:`pb-2 px-4 font-bold text-sm ${l==="services"?"text-azuri-600 border-b-2 border-azuri-600":"text-gray-500"}`,children:"SERVIOS"}),b.jsx("button",{onClick:()=>c("packages"),className:`pb-2 px-4 font-bold text-sm ${l==="packages"?"text-azuri-600 border-b-2 border-azuri-600":"text-gray-500"}`,children:"PACOTES"})]}),b.jsx(Vi,{className:"flex-1 overflow-hidden flex flex-col p-0",children:b.jsx(Ro,{columns:[{header:"Nome",accessor:"name",render:B=>b.jsx("span",{className:"font-bold",children:B.name})},{header:"Preo",accessor:"price",render:B=>`R$ ${parseFloat(B.price).toFixed(2)}`},{header:"Durao",accessor:"duration",render:B=>B.duration?`${B.duration} min`:"-"}],data:d.filter(B=>B.name?.toLowerCase().includes(r?.toLowerCase()||"")),onDelete:async B=>{const Z=l==="services"?"services":"packages";await bo(rs(s,"artifacts",i,"users",e.uid,Z,B))}})}),g&&b.jsx(aa,{title:`Adicionar ${l==="services"?"Servio":"Pacote"}`,onClose:()=>y(!1),children:b.jsxs("form",{onSubmit:M,className:"space-y-4",children:[b.jsx(ut,{label:"Nome",value:S.name,onChange:B=>T({...S,name:B.target.value}),required:!0}),b.jsx(ut,{label:"Preo (R$)",type:"number",value:S.price,onChange:B=>T({...S,price:B.target.value}),required:!0}),b.jsx(ut,{label:"Durao (min)",type:"number",value:S.duration,onChange:B=>T({...S,duration:B.target.value})}),b.jsx(en,{className:"w-full",type:"submit",children:"Salvar"})]})})]})},Tx=({db:s,user:e,appId:i,searchTerm:r})=>{const[l,c]=_e.useState([]),[d,p]=_e.useState(!1),[g,y]=_e.useState({name:"",category:"",price:""});_e.useEffect(()=>{if(!e)return;const T=Wr(bn(s,"artifacts",i,"users",e.uid,"products"),ea("name")),M=lr(T,B=>c(B.docs.map(Z=>({id:Z.id,...Z.data()}))));return()=>M()},[e,s,i]);const S=async T=>{T.preventDefault(),await wo(bn(s,"artifacts",i,"users",e.uid,"products"),g),p(!1),y({name:"",category:"",price:""})};return b.jsxs("div",{className:"space-y-4 h-full flex flex-col",children:[b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Produtos & Estoque"}),b.jsx(en,{onClick:()=>p(!0),icon:Ah,children:"Novo Produto"})]}),b.jsx(Vi,{className:"flex-1 overflow-hidden flex flex-col p-0",children:b.jsx(Ro,{columns:[{header:"Produto",accessor:"name",render:T=>b.jsx("span",{className:"font-bold",children:T.name})},{header:"Categoria",accessor:"category",render:T=>b.jsx("span",{className:"px-2 py-1 bg-gray-100 rounded text-xs text-gray-600 uppercase",children:T.category||"Geral"})},{header:"Preo Venda",accessor:"price",render:T=>`R$ ${parseFloat(T.price).toFixed(2)}`}],data:l.filter(T=>T.name?.toLowerCase().includes(r?.toLowerCase()||"")||T.category?.toLowerCase().includes(r?.toLowerCase()||"")),onDelete:async T=>await bo(rs(s,"artifacts",i,"users",e.uid,"products",T))})}),d&&b.jsx(aa,{title:"Adicionar Produto",onClose:()=>p(!1),children:b.jsxs("form",{onSubmit:S,className:"space-y-4",children:[b.jsx(ut,{label:"Nome do Produto",value:g.name,onChange:T=>y({...g,name:T.target.value}),required:!0}),b.jsx(ut,{label:"Categoria",value:g.category,onChange:T=>y({...g,category:T.target.value})}),b.jsx(ut,{label:"Preo (R$)",type:"number",value:g.price,onChange:T=>y({...g,price:T.target.value}),required:!0}),b.jsx(en,{className:"w-full",type:"submit",children:"Salvar Produto"})]})})]})},Ax=({db:s,user:e,appId:i,searchTerm:r})=>{const[l,c]=_e.useState([]),[d,p]=_e.useState(!1),[g,y]=_e.useState({name:"",role:"",commission:""});_e.useEffect(()=>{if(!e)return;const T=Wr(bn(s,"artifacts",i,"users",e.uid,"professionals"),ea("name")),M=lr(T,B=>c(B.docs.map(Z=>({id:Z.id,...Z.data()}))));return()=>M()},[e,s,i]);const S=async T=>{T.preventDefault(),await wo(bn(s,"artifacts",i,"users",e.uid,"professionals"),g),p(!1),y({name:"",role:"",commission:""})};return b.jsxs("div",{className:"space-y-4 h-full flex flex-col",children:[b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Profissionais"}),b.jsx(en,{onClick:()=>p(!0),icon:Vm,children:"Adicionar Profissional"})]}),b.jsx(Vi,{className:"flex-1 overflow-hidden flex flex-col p-0",children:b.jsx(Ro,{columns:[{header:"Nome",accessor:"name",render:T=>b.jsx("span",{className:"font-bold",children:T.name})},{header:"Funo",accessor:"role",render:T=>b.jsx("span",{className:"text-gray-500",children:T.role})},{header:"Comisso (%)",accessor:"commission",render:T=>b.jsxs("span",{className:"bg-green-50 text-green-700 px-2 py-1 rounded text-xs font-bold",children:[T.commission,"%"]})}],data:l.filter(T=>T.name?.toLowerCase().includes(r?.toLowerCase()||"")||T.role?.toLowerCase().includes(r?.toLowerCase()||"")),onDelete:async T=>await bo(rs(s,"artifacts",i,"users",e.uid,"professionals",T))})}),d&&b.jsx(aa,{title:"Novo Profissional",onClose:()=>p(!1),children:b.jsxs("form",{onSubmit:S,className:"space-y-4",children:[b.jsx(ut,{label:"Nome",value:g.name,onChange:T=>y({...g,name:T.target.value}),required:!0}),b.jsx(ut,{label:"Funo",value:g.role,onChange:T=>y({...g,role:T.target.value})}),b.jsx(ut,{label:"Comisso (%)",type:"number",value:g.commission,onChange:T=>y({...g,commission:T.target.value})}),b.jsx(en,{className:"w-full",type:"submit",children:"Salvar Equipe"})]})})]})},Sx=({db:s,user:e,appId:i})=>{const[r,l]=_e.useState(null),c=[{id:"daily",title:"Fluxo de Caixa Dirio",icon:B0,color:"bg-blue-100 text-blue-600",desc:"Visualize todas as entradas e sadas do dia."},{id:"clients",title:"Melhores Clientes",icon:G0,color:"bg-green-100 text-green-600",desc:"Clientes que mais agendam ou compram."},{id:"commissions",title:"Comisses a Pagar",icon:Mm,color:"bg-yellow-100 text-yellow-600",desc:"Clculo automtico de comisses da equipe."},{id:"performance",title:"Desempenho Profissional",icon:z0,color:"bg-azuri-100 text-azuri-600",desc:"Anlise de produtividade individual."},{id:"products",title:"Produtos Mais Vendidos",icon:F0,color:"bg-orange-100 text-orange-600",desc:"Controle de sada de estoque."}];return b.jsxs("div",{className:"space-y-6",children:[b.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Relatrios"}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:c.map(d=>b.jsxs("button",{onClick:()=>l(d),className:"bg-white p-4 rounded-xl border border-gray-200 hover:border-azuri-300 hover:shadow-md transition-all flex items-center gap-4 text-left active:scale-95 w-full",children:[b.jsx("div",{className:`p-3 rounded-full ${d.color}`,children:b.jsx(d.icon,{size:24})}),b.jsxs("div",{className:"flex-1",children:[b.jsx("h3",{className:"font-bold text-gray-800",children:d.title}),b.jsx("p",{className:"text-xs text-gray-400",children:"Clique para visualizar"})]}),b.jsx(mS,{className:"ml-auto text-gray-300",size:20})]},d.id))}),r&&b.jsx(aa,{title:r.title,onClose:()=>l(null),children:b.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center space-y-4",children:[b.jsx("div",{className:`p-4 rounded-full ${r.color} bg-opacity-20`,children:b.jsx(r.icon,{size:48})}),b.jsx("p",{className:"text-gray-600",children:r.desc}),b.jsxs("div",{className:"w-full p-4 bg-gray-50 rounded-lg border border-gray-100 text-left",children:[b.jsxs("h4",{className:"font-bold text-gray-700 mb-2 flex items-center gap-2",children:[b.jsx(_S,{size:16})," Dados em Tempo Real"]}),b.jsx("p",{className:"text-sm text-gray-500",children:"Os dados deste relatrio esto sendo coletados. Assim que houver movimentao suficiente, os grficos aparecero aqui automaticamente."})]}),b.jsx(en,{onClick:()=>l(null),variant:"secondary",className:"w-full",children:"Fechar Relatrio"})]})})]})},bx=({db:s,user:e,appId:i,searchTerm:r})=>{const[l,c]=_e.useState("today"),[d,p]=_e.useState([]),[g,y]=_e.useState([]),[S,T]=_e.useState(!1),[M,B]=_e.useState({client:"",service:"",time:"",notes:""}),Z=Array.from({length:13},(W,oe)=>oe+8),te=new Date().toISOString().split("T")[0];_e.useEffect(()=>{if(!(!e||!e.uid))if(l==="today"){const W=Wr(bn(s,"artifacts",i,"users",e.uid,"appointments"),rx("date","==",te)),oe=lr(W,Ie=>{const we=Ie.docs.map(R=>({id:R.id,...R.data()}));p(we)});return()=>oe()}else{const W=Wr(bn(s,"artifacts",i,"users",e.uid,"appointments"),ea("date","desc"),ea("time","asc")),oe=lr(W,Ie=>{const we=Ie.docs.map(R=>({id:R.id,...R.data()}));y(we)});return()=>oe()}},[e,s,i,te,l]);const J=W=>{B({client:"",service:"",time:W,notes:""}),T(!0)},ce=async W=>{if(W.preventDefault(),!(!e||!e.uid))try{await wo(bn(s,"artifacts",i,"users",e.uid,"appointments"),{...M,date:te,createdAt:new Date().toISOString()}),T(!1)}catch(oe){console.error("AgendaView: Erro ao salvar:",oe),alert("Erro ao salvar agendamento.")}},ye=async W=>{if(confirm("Tem certeza que deseja cancelar este agendamento?"))try{await bo(rs(s,"artifacts",i,"users",e.uid,"appointments",W))}catch(oe){console.error("AgendaView: Erro ao deletar:",oe)}};return b.jsxs("div",{className:"space-y-4 h-full flex flex-col",children:[b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Agenda"}),b.jsx("div",{className:"flex gap-2",children:b.jsxs("div",{className:"flex bg-gray-100 p-1 rounded-lg",children:[b.jsx("button",{onClick:()=>c("today"),className:`px-4 py-1.5 text-sm font-bold rounded-md transition-all ${l==="today"?"bg-white text-azuri-600 shadow-sm":"text-gray-500"}`,children:"Hoje"}),b.jsx("button",{onClick:()=>c("history"),className:`px-4 py-1.5 text-sm font-bold rounded-md transition-all ${l==="history"?"bg-white text-azuri-600 shadow-sm":"text-gray-500"}`,children:"Histrico"})]})})]}),l==="today"?b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"text-right text-azuri-600 font-bold text-sm mb-2",children:new Date().toLocaleDateString("pt-BR")}),b.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:Z.map(W=>{const oe=`${W}:00`,Ie=d.find(we=>we.time===oe);return b.jsxs("div",{className:"flex border-b border-gray-100 last:border-0 min-h-[60px] group hover:bg-gray-50 transition-colors",children:[b.jsx("div",{className:"w-16 border-r border-gray-100 p-3 text-sm font-semibold text-gray-500 flex items-start justify-center",children:oe}),b.jsx("div",{className:"flex-1 p-2 relative",children:Ie?b.jsxs("div",{className:"bg-azuri-100 border-l-4 border-azuri-500 rounded p-2 text-xs cursor-pointer hover:opacity-90 flex justify-between items-start",children:[b.jsxs("div",{children:[b.jsx("div",{className:"font-bold text-azuri-900",children:Ie.client}),b.jsx("div",{className:"text-azuri-700",children:Ie.service})]}),b.jsx("button",{onClick:()=>ye(Ie.id),className:"text-azuri-400 hover:text-red-500 p-1",children:b.jsx(US,{size:14})})]}):b.jsx("button",{onClick:()=>J(oe),className:"opacity-0 group-hover:opacity-100 absolute inset-0 flex items-center justify-center w-full h-full",children:b.jsxs("span",{className:"bg-azuri-600 text-white text-xs px-3 py-1.5 rounded-full shadow-sm hover:bg-azuri-700 transition-colors flex items-center gap-1",children:[b.jsx(Ah,{size:12})," Agendar"]})})})]},W)})})]}):b.jsx(Vi,{className:"flex-1 overflow-hidden flex flex-col p-0",children:b.jsx(Ro,{columns:[{header:"Data",accessor:"date",render:W=>b.jsx("span",{className:"text-gray-600 font-medium",children:new Date(W.date).toLocaleDateString("pt-BR")})},{header:"Horrio",accessor:"time",render:W=>b.jsx("span",{className:"bg-gray-100 px-2 py-1 rounded text-xs font-bold text-gray-600",children:W.time})},{header:"Cliente",accessor:"client",render:W=>b.jsx("span",{className:"font-bold text-gray-800",children:W.client})},{header:"Servio",accessor:"service",render:W=>b.jsx("span",{className:"text-azuri-600",children:W.service})},{header:"Obs",accessor:"notes",render:W=>b.jsx("span",{className:"text-gray-400 text-xs italic truncate max-w-[150px] block",children:W.notes||"-"})}],data:g.filter(W=>W.client?.toLowerCase().includes(r?.toLowerCase()||"")||W.service?.toLowerCase().includes(r?.toLowerCase()||"")),onDelete:ye})}),S&&b.jsx(aa,{title:`Novo Agendamento - ${M.time}`,onClose:()=>T(!1),children:b.jsxs("form",{onSubmit:ce,className:"space-y-4",children:[b.jsx(ut,{label:"Nome do Cliente",value:M.client,onChange:W=>B({...M,client:W.target.value}),required:!0}),b.jsx(ut,{label:"Servio",value:M.service,onChange:W=>B({...M,service:W.target.value}),required:!0}),b.jsx(ut,{label:"Observaes",value:M.notes,onChange:W=>B({...M,notes:W.target.value})}),b.jsx(en,{className:"w-full",type:"submit",children:"Confirmar Agendamento"})]})})]})},wx=({user:s,onSaveSettings:e})=>{const[i,r]=_e.useState({businessName:s?.businessName||"",userName:s?.userName||"",email:s?.email||"",cardRateCredit:s?.cardRateCredit||0,cardRateDebit:s?.cardRateDebit||0});return b.jsxs("div",{className:"space-y-6",children:[b.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Configuraes"}),b.jsxs(Vi,{children:[b.jsx("h3",{className:"font-bold text-gray-800 mb-4 border-b pb-2",children:"Dados da Empresa"}),b.jsx(ut,{label:"Nome da Empresa",value:i.businessName,onChange:l=>r({...i,businessName:l.target.value})}),b.jsx(ut,{label:"Seu Nome",value:i.userName,onChange:l=>r({...i,userName:l.target.value})})]}),b.jsx(en,{onClick:()=>e(i),className:"w-full py-3",children:"Salvar Alteraes"})]})};function Rx(){const[s,e]=_e.useState(null),[i,r]=_e.useState(null),[l,c]=_e.useState("dashboard"),[d,p]=_e.useState(!1),[g,y]=_e.useState([]),[S,T]=_e.useState(!0),[M,B]=_e.useState(""),Z=s?{...s,...i}:null;_e.useEffect(()=>{const oe=k2(Gl,Ie=>{e(Ie),Ie||r(null),T(!1)});return()=>oe()},[]),_e.useEffect(()=>{if(!s||!s.uid)return;const oe=Wr(bn(Wn,"artifacts",ei,"users",s.uid,"transactions"),ea("date","desc")),Ie=lr(oe,R=>{const w=R.docs.map(C=>({id:C.id,...C.data()}));w.sort((C,V)=>new Date(V.date)-new Date(C.date)),y(w)},R=>{console.error("Erro ao buscar transaes:",R)}),we=lr(rs(Wn,"artifacts",ei,"users",s.uid,"settings","profile"),R=>{R.exists()&&r(R.data())});return()=>{Ie(),we()}},[s]);const te=async()=>{try{await L2(Gl)}catch(oe){console.error("Erro ao sair:",oe)}},J=async oe=>{s&&await wo(bn(Wn,"artifacts",ei,"users",s.uid,"transactions"),oe)},ce=async oe=>{s&&await bo(rs(Wn,"artifacts",ei,"users",s.uid,"transactions",oe))},ye=async oe=>{s&&(await lx(rs(Wn,"artifacts",ei,"users",s.uid,"settings","profile"),oe,{merge:!0}),alert("Salvo com sucesso!"))},W=[{id:"dashboard",label:"Resumo",icon:B0},{id:"agenda",label:"Agenda",icon:j0},{id:"financial",label:"Financeiro",icon:Mm},{id:"clients",label:"Clientes",icon:G0},{id:"services",label:"Servios & Pacotes",icon:MS},{id:"products",label:"Produtos & Estoque",icon:F0},{id:"professionals",label:"Profissionais",icon:z0},{id:"reports",label:"Relatrios",icon:H0},{id:"settings",label:"Configuraes",icon:rm}];return S?b.jsx("div",{className:"h-screen flex items-center justify-center text-azuri-600 font-bold",children:"Iniciando..."}):s?b.jsxs("div",{className:"flex h-screen bg-gray-50 font-sans overflow-hidden",children:[b.jsx("aside",{className:`fixed inset-y-0 left-0 z-30 w-64 bg-white border-r border-gray-200 transform transition-transform duration-300 lg:translate-x-0 ${d?"translate-x-0":"-translate-x-full"}`,children:b.jsxs("div",{className:"h-full flex flex-col",children:[b.jsx("div",{className:"h-16 flex items-center px-6 border-b border-gray-100 bg-azuri-600 text-white",children:b.jsxs("div",{className:"font-bold text-xl flex items-center gap-2",children:[b.jsx("div",{className:"bg-white text-azuri-600 p-1 rounded-md",children:b.jsx(rm,{size:16})}),"Gearle"]})}),b.jsxs("div",{className:"p-4 bg-azuri-50 border-b border-azuri-100",children:[b.jsx("p",{className:"text-xs text-azuri-600 font-bold uppercase",children:"Logado como"}),b.jsx("p",{className:"font-bold text-gray-800 truncate text-sm",children:s?.businessName||s?.displayName||"Minha Empresa"})]}),b.jsx("nav",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:W.map(oe=>b.jsxs("button",{onClick:()=>{c(oe.id),p(!1)},className:`w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-lg transition-colors ${l===oe.id?"bg-azuri-100 text-azuri-700":"text-gray-600 hover:bg-gray-50"}`,children:[b.jsx(oe.icon,{size:18,className:l===oe.id?"text-azuri-600":"text-gray-400"}),oe.label]},oe.id))}),b.jsx("div",{className:"p-4 border-t border-gray-100",children:b.jsxs("button",{onClick:te,className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-red-500 hover:bg-red-50 rounded-lg transition-colors",children:[b.jsx(wS,{size:18})," Sair da Conta"]})})]})}),d&&b.jsx("div",{className:"fixed inset-0 bg-black/20 z-20 lg:hidden",onClick:()=>p(!1)}),b.jsxs("main",{className:"flex-1 flex flex-col h-full w-full lg:pl-64",children:[b.jsxs("header",{className:"h-16 bg-white border-b border-gray-200 flex items-center justify-between px-4 lg:px-8 sticky top-0 z-10",children:[b.jsx("button",{onClick:()=>p(!d),className:"lg:hidden p-2 text-gray-600",children:b.jsx(NS,{size:24})}),b.jsx("h1",{className:"text-lg font-bold text-gray-700 lg:hidden",children:W.find(oe=>oe.id===l)?.label}),b.jsxs("div",{className:"flex items-center gap-4 ml-auto",children:[b.jsxs("div",{className:"relative hidden md:block",children:[b.jsx(kS,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),b.jsx("input",{type:"text",placeholder:"Pesquisar...",value:M,onChange:oe=>B(oe.target.value),className:"pl-10 pr-4 py-2 bg-gray-100 border-transparent focus:bg-white focus:border-azuri-300 focus:ring-2 focus:ring-azuri-100 outline-none rounded-full text-sm transition-all w-64"})]}),b.jsx("div",{className:"w-8 h-8 bg-azuri-100 rounded-full flex items-center justify-center text-azuri-700 font-bold text-sm",children:Z?.email?.[0]?.toUpperCase()||"G"})]})]}),b.jsx("div",{className:"flex-1 overflow-y-auto p-4 lg:p-8 bg-gray-50",children:b.jsxs("div",{className:"max-w-5xl mx-auto h-full",children:[l==="dashboard"&&b.jsx(yx,{transactions:g,onNavigate:c}),l==="financial"&&b.jsx(_x,{transactions:g,onAddTransaction:J,onDeleteTransaction:ce,searchTerm:M}),l==="agenda"&&b.jsx(bx,{db:Wn,user:Z,appId:ei,searchTerm:M}),l==="clients"&&b.jsx(vx,{db:Wn,user:Z,appId:ei,searchTerm:M}),l==="services"&&b.jsx(Ex,{db:Wn,user:Z,appId:ei,searchTerm:M}),l==="products"&&b.jsx(Tx,{db:Wn,user:Z,appId:ei,searchTerm:M}),l==="professionals"&&b.jsx(Ax,{db:Wn,user:Z,appId:ei,searchTerm:M}),l==="reports"&&b.jsx(Sx,{db:Wn,user:Z,appId:ei}),l==="settings"&&b.jsx(wx,{user:Z,onSaveSettings:ye})]})})]})]}):b.jsx(gx,{})}nS.createRoot(document.getElementById("root")).render(b.jsx(_e.StrictMode,{children:b.jsx(Rx,{})}));
